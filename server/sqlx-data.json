{"db": "PostgreSQL", "00974981dc64a2d18deea84285c5da6ef2892aa199c90d102d508a315914680e": {"query": "\n                SELECT DISTINCT user_id AS \"user_id!\"\n                FROM squadov.view_share_connections_access_users\n                WHERE video_uuid = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "user_id!", "type_info": "Int8"}], "parameters": {"Left": ["Uuid"]}, "nullable": [true]}}, "00f60afe7ba029d1ff594d6c66bffb740fdc139111944bfdee94285128979c58": {"query": "\n            SELECT DISTINCT\n                du.id::VARCHAR AS \"id!\",\n                du.username,\n                du.discriminator,\n                du.avatar\n            FROM squadov.user_discord_link AS udl\n            INNER JOIN squadov.discord_users AS du\n                ON du.id = udl.discord_snowflake\n            WHERE udl.user_id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id!", "type_info": "Varchar"}, {"ordinal": 1, "name": "username", "type_info": "Varchar"}, {"ordinal": 2, "name": "discriminator", "type_info": "Varchar"}, {"ordinal": 3, "name": "avatar", "type_info": "Varchar"}], "parameters": {"Left": ["Int8"]}, "nullable": [null, false, false, true]}}, "0197b466c42ac5a9d0e72fcef1fd12825361feb04190aaa98d3169ddbd922a1f": {"query": "\n        INSERT INTO squadov.squad_invite_links (\n            squad_id,\n            user_id,\n            create_time\n        )\n        VALUES (\n            $1,\n            $2,\n            NOW()\n        )\n        RETURNING *\n        ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "squad_id", "type_info": "Int8"}, {"ordinal": 2, "name": "user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "create_time", "type_info": "Timestamptz"}, {"ordinal": 4, "name": "expire_time", "type_info": "Timestamptz"}, {"ordinal": 5, "name": "max_uses", "type_info": "Int4"}], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": [false, false, false, false, true, true]}}, "020b942a27bb1ad47212f6634550b8a8fbdc309d83f1e8b5662f8297b271246e": {"query": "\n        INSERT INTO squadov.riot_accounts (\n            puuid,\n            account_id,\n            summoner_id,\n            summoner_name\n        )\n        VALUES (\n            $1,\n            $2,\n            $3,\n            $4\n        )\n        ON CONFLICT (puuid) DO UPDATE\n            SET account_id = EXCLUDED.account_id,\n                summoner_id = EXCLUDED.summoner_id,\n                summoner_name = EXCLUDED.summoner_name\n        ", "describe": {"columns": [], "parameters": {"Left": ["Varchar", "Varchar", "Varchar", "Varchar"]}, "nullable": []}}, "022903c91e5552e27bb19fc369a246368c42fd1b1f51002326cb1811bbc41e75": {"query": "\n            INSERT INTO squadov.squad_sharing_wow_filters (\n                squad_id,\n                disable_arenas,\n                disable_bgs,\n                disable_dungeons,\n                disable_encounters,\n                disable_keystones,\n                disabled_releases\n            )\n            VALUES (\n                $1,\n                $2,\n                $3,\n                $4,\n                $5,\n                $6,\n                $7\n            )\n            ON CONFLICT (squad_id) DO UPDATE SET\n                disable_arenas = EXCLUDED.disable_arenas,\n                disable_bgs = EXCLUDED.disable_bgs,\n                disable_dungeons = EXCLUDED.disable_dungeons,\n                disable_encounters = EXCLUDED.disable_encounters,\n                disable_keystones = EXCLUDED.disable_keystones,\n                disabled_releases = EXCLUDED.disabled_releases\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Bool", "Bool", "Bool", "Bool", "Bool", "Int4Array"]}, "nullable": []}}, "02e65032b952e0a51d211a7bde2e18c815425b2d2b592aabd088f83c7ff8e92e": {"query": "\n        SELECT lmt.*\n        FROM squadov.lol_match_timeline AS lmt\n        WHERE lmt.match_uuid = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "frame_interval", "type_info": "Int8"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false]}}, "031fa46c224d4464c919d85c621bad07a5b9a033eff59b8a4ad06e5a613e3250": {"query": "\n            SELECT lm.game_start_time\n            FROM squadov.lol_matches AS lm\n            WHERE lm.match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "game_start_time", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid"]}, "nullable": [true]}}, "03c1e0a82d4e1017c581c01d46504d1643622b4d6ec8cf622ac284131940c1cd": {"query": "\n            SELECT DISTINCT\n                wmv.match_uuid AS \"match_uuid!\",\n                u.uuid AS \"player_uuid!\",\n                wmv.start_tm\n            FROM squadov.wow_match_view AS wmv\n            INNER JOIN squadov.wow_challenge_view AS wav\n                ON wav.view_id = wmv.id\n            INNER JOIN squadov.wow_match_view_character_presence AS wcp\n                ON wcp.view_id = wmv.id\n            INNER JOIN squadov.wow_match_view_combatants AS wvc\n                ON wvc.character_id = wcp.character_id\n            INNER JOIN squadov.users AS u\n                ON u.id = wmv.user_id\n            CROSS JOIN LATERAL (\n                SELECT ',' || STRING_AGG(val::VARCHAR, ',') || ',' AS vv\n                FROM (\n                    SELECT MIN(wvc.spec_id)\n                    FROM squadov.wow_match_view_character_presence AS wcp\n                    INNER JOIN squadov.wow_match_view_combatants AS wvc\n                        ON wvc.character_id = wcp.character_id\n                    WHERE wcp.view_id = wmv.id\n                    GROUP BY wcp.view_id, wcp.unit_guid\n                ) sub(val)\n            ) AS specs(s)\n            LEFT JOIN squadov.vods AS v\n                ON v.match_uuid = wmv.match_uuid\n                    AND v.user_uuid = u.uuid\n                    AND v.is_clip = FALSE\n            LEFT JOIN squadov.view_share_connections_access_users AS sau\n                ON sau.match_uuid = wmv.match_uuid\n                    AND sau.user_id = $7\n            WHERE wmv.user_id = $2\n                AND wcp.unit_guid = $1\n                AND wmv.match_uuid IS NOT NULL\n                AND (CARDINALITY($5::INTEGER[]) = 0 OR wav.instance_id = ANY($5))\n                AND (NOT $6::BOOLEAN OR v.video_uuid IS NOT NULL)\n                AND ($2 = $7 OR sau.match_uuid IS NOT NULL)\n                AND ($8::BOOLEAN IS NULL OR wav.success = $8)\n                AND ($9::INTEGER IS NULL OR wav.keystone_level >= $9)\n                AND ($10::INTEGER IS NULL OR wav.keystone_level <= $10)\n                AND (CARDINALITY($11::INTEGER[]) = 0 OR wvc.spec_id = ANY($11))\n                AND specs.s ~ $12\n            ORDER BY wmv.start_tm DESC, wmv.match_uuid, u.uuid\n            LIMIT $3 OFFSET $4\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "player_uuid!", "type_info": "Uuid"}, {"ordinal": 2, "name": "start_tm", "type_info": "Timestamptz"}], "parameters": {"Left": ["Text", "Int8", "Int8", "Int8", "Int4Array", "Bool", "Int8", "Bool", "Int4", "Int4", "Int4Array", "Text"]}, "nullable": [true, false, false]}}, "0428a1fc0d342165a6a044ddb99b04f21b8cf5f94d485032e3aa18cd29d3f843": {"query": "\n        INSERT INTO squadov.twitch_event_subscriptions (\n            id,\n            sub,\n            raw_data\n        ) VALUES (\n            $1,\n            $2,\n            $3\n        )\n        ", "describe": {"columns": [], "parameters": {"Left": ["Varchar", "Varchar", "Jsonb"]}, "nullable": []}}, "06924108c0da13d78eac8195c0a7507b8e984b819f8031fa2626e2812abf8bfc": {"query": "\n            SELECT u.uuid, lmpi.participant_id\n            FROM squadov.lol_match_participant_identities AS lmpi\n            INNER JOIN squadov.riot_accounts AS ra\n                ON ra.summoner_id = lmpi.summoner_id\n            INNER JOIN squadov.riot_account_links AS ral\n                ON ral.puuid = ra.puuid\n            INNER JOIN squadov.users AS u\n                ON u.id = ral.user_id\n            WHERE lmpi.match_uuid = $1\n                AND u.uuid = ANY($2)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "participant_id", "type_info": "Int4"}], "parameters": {"Left": ["Uuid", "UuidArray"]}, "nullable": [false, false]}}, "088b03cc7496681c1b942904373fd965d15a20d35263913c60b52750ff1ec822": {"query": "\n            INSERT INTO squadov.wow_user_character_cache (\n                user_id,\n                unit_guid,\n                unit_name,\n                spec_id,\n                class_id,\n                items,\n                cache_time,\n                build_version\n            )\n            SELECT DISTINCT ON (data.user_id, data.unit_guid)\n                data.user_id,\n                data.unit_guid,\n                wcp.unit_name,\n                wvc.spec_id,\n                wvc.class_id,\n                ARRAY_AGG(wci.ilvl ORDER BY wci.idx ASC),\n                NOW(),\n                wmv.build_version\n            FROM UNNEST($1::BIGINT[], $2::VARCHAR[], $3::UUID[]) AS data(user_id, unit_guid, view_id)\n            INNER JOIN squadov.wow_match_view_character_presence AS wcp\n                ON wcp.view_id = data.view_id\n                    AND wcp.unit_guid = data.unit_guid\n            INNER JOIN squadov.wow_match_view_combatants AS wvc\n                ON wvc.character_id = wcp.character_id\n            INNER JOIN squadov.wow_match_view AS wmv\n                ON wmv.id = data.view_id\n            LEFT JOIN squadov.wow_match_view_combatant_items AS wci\n                ON wci.event_id = wvc.event_id\n            GROUP BY data.user_id, data.unit_guid, wcp.unit_name, wvc.spec_id, wvc.class_id, wmv.build_version, wvc.event_id\n            ORDER BY data.user_id, data.unit_guid, wvc.event_id DESC\n            ON CONFLICT (user_id, unit_guid) DO UPDATE SET\n                unit_name = EXCLUDED.unit_name,\n                spec_id = EXCLUDED.spec_id,\n                class_id = EXCLUDED.class_id,\n                items = EXCLUDED.items,\n                cache_time = EXCLUDED.cache_time,\n                build_version = EXCLUDED.build_version\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8Array", "VarcharArray", "UuidArray"]}, "nullable": []}}, "089bb1331035647563769932a352c2ebca473988956d80a52ecd9e666d381568": {"query": "\n            SELECT\n                encrypted_token AS \"data\",\n                iv,\n                aad,\n                tag\n            FROM squadov.share_tokens\n            WHERE id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "data", "type_info": "Bytea"}, {"ordinal": 1, "name": "iv", "type_info": "Bytea"}, {"ordinal": 2, "name": "aad", "type_info": "Bytea"}, {"ordinal": 3, "name": "tag", "type_info": "Bytea"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false]}}, "0aade85bc5a26ede2baff94dfd1504d3b63342d66d3ccb112f2296401518bb4a": {"query": "\n            DELETE FROM squadov.wow_instance_view\n            WHERE view_id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid"]}, "nullable": []}}, "0abb5e887740fc1b1fe9ed9bbc4a4934ceb21caca992bc02b756beadfa98ca69": {"query": "\n        SELECT *\n        FROM squadov.csgo_event_container\n        WHERE view_uuid = $1\n        ORDER BY event_source DESC\n        LIMIT 1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "view_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "event_source", "type_info": "Int4"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false]}}, "0ad1a14186bc008dcd773130ff3b3f4aea2cb864417b4a030255712bb4693cc9": {"query": "\n        INSERT INTO squadov.discord_users (\n            id,\n            username,\n            discriminator,\n            avatar\n        ) VALUES (\n            $1,\n            $2,\n            $3,\n            $4\n        )\n        ON CONFLICT (id) DO UPDATE SET\n            username = EXCLUDED.username,\n            discriminator = EXCLUDED.discriminator,\n            avatar = EXCLUDED.avatar\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Varchar", "Varchar", "Varchar"]}, "nullable": []}}, "0aecb5366a7a671af55c384e62a2441acd8e98d7773c33c542ee4dd671f413d3": {"query": "\n        SELECT\n            tmpt.match_uuid AS \"match_uuid!\",\n            tmpt.name AS \"name!\",\n            tmpt.num_units AS \"num_units!\",\n            tmpt.style AS \"style!\",\n            tmpt.tier_current AS \"tier_current!\",\n            tmpt.tier_total AS \"tier_total!\",\n            u.uuid AS \"user_uuid!\"\n        FROM UNNEST($1::UUID[], $2::UUID[]) AS inp(match_uuid, user_uuid)\n        INNER JOIN squadov.users AS u\n            ON u.uuid = inp.user_uuid\n        INNER JOIN squadov.riot_account_links AS ral\n            ON ral.user_id = u.id\n        INNER JOIN squadov.tft_match_participant_traits AS tmpt\n            ON tmpt.match_uuid = inp.match_uuid\n                AND tmpt.puuid = ral.puuid\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "name!", "type_info": "Varchar"}, {"ordinal": 2, "name": "num_units!", "type_info": "Int4"}, {"ordinal": 3, "name": "style!", "type_info": "Int4"}, {"ordinal": 4, "name": "tier_current!", "type_info": "Int4"}, {"ordinal": 5, "name": "tier_total!", "type_info": "Int4"}, {"ordinal": 6, "name": "user_uuid!", "type_info": "Uuid"}], "parameters": {"Left": ["UuidArray", "UuidArray"]}, "nullable": [true, true, true, true, true, true, true]}}, "0b09a719a6222dcf345086ed6b4768bc07807645199766eb1a70c2fa78761a12": {"query": "\n                SELECT\n                    sq.id AS \"id!\",\n                    sq.squad_name AS \"squad_name!\",\n                    sq.creation_time AS \"creation_time!\",\n                    sq.member_count AS \"member_count!\",\n                    sq.pending_invite_count AS \"pending_invite_count!\",\n                    sq.is_public AS \"is_public!\",\n                    sq.is_discoverable AS \"is_discoverable!\"\n                FROM squadov.squad_overview AS sq\n                LEFT JOIN squadov.squad_role_assignments AS sra\n                    ON sra.squad_id = sq.id\n                        AND sra.user_id = $1\n                WHERE sq.is_public AND sq.is_discoverable AND sra.squad_id IS NULL\n                ", "describe": {"columns": [{"ordinal": 0, "name": "id!", "type_info": "Int8"}, {"ordinal": 1, "name": "squad_name!", "type_info": "Varchar"}, {"ordinal": 2, "name": "creation_time!", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "member_count!", "type_info": "Int8"}, {"ordinal": 4, "name": "pending_invite_count!", "type_info": "Int8"}, {"ordinal": 5, "name": "is_public!", "type_info": "Bool"}, {"ordinal": 6, "name": "is_discoverable!", "type_info": "Bool"}], "parameters": {"Left": ["Int8"]}, "nullable": [true, true, true, true, true, true, true]}}, "0b609ab4344def65bf0882108854be292ee4eb274f8f79fe826b030bd2b256c3": {"query": "\n                SELECT\n                    wcp.unit_guid AS \"guid!\",\n                    SUM(wde.amount) AS \"value!\"\n                FROM squadov.wow_match_view AS wmv\n                INNER JOIN squadov.wow_match_view_events AS wve\n                    ON wve.view_id = wmv.alt_id\n                INNER JOIN squadov.wow_match_view_character_presence AS wcp\n                    ON wcp.character_id = wve.dest_char\n                INNER JOIN squadov.wow_match_view_damage_events AS wde\n                    ON wde.event_id = wve.event_id\n                WHERE wmv.match_uuid = $1\n                    AND wmv.user_id = $2\n                    AND wcp.unit_guid = ANY($3)\n                GROUP BY wcp.unit_guid\n                ", "describe": {"columns": [{"ordinal": 0, "name": "guid!", "type_info": "Varchar"}, {"ordinal": 1, "name": "value!", "type_info": "Int8"}], "parameters": {"Left": ["Uuid", "Int8", "TextArray"]}, "nullable": [false, null]}}, "0bd26186a44f54beee9c3c73318a49c25e1cc59fdccd0e24c8192b16d745ec30": {"query": "\n            WITH series(tm) AS (\n                SELECT *\n                FROM generate_series(\n                    DATE_TRUNC('month', $1::TIMESTAMPTZ),\n                    DATE_TRUNC('month', $2::TIMESTAMPTZ),\n                    INTERVAL '1 month'\n                )\n            )\n            SELECT\n                s.tm AS \"tm!\",\n                COALESCE(das.users, 0) AS \"session!\",\n                COALESCE(dae.users, 0) AS \"endpoint!\",\n                COALESCE(dav.users, 0) AS \"vod!\"\n            FROM series AS s\n            LEFT JOIN squadov.view_monthly_active_user_sessions AS das\n                ON das.tm = s.tm\n            LEFT JOIN squadov.view_monthly_active_user_endpoint AS dae\n                ON dae.tm = s.tm\n            LEFT JOIN squadov.view_monthly_active_vod_users AS dav\n                ON dav.tm = s.tm\n            ORDER BY s.tm ASC\n            ", "describe": {"columns": [{"ordinal": 0, "name": "tm!", "type_info": "Timestamptz"}, {"ordinal": 1, "name": "session!", "type_info": "Int8"}, {"ordinal": 2, "name": "endpoint!", "type_info": "Int8"}, {"ordinal": 3, "name": "vod!", "type_info": "Int8"}], "parameters": {"Left": ["Timestamptz", "Timestamptz"]}, "nullable": [null, null, null, null]}}, "0bdc878b0ff4f5d3e668f6f8ff0353d45a71af07f4a3ecdc0916accbcf466409": {"query": "\n            SELECT COALESCE(\n                (\n                    SELECT 1\n                    FROM squadov.clip_reacts AS cr\n                    WHERE cr.clip_uuid = $1\n                        AND cr.user_id = $2\n                ),\n                0\n            ) AS \"num!\"\n            ", "describe": {"columns": [{"ordinal": 0, "name": "num!", "type_info": "Int4"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [null]}}, "0ca70f945bc5f7059da731266dbddb2a54ddb27af9a33c3a6fe2b61e4e4a27bb": {"query": "\n        DELETE FROM squadov.match_custom_events\n        WHERE event_id = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8"]}, "nullable": []}}, "0d326a270e2b8fba22495fdb4a347cc1ff752d4e12ecbd29012a3abb6af78ca4": {"query": "\n            DELETE FROM squadov.squads\n            WHERE id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8"]}, "nullable": []}}, "0d447061db098d173c2555eb0d7e437f1d4034f668c131f022c568390b356b87": {"query": "\n            SELECT\n                wve.tm,\n                see.encounter_name,\n                see.is_start\n            FROM squadov.wow_match_view_subencounter_events AS see\n            INNER JOIN squadov.wow_match_view_events AS wve\n                ON wve.event_id = see.event_id\n            INNER JOIN squadov.wow_match_view AS wmv\n                ON wmv.alt_id = wve.view_id\n            WHERE wmv.id = $1\n            ORDER BY wve.tm ASC\n            ", "describe": {"columns": [{"ordinal": 0, "name": "tm", "type_info": "Timestamptz"}, {"ordinal": 1, "name": "encounter_name", "type_info": "Varchar"}, {"ordinal": 2, "name": "is_start", "type_info": "Bool"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false]}}, "0db34b6ccbdf3cfff1d46c22b3190bf8b6dad430bfafbbea8f7f5afd53d7ec72": {"query": "\n        SELECT u.username, u.registration_time, ta.twitch_name AS \"twitch_name?\"\n        FROM squadov.users AS u\n        LEFT JOIN squadov.linked_twitch_accounts AS lta\n            ON lta.user_id = u.id\n        LEFT JOIN squadov.twitch_accounts AS ta\n            ON ta.twitch_user_id = lta.twitch_user_id\n        WHERE u.id = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "username", "type_info": "Varchar"}, {"ordinal": 1, "name": "registration_time", "type_info": "Timestamptz"}, {"ordinal": 2, "name": "twitch_name?", "type_info": "Varchar"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, true, false]}}, "0e4d5d57913b669a448bc55930154dcde0449cd7730dd741f5fb351585ae6b8c": {"query": "\n            DELETE FROM squadov.share_match_vod_connections\n            WHERE video_uuid = $1 AND dest_squad_id = $2\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "0ef40abf3fe3e4ffa135316ea711cdb7b12d38aabb2e735d6863415ff0a34728": {"query": "\n            SELECT\n                source.unit_guid AS \"source_guid\",\n                COALESCE(source.unit_name, source.unit_guid) AS \"source_name!\",\n                COALESCE(wve.source_flags, source.flags) AS \"source_flags!\",\n                dest.unit_guid AS \"target_guid?\",\n                COALESCE(dest.unit_name, dest.unit_guid) AS \"target_name?\",\n                COALESCE(wve.dest_flags, dest.flags) AS \"target_flags?\",\n                msce.spell_id,\n                msce.spell_school,\n                msce.is_start,\n                msce.is_finish,\n                msce.success,\n                wve.tm,\n                wve.log_line\n            FROM squadov.wow_match_view_spell_cast_events AS msce\n            INNER JOIN squadov.wow_match_view_events AS wve\n                ON wve.event_id = msce.event_id\n            INNER JOIN squadov.wow_match_view_character_presence AS source\n                ON source.character_id = wve.source_char\n            LEFT JOIN squadov.wow_match_view_character_presence AS dest\n                ON dest.character_id = wve.dest_char\n            INNER JOIN squadov.wow_match_view AS wmv\n                ON wmv.alt_id = wve.view_id\n            WHERE wmv.id = $1\n            ORDER BY wve.log_line ASC\n            ", "describe": {"columns": [{"ordinal": 0, "name": "source_guid", "type_info": "Varchar"}, {"ordinal": 1, "name": "source_name!", "type_info": "Varchar"}, {"ordinal": 2, "name": "source_flags!", "type_info": "Int8"}, {"ordinal": 3, "name": "target_guid?", "type_info": "Varchar"}, {"ordinal": 4, "name": "target_name?", "type_info": "Varchar"}, {"ordinal": 5, "name": "target_flags?", "type_info": "Int8"}, {"ordinal": 6, "name": "spell_id", "type_info": "Int8"}, {"ordinal": 7, "name": "spell_school", "type_info": "Int4"}, {"ordinal": 8, "name": "is_start", "type_info": "Bool"}, {"ordinal": 9, "name": "is_finish", "type_info": "Bool"}, {"ordinal": 10, "name": "success", "type_info": "Bool"}, {"ordinal": 11, "name": "tm", "type_info": "Timestamptz"}, {"ordinal": 12, "name": "log_line", "type_info": "Int8"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, null, null, false, null, null, false, false, false, false, false, false, false]}}, "0f0b8630aa0ead1aa0fc00a1a7d4e5ab35e866cd0500bf4c596538183f90da60": {"query": "\n        DELETE FROM squadov.riot_accounts\n        WHERE puuid = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Text"]}, "nullable": []}}, "0f1e6d7867f3ade47b16c6643996319a592c84cd9d4d421ec8962a576dc54c8d": {"query": "\n        SELECT ra.puuid, ra.game_name, ra.tag_line\n        FROM squadov.riot_accounts AS ra\n        INNER JOIN squadov.riot_account_links AS ral\n            ON ral.puuid = ra.puuid\n        WHERE ral.user_id = $1\n            AND ra.game_name = $2\n            AND ra.tag_line = $3\n        ", "describe": {"columns": [{"ordinal": 0, "name": "puuid", "type_info": "Varchar"}, {"ordinal": 1, "name": "game_name", "type_info": "Varchar"}, {"ordinal": 2, "name": "tag_line", "type_info": "Varchar"}], "parameters": {"Left": ["Int8", "Text", "Text"]}, "nullable": [false, true, true]}}, "0f21a011e30e17baa3444f73af12378063a65eeab2ed53f806fbfef89a1a35ed": {"query": "\n            SELECT ra.puuid, ra.game_name, ra.tag_line\n            FROM squadov.riot_accounts AS ra\n            INNER JOIN squadov.riot_account_links AS ral\n                ON ral.puuid = ra.puuid\n            WHERE ra.raw_puuid = $1\n                AND ral.user_id = $2\n            ", "describe": {"columns": [{"ordinal": 0, "name": "puuid", "type_info": "Varchar"}, {"ordinal": 1, "name": "game_name", "type_info": "Varchar"}, {"ordinal": 2, "name": "tag_line", "type_info": "Varchar"}], "parameters": {"Left": ["Text", "Int8"]}, "nullable": [false, true, true]}}, "0f35596b6fdafe1d70ecb524044bcff6a60494897c8d0ddc1e9046a8bca2d6a4": {"query": "\n            INSERT INTO squadov.referral_downloads (\n                code,\n                tm\n            )\n            SELECT c.id, NOW()\n            FROM squadov.referral_codes AS c\n            WHERE c.code = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Text"]}, "nullable": []}}, "10436ce282bb357f2dd490d7a24718b637d4b7cb69aa9add13fa1fd822e260fb": {"query": "\n            SELECT\n                smi.squad_id,\n                smi.user_id,\n                smi.joined,\n                smi.response_time,\n                smi.invite_time,\n                smi.invite_uuid,\n                smi.email,\n                ur.username AS \"username?\",\n                us.username AS \"inviter_username\"\n            FROM squadov.squad_membership_invites AS smi\n            INNER JOIN squadov.users AS us\n                ON us.id = smi.inviter_user_id\n            LEFT JOIN squadov.users AS ur\n                ON ur.id = smi.user_id\n            WHERE user_id = $1 AND response_time IS NULL\n            ", "describe": {"columns": [{"ordinal": 0, "name": "squad_id", "type_info": "Int8"}, {"ordinal": 1, "name": "user_id", "type_info": "Int8"}, {"ordinal": 2, "name": "joined", "type_info": "Bool"}, {"ordinal": 3, "name": "response_time", "type_info": "Timestamptz"}, {"ordinal": 4, "name": "invite_time", "type_info": "Timestamptz"}, {"ordinal": 5, "name": "invite_uuid", "type_info": "Uuid"}, {"ordinal": 6, "name": "email", "type_info": "Varchar"}, {"ordinal": 7, "name": "username?", "type_info": "Varchar"}, {"ordinal": 8, "name": "inviter_username", "type_info": "Varchar"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, true, false, true, true, false, false, false, false]}}, "10737e3f0ab1240055bf0ddb39559113ac477c84a0bfd24b99af63c246369d6d": {"query": "\n            SELECT DISTINCT dest_user_id\n            FROM squadov.share_match_vod_connections\n            WHERE video_uuid = $1\n                AND dest_user_id IS NOT NULL\n            ", "describe": {"columns": [{"ordinal": 0, "name": "dest_user_id", "type_info": "Int8"}], "parameters": {"Left": ["Uuid"]}, "nullable": [true]}}, "107c47b9b2453000ffaac45b2945930c7e56e8fc2ddcd6f2513243a3e05fe89a": {"query": "\n                INSERT INTO squadov.matches (uuid, game)\n                VALUES ($1, $2)\n                ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int4"]}, "nullable": []}}, "112d9a871f807191b3805da0cbd651ee43599196bcb6b0bc223d682d3ef6d9e2": {"query": "\n        SELECT *\n        FROM squadov.csgo_event_container_round_player_stats\n        WHERE container_id = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "container_id", "type_info": "Int8"}, {"ordinal": 1, "name": "round_num", "type_info": "Int4"}, {"ordinal": 2, "name": "user_id", "type_info": "Int4"}, {"ordinal": 3, "name": "kills", "type_info": "Int4"}, {"ordinal": 4, "name": "deaths", "type_info": "Int4"}, {"ordinal": 5, "name": "assists", "type_info": "Int4"}, {"ordinal": 6, "name": "mvp", "type_info": "Bool"}, {"ordinal": 7, "name": "equipment_value", "type_info": "Int4"}, {"ordinal": 8, "name": "headshot_kills", "type_info": "Int4"}, {"ordinal": 9, "name": "utility_damage", "type_info": "Int4"}, {"ordinal": 10, "name": "enemies_flashed", "type_info": "Int4"}, {"ordinal": 11, "name": "damage", "type_info": "Int4"}, {"ordinal": 12, "name": "armor", "type_info": "Int4"}, {"ordinal": 13, "name": "has_defuse", "type_info": "Bool"}, {"ordinal": 14, "name": "has_helmet", "type_info": "Bool"}, {"ordinal": 15, "name": "team", "type_info": "Int4"}, {"ordinal": 16, "name": "weapons", "type_info": "Int4Array"}, {"ordinal": 17, "name": "money", "type_info": "Int4"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, false, false, false, false, false, true, true, true, true, true, true, true, true, false, false, true]}}, "115065cccf49cfdca338b8a0175b6130e1868bc5b1ee9ab88300fd0c2a1328a7": {"query": "\n            SELECT *\n            FROM squadov.user_to_user_subscriptions\n            WHERE id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "source_user_id", "type_info": "Int8"}, {"ordinal": 2, "name": "dest_user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "is_twitch", "type_info": "Bool"}, {"ordinal": 4, "name": "last_checked", "type_info": "Timestamptz"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, false, false, false]}}, "11762a606e5466075b6e46708a152c8f2bde052813405d84698baa1422a7b79a": {"query": "\n        DELETE FROM squadov.cached_twitch_subs\n        WHERE broadcast_user_id = $1\n            AND viewer_user_id = $2\n            AND tier = $3\n        ", "describe": {"columns": [], "parameters": {"Left": ["Text", "Text", "Text"]}, "nullable": []}}, "119b22584ebe92b1b6a2cb52c4eb063906539a6b4ee4ff55f68cdf029699736b": {"query": "\n            INSERT INTO squadov.squad_role_assignments (\n                squad_id,\n                user_id,\n                squad_role\n            )\n            SELECT $1, u.id, 'Member'\n            FROM squadov.squad_membership_invites AS smi\n            INNER JOIN squadov.users AS u\n                ON smi.email = u.email\n            WHERE squad_id = $1 AND invite_uuid = $2\n            RETURNING user_id\n            ", "describe": {"columns": [{"ordinal": 0, "name": "user_id", "type_info": "Int8"}], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": [false]}}, "11b8042937f17bdd07181ff4825c56f9c01442ea13fddba6969436781245f609": {"query": "\n                    SELECT EXISTS (\n                        SELECT 1\n                        FROM squadov.valorant_match_players AS vmp\n                        INNER JOIN squadov.riot_account_links AS ral\n                            ON ral.puuid = vmp.puuid\n                        WHERE ral.user_id = $1 AND vmp.match_uuid = $2\n                    ) as \"exists!\"\n                    ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": [null]}}, "125d473be1030accff127c36a96b1d94e90eae1e406b3680e25a9614b279893e": {"query": "\n                SELECT\n                    cc.id,\n                    cc.clip_uuid,\n                    u.username,\n                    cc.comment,\n                    cc.tm\n                FROM squadov.clip_comments AS cc\n                INNER JOIN squadov.users AS u\n                    ON u.id = cc.user_id\n                WHERE cc.clip_uuid = $1\n                ORDER BY cc.tm DESC\n                LIMIT $2 OFFSET $3\n                ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "clip_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "username", "type_info": "Varchar"}, {"ordinal": 3, "name": "comment", "type_info": "Varchar"}, {"ordinal": 4, "name": "tm", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid", "Int8", "Int8"]}, "nullable": [false, false, false, false, false]}}, "127691e51a7383b272de0dca6cdf522162097f14f493eec4b2f73e4f122c8ca2": {"query": "\n            SELECT EXISTS (\n                SELECT *\n                FROM squadov.vods AS v\n                INNER JOIN squadov.users AS u\n                    ON u.uuid = v.user_uuid\n                WHERE u.id = $1\n                    AND v.match_uuid = $2\n                    AND v.is_clip = FALSE\n                    AND v.is_local = FALSE\n                    AND v.end_time IS NOT NULL\n            ) AS \"exists!\"\n            ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": [null]}}, "12bf285b3635f8bc9bffe6e35834b4a3685723262e57bc8709b486300d40bdb2": {"query": "\n        DELETE FROM squadov.share_tokens\n        WHERE match_uuid = $1 AND user_id = $2\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "12e255f605d5588ac2d0059db5fa589d0e5e466bc8196d63d5890f75a53a067d": {"query": "\n        SELECT\n            hmm.game_type,\n            hmm.format_type,\n            hmm.scenario_id,\n            hm.match_time,\n            COALESCE(EXTRACT(EPOCH FROM (\n                SELECT tm\n                FROM squadov.hearthstone_snapshots\n                WHERE match_uuid = $1\n                ORDER BY last_action_id DESC\n                LIMIT 1\n            )) - EXTRACT(EPOCH FROM (\n                SELECT tm\n                FROM squadov.hearthstone_snapshots\n                WHERE match_uuid = $1\n                ORDER BY last_action_id ASC\n                LIMIT 1\n            )), 0) AS \"elapsed_seconds!\"\n        FROM squadov.hearthstone_matches AS hm\n        INNER JOIN squadov.hearthstone_match_view AS hmv\n            ON hmv.match_uuid = hm.match_uuid\n        INNER JOIN squadov.hearthstone_match_metadata AS hmm\n            ON hmm.view_uuid = hmv.view_uuid\n        WHERE hm.match_uuid = $1 AND hmv.user_id = $2\n        ", "describe": {"columns": [{"ordinal": 0, "name": "game_type", "type_info": "Int4"}, {"ordinal": 1, "name": "format_type", "type_info": "Int4"}, {"ordinal": 2, "name": "scenario_id", "type_info": "Int4"}, {"ordinal": 3, "name": "match_time", "type_info": "Timestamptz"}, {"ordinal": 4, "name": "elapsed_seconds!", "type_info": "Float8"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false, false, false, false, null]}}, "138b9ce608f9134143fd56ee20f8d00acc07e092e3338c8aa08bc31f4df32117": {"query": "\n            SELECT v.video_uuid\n            FROM squadov.vods AS v\n            INNER JOIN squadov.users AS u\n                ON u.uuid = v.user_uuid\n            WHERE v.match_uuid = $1\n                AND u.id = $2\n                AND v.is_clip = FALSE\n            ", "describe": {"columns": [{"ordinal": 0, "name": "video_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false]}}, "1451fca1a2b315bb09b30353cd140dd4edea985c2a2780cae56b69192aa958c7": {"query": "\n            UPDATE squadov.users\n            SET registration_time = $2\n            WHERE id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Timestamptz"]}, "nullable": []}}, "167051c3cd4a8035b0e913f95a8436b3a38447bceb61d8e9f408e361a114b8d9": {"query": "\n            INSERT INTO squadov.new_wow_encounters (\n                match_uuid,\n                tr,\n                combatants_key,\n                encounter_id,\n                difficulty,\n                instance_id\n            )\n            SELECT\n                $1,\n                tstzrange(wmv.start_tm, $4, '[]'),\n                $2,\n                wev.encounter_id,\n                wev.difficulty,\n                wev.instance_id\n            FROM squadov.wow_match_view AS wmv\n            INNER JOIN squadov.wow_encounter_view AS wev\n                ON wev.view_id = wmv.id\n            WHERE wmv.id = $3\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar", "Uuid", "Timestamptz"]}, "nullable": []}}, "168c76d34813ef070331294718957c030040d3c91e9f1a64d162bf8a7e1455bb": {"query": "\n            SELECT user_id\n            FROM squadov.user_profile_vods\n            WHERE video_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "user_id", "type_info": "Int8"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false]}}, "16a4431785de26e3e0c6cbcb975acbd2d29647d7c3d409d1c1c1e71c752440e4": {"query": "\n                SELECT u.id, u.username\n                FROM squadov.users AS u\n                WHERE u.id = ANY($1)\n                ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "username", "type_info": "Varchar"}], "parameters": {"Left": ["Int8Array"]}, "nullable": [false, false]}}, "16babeaf53bdb601d694251f7d1941d3c6b79c8e5cf484bcac405fd49b9c7aae": {"query": "\n            INSERT INTO squadov.user_autoshare_common_settings (user_id)\n            VALUES ($1)\n            ON CONFLICT DO NOTHING\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8"]}, "nullable": []}}, "16d608fec7016f231f0230fadd3e2982415d0ccef86c3b9a372df10b693481ab": {"query": "\n            SELECT match_uuid, platform, region, match_id\n            FROM squadov.tft_matches\n            WHERE match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "platform", "type_info": "Varchar"}, {"ordinal": 2, "name": "region", "type_info": "Varchar"}, {"ordinal": 3, "name": "match_id", "type_info": "Int8"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false]}}, "172d64da250d629a8b059b317cbf56d2b0c4127366102e0d00a5ae96d6b8c2a1": {"query": "\n            WITH series(tm) AS (\n                SELECT *\n                FROM generate_series(\n                    DATE_TRUNC('day', $1::TIMESTAMPTZ),\n                    DATE_TRUNC('day', $2::TIMESTAMPTZ),\n                    INTERVAL '1 day'\n                )\n            )\n            SELECT\n                s.tm AS \"tm!\",\n                COALESCE(das.users, 0) AS \"session!\",\n                COALESCE(dae.users, 0) AS \"endpoint!\",\n                COALESCE(dav.users, 0) AS \"vod!\"\n            FROM series AS s\n            LEFT JOIN squadov.view_daily_active_user_sessions AS das\n                ON das.tm = s.tm\n            LEFT JOIN squadov.view_daily_active_user_endpoint AS dae\n                ON dae.tm = s.tm\n            LEFT JOIN squadov.view_daily_active_vod_users AS dav\n                ON dav.tm = s.tm\n            ORDER BY s.tm ASC\n            ", "describe": {"columns": [{"ordinal": 0, "name": "tm!", "type_info": "Timestamptz"}, {"ordinal": 1, "name": "session!", "type_info": "Int8"}, {"ordinal": 2, "name": "endpoint!", "type_info": "Int8"}, {"ordinal": 3, "name": "vod!", "type_info": "Int8"}], "parameters": {"Left": ["Timestamptz", "Timestamptz"]}, "nullable": [null, null, null, null]}}, "1733eccbb119a20365f0bbcbc237edb342233254a9b3b7d94994097b12ce798c": {"query": "\n        INSERT INTO squadov.lol_matches (\n            match_uuid,\n            platform,\n            match_id,\n            game_start_time\n        )\n        VALUES (\n            $1,\n            $2,\n            $3,\n            $4\n        )\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar", "Int8", "Timestamptz"]}, "nullable": []}}, "17434ae666690b6e1266d2a450c79d12b5b4e33a00e0c764c13a00b99a1c79ed": {"query": "\n        DELETE FROM squadov.user_profile_vods\n        WHERE user_id = $2\n            AND video_uuid IN (\n                SELECT v.video_uuid\n                FROM squadov.vods AS v\n                INNER JOIN squadov.users AS u\n                    ON u.uuid = v.user_uuid\n                WHERE u.id = $2\n                    AND v.match_uuid = $1\n                    AND v.is_clip = FALSE AND v.is_local = FALSE\n                    AND v.end_time IS NOT NULL\n            )\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "178e8b686e7766db0b24b2d0c4960237cb61c19342f22b50d7a7a87573169a7c": {"query": "\n        DELETE FROM squadov.share_match_vod_connections\n        WHERE id = $1 AND source_user_id = $2\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": []}}, "17a51c2fcc61458ff8bfb694cef579041e1e4f9dc641f58b77a6b0e70f3f0210": {"query": "\n            SELECT *\n            FROM squadov.vods\n            WHERE video_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "user_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "video_uuid", "type_info": "Uuid"}, {"ordinal": 3, "name": "start_time", "type_info": "Timestamptz"}, {"ordinal": 4, "name": "end_time", "type_info": "Timestamptz"}, {"ordinal": 5, "name": "raw_container_format", "type_info": "Varchar"}, {"ordinal": 6, "name": "is_clip", "type_info": "Bool"}, {"ordinal": 7, "name": "is_local", "type_info": "Bool"}, {"ordinal": 8, "name": "md5", "type_info": "Varchar"}, {"ordinal": 9, "name": "last_sync_elasticsearch", "type_info": "Timestamptz"}, {"ordinal": 10, "name": "request_sync_elasticsearch", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid"]}, "nullable": [true, true, false, true, true, false, false, false, true, true, true]}}, "17f6756e6f984a102f49396defa545e81a2345d6805b87c3a7f7d4166e22b7b9": {"query": "\n                SELECT user_id\n                FROM squadov.match_custom_events\n                WHERE event_id = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "user_id", "type_info": "Int8"}], "parameters": {"Left": ["Int8"]}, "nullable": [false]}}, "18dfcd29bfec0daf50c4b5908fa8f63fb3253fd5c4cf27795c6a19d139cae1ec": {"query": "\n        DELETE FROM squadov.community_member_roles AS cmr\n        USING squadov.community_membership AS cm\n        WHERE cm.id = cmr.membership_id\n            AND cm.user_id = $1\n            AND cmr.role_id = $2\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": []}}, "18e093d2f93ce021f74b28b5bfefcb7531316c60cba6fad65842214400ea52a2": {"query": "\n            SELECT COUNT(DISTINCT email) AS \"count!\"\n            FROM squadov.referral_codes AS rc\n            INNER JOIN squadov.user_referral_code_usage AS ucu\n                ON ucu.code_id = rc.id\n            WHERE rc.user_id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "count!", "type_info": "Int8"}], "parameters": {"Left": ["Int8"]}, "nullable": [null]}}, "1940dae5600c104123e4a12cbccc046c67a42dc4acc28a9ae5354a44ce55e4c5": {"query": "\n            SELECT * FROM (\n                SELECT DISTINCT ON (wmv.match_uuid, u.uuid)\n                    wmv.match_uuid AS \"match_uuid!\",\n                    wmv.start_tm AS \"tm!\",\n                    wmv.end_tm AS \"finish_time\", \n                    wmv.build_version AS \"build!\",\n                    u.uuid AS \"user_uuid!\",\n                    wa.combatants_key,\n                    wav.challenge_name,\n                    wav.instance_id,\n                    wav.keystone_level,\n                    COALESCE(wav.time_ms, 0) AS \"time_ms!\",\n                    COALESCE(wav.success, FALSE) AS \"success!\"\n                FROM UNNEST($1::UUID[], $2::BIGINT[]) AS inp(match_uuid, user_id)\n                INNER JOIN squadov.wow_match_view AS wmv\n                    ON wmv.match_uuid = inp.match_uuid\n                        AND wmv.user_id = inp.user_id\n                INNER JOIN squadov.new_wow_challenges AS wa\n                    ON wa.match_uuid = wmv.match_uuid\n                INNER JOIN squadov.wow_challenge_view AS wav\n                    ON wav.view_id = wmv.id\n                INNER JOIN squadov.users AS u\n                    ON u.id = wmv.user_id\n                ORDER BY wmv.match_uuid, u.uuid\n            ) AS t\n            ORDER BY finish_time DESC\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "tm!", "type_info": "Timestamptz"}, {"ordinal": 2, "name": "finish_time", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "build!", "type_info": "Varchar"}, {"ordinal": 4, "name": "user_uuid!", "type_info": "Uuid"}, {"ordinal": 5, "name": "combatants_key", "type_info": "Varchar"}, {"ordinal": 6, "name": "challenge_name", "type_info": "Varchar"}, {"ordinal": 7, "name": "instance_id", "type_info": "Int4"}, {"ordinal": 8, "name": "keystone_level", "type_info": "Int4"}, {"ordinal": 9, "name": "time_ms!", "type_info": "Int8"}, {"ordinal": 10, "name": "success!", "type_info": "Bool"}], "parameters": {"Left": ["UuidArray", "Int8Array"]}, "nullable": [true, false, true, false, false, false, false, false, false, null, null]}}, "195a586773c9586712f461ab7cb2b1fa48af94934db61a442db56ced733317c0": {"query": "\n            SELECT\n                wucc.unit_guid AS \"guid\",\n                COALESCE(wucc.unit_name, '') AS \"name!\",\n                COALESCE(wucc.items, ARRAY[]::INTEGER[]) AS \"items!\",\n                COALESCE(wucc.spec_id, -1) AS \"spec_id!\",\n                wucc.class_id\n            FROM squadov.wow_user_character_cache AS wucc\n            WHERE wucc.user_id = $1\n                AND wucc.build_version SIMILAR TO $2::VARCHAR\n            ", "describe": {"columns": [{"ordinal": 0, "name": "guid", "type_info": "Varchar"}, {"ordinal": 1, "name": "name!", "type_info": "Varchar"}, {"ordinal": 2, "name": "items!", "type_info": "Int4Array"}, {"ordinal": 3, "name": "spec_id!", "type_info": "Int4"}, {"ordinal": 4, "name": "class_id", "type_info": "Int4"}], "parameters": {"Left": ["Int8", "Varchar"]}, "nullable": [false, null, null, null, true]}}, "1a42ec710f16ad93f48e1cce5f644b9e77032bef558900d2bd9d3bb6bd297e9c": {"query": "\n            UPDATE squadov.share_tokens\n            SET friendly_name = $2\n            WHERE id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar"]}, "nullable": []}}, "1a45b676a68e81a7fc80599e7a5f2891a0676cb8511e752229770aba4dfbb29e": {"query": "\n        INSERT INTO squadov.riot_account_game_shards (\n            puuid,\n            game,\n            shard\n        )\n        VALUES (\n            $1,\n            $2,\n            $3\n        )\n        ON CONFLICT (puuid, game) DO UPDATE\n            SET shard = EXCLUDED.shard\n        ", "describe": {"columns": [], "parameters": {"Left": ["Varchar", "Varchar", "Varchar"]}, "nullable": []}}, "1b433a0eece5b16cb5431e2284a1b99dc738ea387581aeb56e6049d73e733159": {"query": "\n            INSERT INTO squadov.wow_arena_view (\n                view_id,\n                instance_id,\n                arena_type\n            )\n            VALUES (\n                $1,\n                $2,\n                $3\n            )\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int4", "Varchar"]}, "nullable": []}}, "1b8fcd11647fa67b04fec153fc6714824ab4689515d9c71819b21e5ee88f333f": {"query": "\n                SELECT\n                    source.unit_guid AS \"source_guid\",\n                    COALESCE(source.unit_name, source.unit_guid) AS \"source_name!\",\n                    COALESCE(wve.source_flags, source.flags) AS \"source_flags!\",\n                    dest.unit_guid AS \"target_guid\",\n                    COALESCE(dest.unit_name, dest.unit_guid) AS \"target_name!\",\n                    COALESCE(wve.dest_flags, dest.flags) AS \"target_flags!\",\n                    wabe.aura_spell_id AS \"aura_id!\",\n                    wabe.aura_type AS \"aura_type\",\n                    wabe.removed_by_spell_id AS \"spell_id\",\n                    wve.tm\n                FROM squadov.wow_match_view_aura_break_events AS wabe\n                INNER JOIN squadov.wow_match_view_events AS wve\n                    ON wve.event_id = wabe.event_id\n                INNER JOIN squadov.wow_match_view_character_presence AS source\n                    ON source.character_id = wve.source_char\n                INNER JOIN squadov.wow_match_view_character_presence AS dest\n                    ON dest.character_id = wve.dest_char\n                INNER JOIN squadov.wow_match_view AS wmv\n                    ON wmv.alt_id = wve.view_id\n                WHERE wmv.id = $1\n                ORDER BY wve.tm ASC\n                ", "describe": {"columns": [{"ordinal": 0, "name": "source_guid", "type_info": "Varchar"}, {"ordinal": 1, "name": "source_name!", "type_info": "Varchar"}, {"ordinal": 2, "name": "source_flags!", "type_info": "Int8"}, {"ordinal": 3, "name": "target_guid", "type_info": "Varchar"}, {"ordinal": 4, "name": "target_name!", "type_info": "Varchar"}, {"ordinal": 5, "name": "target_flags!", "type_info": "Int8"}, {"ordinal": 6, "name": "aura_id!", "type_info": "Int8"}, {"ordinal": 7, "name": "aura_type", "type_info": "Varchar"}, {"ordinal": 8, "name": "spell_id", "type_info": "Int8"}, {"ordinal": 9, "name": "tm", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, null, null, false, null, null, false, false, true, false]}}, "1bf8e0da3d6e8c44c16ff7bc7ce70360249e58fe32ba017c2d5d331dd059ddf9": {"query": "\n                INSERT INTO squadov.squad_role_assignments (\n                    squad_id,\n                    user_id,\n                    squad_role\n                )\n                VALUES (\n                    $1,\n                    $2,\n                    'Owner'\n                )\n                ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": []}}, "1c1bab29537f28ce6d876ff6b40778b54cbea8e6227405900f3160cd3bfaf7b1": {"query": "\n        SELECT COALESCE(JSONB_AGG(vvt.*) FILTER(WHERE vvt.video_uuid IS NOT NULL), '[]'::JSONB)  AS \"tags!\"\n        FROM squadov.view_vod_tags AS vvt\n        WHERE vvt.video_uuid = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "tags!", "type_info": "Jsonb"}], "parameters": {"Left": ["Uuid"]}, "nullable": [null]}}, "1c7476a27c296b5afbf23639d403d17918272e21efbb353fab58d70e98304189": {"query": "\n            SELECT * FROM (\n                SELECT DISTINCT ON (wmv.match_uuid, u.uuid)\n                    wmv.match_uuid AS \"match_uuid!\",\n                    wmv.start_tm AS \"tm!\",\n                    wmv.end_tm AS \"finish_time\", \n                    wmv.build_version AS \"build!\",\n                    wa.combatants_key,\n                    wav.instance_id,\n                    wav.arena_type,\n                    wav.winning_team_id,\n                    wav.match_duration_seconds,\n                    wav.new_ratings,\n                    u.uuid AS \"user_uuid\",\n                    (\n                        CASE WHEN wvc.event_id IS NOT NULL THEN wvc.team = wav.winning_team_id\n                            ELSE FALSE\n                        END\n                    ) AS \"success!\"\n                FROM UNNEST($1::UUID[], $2::BIGINT[]) AS inp(match_uuid, user_id)\n                INNER JOIN squadov.wow_match_view AS wmv\n                    ON wmv.match_uuid = inp.match_uuid\n                        AND wmv.user_id = inp.user_id\n                INNER JOIN squadov.new_wow_arenas AS wa\n                    ON wa.match_uuid = wmv.match_uuid\n                INNER JOIN squadov.wow_arena_view AS wav\n                    ON wav.view_id = wmv.id\n                INNER JOIN squadov.wow_match_view_character_presence AS wcp\n                    ON wcp.view_id = wmv.id\n                LEFT JOIN squadov.wow_match_view_combatants AS wvc\n                    ON wvc.character_id = wcp.character_id\n                INNER JOIN squadov.wow_user_character_cache AS wucc\n                    ON wucc.unit_guid = wcp.unit_guid\n                        AND wucc.user_id = inp.user_id\n                INNER JOIN squadov.users AS u\n                    ON u.id = wmv.user_id\n                ORDER BY wmv.match_uuid, u.uuid\n            ) AS t\n            ORDER BY finish_time DESC\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "tm!", "type_info": "Timestamptz"}, {"ordinal": 2, "name": "finish_time", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "build!", "type_info": "Varchar"}, {"ordinal": 4, "name": "combatants_key", "type_info": "Varchar"}, {"ordinal": 5, "name": "instance_id", "type_info": "Int4"}, {"ordinal": 6, "name": "arena_type", "type_info": "Varchar"}, {"ordinal": 7, "name": "winning_team_id", "type_info": "Int4"}, {"ordinal": 8, "name": "match_duration_seconds", "type_info": "Int4"}, {"ordinal": 9, "name": "new_ratings", "type_info": "Int4Array"}, {"ordinal": 10, "name": "user_uuid", "type_info": "Uuid"}, {"ordinal": 11, "name": "success!", "type_info": "Bool"}], "parameters": {"Left": ["UuidArray", "Int8Array"]}, "nullable": [true, false, true, false, false, false, false, true, true, true, false, null]}}, "1ce74bf412897aee8221513756051e93c28cbc44eaf561e620365dfd514e1ff5": {"query": "\n            SELECT *\n            FROM squadov.csgo_match_views\n            WHERE match_uuid = $1\n                AND user_id = $2\n            ", "describe": {"columns": [{"ordinal": 0, "name": "view_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "has_gsi", "type_info": "Bool"}, {"ordinal": 4, "name": "has_demo", "type_info": "Bool"}, {"ordinal": 5, "name": "map", "type_info": "Varchar"}, {"ordinal": 6, "name": "mode", "type_info": "Varchar"}, {"ordinal": 7, "name": "game_server", "type_info": "Varchar"}, {"ordinal": 8, "name": "start_time", "type_info": "Timestamptz"}, {"ordinal": 9, "name": "stop_time", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false, true, false, false, false, false, false, false, false, true]}}, "1d2f55443b22f1bc0d053d5e38dfa1a95a893dbb3b9f7a24c328e30c53c0a0b8": {"query": "\n        UPDATE squadov.twitch_accounts\n        SET last_validate = NOW()\n        WHERE access_token = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Text"]}, "nullable": []}}, "1d5254b59ab7910f8d4bc44d9fdd4d61c352dcf8d71f58195563f95fcc95ee81": {"query": "\n        INSERT INTO squadov.csgo_event_container (\n            view_uuid,\n            event_source\n        )\n        VALUES (\n            $1,\n            $2\n        )\n        RETURNING id\n        ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}], "parameters": {"Left": ["Uuid", "Int4"]}, "nullable": [false]}}, "1d562a4ddb2de558af67cd3cb3fc9e8a219fb2c1f2eade20c3d693a1f9c93da1": {"query": "\n        INSERT INTO squadov.squad_invite_link_usage (\n            link_id,\n            user_id,\n            usage_time\n        )\n        VALUES (\n            $1,\n            $2,\n            NOW()\n        )\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": []}}, "1e0c3ba8e3bc47a3421f58857f449752b039cd626f34329b57970f7197a023a9": {"query": "\n            INSERT INTO squadov.hearthstone_match_user_deck (\n                deck_version_id,\n                user_id,\n                match_uuid\n            )\n            SELECT version_id, $2, $3\n            FROM squadov.hearthstone_deck_versions\n            WHERE deck_id = $1\n            ORDER BY version_id DESC\n            LIMIT 1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8", "Uuid"]}, "nullable": []}}, "1e939892b3befe87cbb081894a3f7ce3da277c397267f6da93802b273ee8f00e": {"query": "\n            UPDATE squadov.squad_membership_invites\n            SET joined = $3,\n                response_time = $4\n            WHERE squad_id = $1 AND invite_uuid = $2 AND response_time IS NULL\n            RETURNING invite_uuid\n            ", "describe": {"columns": [{"ordinal": 0, "name": "invite_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Int8", "Uuid", "Bool", "Timestamptz"]}, "nullable": [false]}}, "1efc4190b07f8134d1b510b67df4b01b07950e09eed7130c0f34029ec7a8e962": {"query": "\n            UPDATE squadov.wow_arena_view\n            SET winning_team_id = $2,\n                match_duration_seconds = $3,\n                new_ratings = $4\n            WHERE view_id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int4", "Int4", "Int4Array"]}, "nullable": []}}, "1f5712d2c27e3e3793eb54ad3273efe5fa7fd8e52eff359964323bf0ae3e70db": {"query": "\n            SELECT v.*\n            FROM squadov.vods AS v\n            INNER JOIN squadov.users AS u\n                ON u.uuid = v.user_uuid\n            WHERE v.match_uuid = $1\n                AND u.id = $2\n                AND v.is_clip = FALSE\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "user_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "video_uuid", "type_info": "Uuid"}, {"ordinal": 3, "name": "start_time", "type_info": "Timestamptz"}, {"ordinal": 4, "name": "end_time", "type_info": "Timestamptz"}, {"ordinal": 5, "name": "raw_container_format", "type_info": "Varchar"}, {"ordinal": 6, "name": "is_clip", "type_info": "Bool"}, {"ordinal": 7, "name": "is_local", "type_info": "Bool"}, {"ordinal": 8, "name": "md5", "type_info": "Varchar"}, {"ordinal": 9, "name": "last_sync_elasticsearch", "type_info": "Timestamptz"}, {"ordinal": 10, "name": "request_sync_elasticsearch", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [true, true, false, true, true, false, false, false, true, true, true]}}, "1f9efd71e131e407014050c79620243ed3f477f749435d9f99d02871c422c0fa": {"query": "\n            SELECT mmc.match_uuid\n            FROM squadov.match_to_match_collection AS mmc\n            INNER JOIN squadov.hearthstone_arena_drafts AS had\n                ON had.collection_uuid = mmc.collection_uuid AND had.user_id = $2\n            INNER JOIN squadov.hearthstone_matches AS hm\n                ON hm.match_uuid = mmc.match_uuid\n            CROSS JOIN (\n                SELECT *\n                FROM squadov.users\n                WHERE id = $2\n            ) AS u\n            LEFT JOIN squadov.vods AS v\n                ON v.match_uuid = mmc.match_uuid\n                    AND v.user_uuid = u.uuid\n                    AND v.is_clip = FALSE\n            WHERE mmc.collection_uuid = $1\n                AND (NOT $3::BOOLEAN OR v.video_uuid IS NOT NULL)\n            ORDER BY hm.match_time DESC\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid", "Int8", "Bool"]}, "nullable": [false]}}, "21b7ed5c8bcfff301b79dcab2dac026907e77884ef87d0dec49a8834201126b2": {"query": "\n            SELECT *\n            FROM squadov.aimlab_tasks\n            WHERE match_uuid = ANY($1)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "user_id", "type_info": "Int8"}, {"ordinal": 2, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 3, "name": "task_name", "type_info": "Varchar"}, {"ordinal": 4, "name": "mode", "type_info": "Int4"}, {"ordinal": 5, "name": "score", "type_info": "Int8"}, {"ordinal": 6, "name": "version", "type_info": "Varchar"}, {"ordinal": 7, "name": "raw_data", "type_info": "Jsonb"}, {"ordinal": 8, "name": "create_date", "type_info": "Timestamptz"}, {"ordinal": 9, "name": "klutch_id", "type_info": "Varchar"}], "parameters": {"Left": ["UuidArray"]}, "nullable": [false, false, false, false, false, false, false, false, false, false]}}, "224082c29c31ce9da393bd5831d2b1f35907b4eb8c0c81ad7b607eeda187ebc3": {"query": "\n            SELECT platform_id\n            FROM squadov.lol_match_info\n            WHERE match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "platform_id", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false]}}, "229da77b9cef21f8711ec3cf98dda46b9d8c8d7398505994288844eca1bdf739": {"query": "\n            SELECT *\n            FROM (\n                SELECT DISTINCT ON (wmv.match_uuid, u.uuid)\n                    wmv.match_uuid AS \"match_uuid!\",\n                    wmv.start_tm AS \"tm!\",\n                    wmv.end_tm AS \"finish_time\", \n                    wmv.build_version AS \"build!\",\n                    u.uuid AS \"user_uuid!\",\n                    wa.combatants_key,\n                    wav.encounter_id,\n                    wav.encounter_name,\n                    wav.difficulty,\n                    wav.num_players,\n                    wav.instance_id,\n                    COALESCE(wav.success, FALSE) AS \"success!\",\n                    ARRAY_AGG(web.name) AS \"boss_names!: Vec<Option<String>>\",\n                    ARRAY_AGG(web.npc_id) AS \"boss_ids!: Vec<Option<i64>>\",\n                    ARRAY_AGG(wcp.current_hp) AS \"boss_hps!: Vec<Option<i64>>\",\n                    ARRAY_AGG(wcp.max_hp) AS \"boss_max_hps!: Vec<Option<i64>>\",\n                    MAX(mmc.match_order) AS \"pull_number\"\n                FROM UNNEST($1::UUID[], $2::BIGINT[]) AS inp(match_uuid, user_id)\n                INNER JOIN squadov.wow_match_view AS wmv\n                    ON wmv.match_uuid = inp.match_uuid\n                        AND wmv.user_id = inp.user_id\n                INNER JOIN squadov.new_wow_encounters AS wa\n                    ON wa.match_uuid = wmv.match_uuid\n                INNER JOIN squadov.wow_encounter_view AS wav\n                    ON wav.view_id = wmv.id\n                INNER JOIN squadov.users AS u\n                    ON u.id = wmv.user_id\n                LEFT JOIN squadov.wow_encounter_bosses AS web\n                    ON web.encounter_id = wav.encounter_id\n                LEFT JOIN squadov.wow_match_view_character_presence AS wcp\n                    ON wcp.view_id = wmv.id\n                        AND wcp.creature_id = web.npc_id\n                LEFT JOIN squadov.match_to_match_collection AS mmc\n                    ON mmc.match_uuid = inp.match_uuid\n                GROUP BY\n                    wmv.match_uuid,\n                    wmv.start_tm,\n                    wmv.end_tm,\n                    wmv.build_version,\n                    u.uuid,\n                    wa.combatants_key,\n                    wav.encounter_id,\n                    wav.encounter_name,\n                    wav.difficulty,\n                    wav.num_players,\n                    wav.instance_id,\n                    wav.success\n                ORDER BY wmv.match_uuid, u.uuid\n            ) AS t\n            ORDER BY finish_time DESC\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "tm!", "type_info": "Timestamptz"}, {"ordinal": 2, "name": "finish_time", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "build!", "type_info": "Varchar"}, {"ordinal": 4, "name": "user_uuid!", "type_info": "Uuid"}, {"ordinal": 5, "name": "combatants_key", "type_info": "Varchar"}, {"ordinal": 6, "name": "encounter_id", "type_info": "Int4"}, {"ordinal": 7, "name": "encounter_name", "type_info": "Varchar"}, {"ordinal": 8, "name": "difficulty", "type_info": "Int4"}, {"ordinal": 9, "name": "num_players", "type_info": "Int4"}, {"ordinal": 10, "name": "instance_id", "type_info": "Int4"}, {"ordinal": 11, "name": "success!", "type_info": "Bool"}, {"ordinal": 12, "name": "boss_names!: Vec<Option<String>>", "type_info": "VarcharArray"}, {"ordinal": 13, "name": "boss_ids!: Vec<Option<i64>>", "type_info": "Int8Array"}, {"ordinal": 14, "name": "boss_hps!: Vec<Option<i64>>", "type_info": "Int8Array"}, {"ordinal": 15, "name": "boss_max_hps!: Vec<Option<i64>>", "type_info": "Int8Array"}, {"ordinal": 16, "name": "pull_number", "type_info": "Int8"}], "parameters": {"Left": ["UuidArray", "Int8Array"]}, "nullable": [true, false, true, false, false, false, false, false, false, false, false, null, null, null, null, null, null]}}, "22b9e1b196f2ab7f79e0b30f87ff9cdafb8d467542195cdb69e76a6fefd7f4d0": {"query": "\n                SELECT\n                    disable_encounters,\n                    disable_dungeons,\n                    disable_keystones,\n                    disable_arenas,\n                    disable_bgs,\n                    disabled_releases\n                FROM squadov.squad_sharing_wow_filters\n                WHERE squad_id = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "disable_encounters", "type_info": "Bool"}, {"ordinal": 1, "name": "disable_dungeons", "type_info": "Bool"}, {"ordinal": 2, "name": "disable_keystones", "type_info": "Bool"}, {"ordinal": 3, "name": "disable_arenas", "type_info": "Bool"}, {"ordinal": 4, "name": "disable_bgs", "type_info": "Bool"}, {"ordinal": 5, "name": "disabled_releases", "type_info": "Int4Array"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, false, false, false, false]}}, "2306ff9830185e0b4a4ea5173489e7a25ba1030a08a687eb584eadc3c08d3439": {"query": "\n            SELECT EXISTS (\n                SELECT *\n                FROM squadov.vods AS v\n                INNER JOIN squadov.users AS u\n                    ON u.uuid = v.user_uuid\n                WHERE u.id = $1\n                    AND v.video_uuid = $2\n            ) AS \"exists!\"\n            ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": [null]}}, "241a7c267e604501abaa484be86548cc1a0410b6dd80d61e30dd2d0a009453d2": {"query": "\n                SELECT v.video_uuid\n                FROM squadov.vods AS v\n                INNER JOIN squadov.users AS u\n                    ON u.uuid = v.user_uuid\n                WHERE v.video_uuid = ANY($1)\n                    AND u.id = $2\n                ", "describe": {"columns": [{"ordinal": 0, "name": "video_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["UuidArray", "Int8"]}, "nullable": [false]}}, "244d1baa8f6f10a4d233b4ac5d047082bccf8dfd13786ecca67157bc6467d3a3": {"query": "\n        SELECT DISTINCT team_id\n        FROM squadov.valorant_match_players\n        WHERE match_uuid = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "team_id", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false]}}, "24678c48e1187b2ed630ccb0f05c7cef18ae7d8524b80f37170c9b4d518327e5": {"query": "\n            SELECT (\n                SELECT COUNT(*)\n                FROM squadov.clip_reacts\n                WHERE user_id = $1\n            ) AS \"likes!\", (\n                SELECT COUNT(*)\n                FROM squadov.clip_comments\n                WHERE user_id = $1\n            ) AS \"comments!\"\n            ", "describe": {"columns": [{"ordinal": 0, "name": "likes!", "type_info": "Int8"}, {"ordinal": 1, "name": "comments!", "type_info": "Int8"}], "parameters": {"Left": ["Int8"]}, "nullable": [null, null]}}, "250fa7d05eba4a7099bbf8139272afca0db914a7f5e151e0fe1daac2e984421f": {"query": "\n            SELECT *\n            FROM squadov.csgo_match_views\n            WHERE view_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "view_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "has_gsi", "type_info": "Bool"}, {"ordinal": 4, "name": "has_demo", "type_info": "Bool"}, {"ordinal": 5, "name": "map", "type_info": "Varchar"}, {"ordinal": 6, "name": "mode", "type_info": "Varchar"}, {"ordinal": 7, "name": "game_server", "type_info": "Varchar"}, {"ordinal": 8, "name": "start_time", "type_info": "Timestamptz"}, {"ordinal": 9, "name": "stop_time", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, true, false, false, false, false, false, false, false, true]}}, "2566fffb9fe2913bb94d0ab229164ad4a0889fa9455cf53822065b75bf548578": {"query": "\n            UPDATE squadov.squad_membership_invites\n            SET email = $1\n            WHERE invite_uuid = $2\n                AND user_id IS NULL\n            ", "describe": {"columns": [], "parameters": {"Left": ["Varchar", "Uuid"]}, "nullable": []}}, "259cbb6f84fe89bfdb25ab9f38b2b4344e6cc1ed8dc8fc739e2e17efa45c0f96": {"query": "\n                SELECT mmc2.match_uuid\n                FROM squadov.match_to_match_collection AS mmc\n                INNER JOIN squadov.match_to_match_collection AS mmc2\n                    ON mmc2.collection_uuid = mmc.collection_uuid\n                INNER JOIN squadov.wow_match_view AS wmv\n                    ON wmv.match_uuid = mmc2.match_uuid\n                WHERE mmc.match_uuid = $1\n                    AND wmv.user_id = $2\n                ORDER BY wmv.end_tm ASC\n                ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false]}}, "261d609fedfff8445e16bbd27c093f4e2ca368caceb56a283ecf66fa184138f8": {"query": "\n                SELECT wucc.user_id, wucc.unit_guid AS \"guid\"\n                FROM squadov.wow_match_view AS wmv\n                INNER JOIN squadov.wow_match_view_character_presence AS wcp\n                    ON wcp.view_id = wmv.id\n                INNER JOIN squadov.wow_user_character_cache AS wucc\n                    ON wucc.unit_guid = wcp.unit_guid\n                INNER JOIN (\n                    SELECT $3\n                    UNION\n                    SELECT ora.user_id\n                    FROM squadov.users AS u\n                    LEFT JOIN squadov.squad_role_assignments AS sra\n                        ON sra.user_id = u.id\n                    LEFT JOIN squadov.squad_role_assignments AS ora\n                        ON ora.squad_id = sra.squad_id\n                    WHERE u.id = $3\n                ) AS squ (user_id)\n                    ON squ.user_id = wucc.user_id\n                WHERE wmv.match_uuid = $1\n                    AND wmv.user_id = $2\n                ", "describe": {"columns": [{"ordinal": 0, "name": "user_id", "type_info": "Int8"}, {"ordinal": 1, "name": "guid", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid", "Int8", "Int8"]}, "nullable": [false, false]}}, "265c3bbbe8992412335d2cc837481eb48bbd391e85aaecdf144710a8675c0c60": {"query": "\n            SELECT *\n            FROM squadov.community_invites\n            WHERE community_id = $1\n                AND inviter_user_id = $2\n            ", "describe": {"columns": [{"ordinal": 0, "name": "code", "type_info": "Uuid"}, {"ordinal": 1, "name": "community_id", "type_info": "Int8"}, {"ordinal": 2, "name": "inviter_user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "num_uses", "type_info": "Int4"}, {"ordinal": 4, "name": "max_uses", "type_info": "Int4"}, {"ordinal": 5, "name": "expiration", "type_info": "Timestamptz"}, {"ordinal": 6, "name": "created_tm", "type_info": "Timestamptz"}], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": [false, false, false, false, true, true, false]}}, "26d1912ad176c79028d60778b03400014c4656490958cd1d628306f9f64a215f": {"query": "\n            INSERT INTO squadov.hearthstone_match_metadata (\n                view_uuid,\n                game_type,\n                format_type,\n                scenario_id,\n                match_winner_player_id\n            )\n            SELECT\n                hmv.view_uuid,\n                $3,\n                $4,\n                $5,\n                $6\n            FROM squadov.hearthstone_match_view AS hmv\n            WHERE hmv.match_uuid = $1 AND hmv.user_id = $2\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8", "Int4", "Int4", "Int4", "Int4"]}, "nullable": []}}, "27198d8ddaec95cf7351c671f75dd2b604ea176032d3b2f52b010a36e8e561cc": {"query": "\n        SELECT ra.puuid, ra.account_id, ra.summoner_id, ra.summoner_name, ra.last_backfill_lol_time, ra.last_backfill_tft_time\n        FROM squadov.riot_accounts AS ra\n        INNER JOIN squadov.riot_account_links AS ral\n            ON ral.puuid = ra.puuid\n        WHERE ral.user_id = $1\n            AND ra.puuid = $2\n            AND ra.summoner_name IS NOT NULL\n        ", "describe": {"columns": [{"ordinal": 0, "name": "puuid", "type_info": "Varchar"}, {"ordinal": 1, "name": "account_id", "type_info": "Varchar"}, {"ordinal": 2, "name": "summoner_id", "type_info": "Varchar"}, {"ordinal": 3, "name": "summoner_name", "type_info": "Varchar"}, {"ordinal": 4, "name": "last_backfill_lol_time", "type_info": "Timestamptz"}, {"ordinal": 5, "name": "last_backfill_tft_time", "type_info": "Timestamptz"}], "parameters": {"Left": ["Int8", "Text"]}, "nullable": [false, true, true, true, true, true]}}, "2835ed22e4278304d20208e28ad439f5f5f4489780b5d463c89747e2a3e289a7": {"query": "\n            SELECT EXISTS (\n                SELECT 1\n                FROM squadov.squad_role_assignments AS sra\n                INNER JOIN squadov.squad_role_assignments AS ora\n                    ON ora.squad_id = sra.squad_id\n                WHERE sra.user_id = $1\n                    AND ora.user_id = $2\n            ) as \"exists!\"\n            ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": [null]}}, "28ff54f0d1cce0978436eb7884981b3f9fe446adf75433cf971b3f605690c3e9": {"query": "\n                    SELECT EXISTS (\n                        SELECT 1\n                        FROM squadov.tft_match_participants AS tmp\n                        INNER JOIN squadov.riot_account_links AS ral\n                            ON ral.puuid = tmp.puuid\n                        WHERE ral.user_id = $1 AND tmp.match_uuid = $2\n                    ) as \"exists!\"\n                    ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": [null]}}, "29bc1d9738591c4b54b74f377e33e093b6341033950645c3e22f2c8c0466a81c": {"query": "\n                SELECT match_uuid\n                FROM squadov.new_wow_arenas AS wc\n                CROSS JOIN (\n                    SELECT wmv.start_tm, wcv.instance_id, wcv.arena_type\n                    FROM squadov.wow_match_view AS wmv\n                    INNER JOIN squadov.wow_arena_view AS wcv\n                        ON wcv.view_id = wmv.id\n                    WHERE wmv.id = $2\n                ) AS wmv(start_tm, instance_id, arena_type)\n                WHERE wc.tr && tstzrange(wmv.start_tm, $3, '[]')\n                    AND wc.combatants_key = $1\n                    AND wc.instance_id = wmv.instance_id\n                    AND wc.arena_type = wmv.arena_type\n                ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Text", "Uuid", "Timestamptz"]}, "nullable": [false]}}, "29c632638ac38ae09f351ecd6cbd48dd2dffe1ba34abd6ae41c06983db595bc9": {"query": "\n            SELECT c.*\n            FROM squadov.community_membership AS cm\n            INNER JOIN squadov.communities AS c\n                ON c.id = cm.community_id \n            WHERE cm.user_id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "name", "type_info": "Varchar"}, {"ordinal": 2, "name": "create_tm", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "creator_user_id", "type_info": "Int8"}, {"ordinal": 4, "name": "security_level", "type_info": "Int4"}, {"ordinal": 5, "name": "requires_subscription", "type_info": "Bool"}, {"ordinal": 6, "name": "allow_twitch_sub", "type_info": "Bool"}, {"ordinal": 7, "name": "slug", "type_info": "Varchar"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, false, false, false, false, false, false]}}, "29ef88144212108b85496008b9cbaf231261a1c092725a3ac53e3bea2f96c642": {"query": "\n            SELECT u.uuid, u.id\n            FROM squadov.users AS u\n            WHERE u.uuid = any($1)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "id", "type_info": "Int8"}], "parameters": {"Left": ["UuidArray"]}, "nullable": [false, false]}}, "29f8dfc2aff89b1d86997cf0df3754f3f5e8581690e01b31c1626b6f98026cdc": {"query": "\n        INSERT INTO squadov.vods (video_uuid, raw_container_format, user_uuid, is_clip)\n        SELECT $1, $2, u.uuid, $4\n        FROM squadov.users AS u\n        WHERE u.id = $3\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar", "Int8", "Bool"]}, "nullable": []}}, "2a3008e2c36132e2421d946c792854cb0ecdca0a15ef4dd83297ec3ba5db9a94": {"query": "\n        INSERT INTO squadov.valorant_match_pov_computed_data (\n            match_uuid,\n            user_id,\n            pov_agent,\n            rank,\n            key_events,\n            winner\n        ) VALUES (\n            $1,\n            $2,\n            $3,\n            $4,\n            $5,\n            $6\n        ) ON CONFLICT (match_uuid, user_id) DO UPDATE SET\n            pov_agent = EXCLUDED.pov_agent,\n            rank = EXCLUDED.rank,\n            key_events = EXCLUDED.key_events,\n            winner = EXCLUDED.winner\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8", "Varchar", "Int4", "Int4Array", "Bool"]}, "nullable": []}}, "2b5233fcf027573cfa566ce8be04861c73e1930db453eaf41542aedbb2e765f6": {"query": "\n            UPDATE squadov.squad_membership_invites\n            SET pending = FALSE,\n                user_id = $2\n            WHERE pending = TRUE\n                AND email = $1\n            RETURNING invite_uuid, squad_id\n            ", "describe": {"columns": [{"ordinal": 0, "name": "invite_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "squad_id", "type_info": "Int8"}], "parameters": {"Left": ["Text", "Int8"]}, "nullable": [false, false]}}, "2b71c7c01d551828459668445ada76a6f2b07ac38592cfbbf3cbe1bdb481fe83": {"query": "\n            SELECT DISTINCT\n                v.video_uuid AS \"video_uuid!\",\n                v.match_uuid AS \"match_uuid!\",\n                v.user_uuid AS \"user_uuid!\",\n                v.end_time AS \"tm!\",\n                v.is_local AS \"is_local!\",\n                ou.username AS \"username!\",\n                ou.id AS \"user_id!\",\n                ufm.reason AS \"favorite_reason?\",\n                uwv.video_uuid IS NOT NULL AS \"is_watchlist!\",\n                m.game AS \"game!\",\n                COALESCE(JSONB_AGG(vvt.*) FILTER(WHERE vvt.video_uuid IS NOT NULL), '[]'::JSONB)  AS \"tags!\"\n            FROM UNNEST($1::UUID[], $2::UUID[]) AS inp(match_uuid, user_uuid)\n            INNER JOIN squadov.users AS ou\n                ON ou.uuid = inp.user_uuid\n            INNER JOIN squadov.matches AS m\n                ON inp.match_uuid = m.uuid\n            INNER JOIN squadov.vods AS v\n                ON v.user_uuid = ou.uuid\n                    AND v.match_uuid = m.uuid\n            LEFT JOIN squadov.user_favorite_matches AS ufm\n                ON ufm.match_uuid = m.uuid\n                    AND ufm.user_id = $3\n            LEFT JOIN squadov.user_watchlist_vods AS uwv\n                ON uwv.video_uuid = v.video_uuid\n                    AND uwv.user_id = $3\n            LEFT JOIN squadov.view_vod_tags AS vvt\n                ON vvt.video_uuid = v.video_uuid\n            WHERE v.is_clip = FALSE\n            GROUP BY v.video_uuid, v.match_uuid, v.user_uuid, v.end_time, v.is_local, ou.username, ou.id, ufm.reason, uwv.video_uuid, m.game\n            ", "describe": {"columns": [{"ordinal": 0, "name": "video_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 2, "name": "user_uuid!", "type_info": "Uuid"}, {"ordinal": 3, "name": "tm!", "type_info": "Timestamptz"}, {"ordinal": 4, "name": "is_local!", "type_info": "Bool"}, {"ordinal": 5, "name": "username!", "type_info": "Varchar"}, {"ordinal": 6, "name": "user_id!", "type_info": "Int8"}, {"ordinal": 7, "name": "favorite_reason?", "type_info": "Varchar"}, {"ordinal": 8, "name": "is_watchlist!", "type_info": "Bool"}, {"ordinal": 9, "name": "game!", "type_info": "Int4"}, {"ordinal": 10, "name": "tags!", "type_info": "Jsonb"}], "parameters": {"Left": ["UuidArray", "UuidArray", "Int8"]}, "nullable": [false, true, true, true, false, false, false, false, null, true, null]}}, "2b9f5bb49215092ee261c350f17a22b9691de9cd53b3b26c3f8028b7e060b670": {"query": "\n                INSERT INTO squadov.wow_match_view (\n                    id,\n                    user_id,\n                    start_tm,\n                    combat_log_version,\n                    advanced_log,\n                    build_version,\n                    session_id\n                )\n                VALUES (\n                    gen_random_uuid(),\n                    $1,\n                    $2,\n                    $3,\n                    $4,\n                    $5,\n                    $6\n                )\n                RETURNING id\n                ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Uuid"}], "parameters": {"Left": ["Int8", "Timestamptz", "Varchar", "Bool", "Varchar", "Varchar"]}, "nullable": [false]}}, "2c08740c0f3ef3805fa383b8b8cbe0a9e295ef69833730dec1a186a4e9aea2a0": {"query": "\n            SELECT *\n            FROM squadov.global_app_flags\n        ", "describe": {"columns": [{"ordinal": 0, "name": "fkey", "type_info": "Varchar"}, {"ordinal": 1, "name": "fvalue", "type_info": "Varchar"}], "parameters": {"Left": []}, "nullable": [false, false]}}, "2c86c7dc6786781a5350eecbd10fc604343d7920d52a2a0b05a655f672480a1d": {"query": "\n            INSERT INTO squadov.user_watchlist_vods (\n                video_uuid,\n                user_id\n            )\n            VALUES (\n                $1,\n                $2\n            )\n            ON CONFLICT DO NOTHING\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "2ca49bc5b97c6f0aa4cc45ed1f5c47857a0c75a3d66b88168b434512260eecca": {"query": "\n                UPDATE squadov.hearthstone_raw_power_logs\n                SET parsed = TRUE\n                WHERE match_uuid = $1\n                    AND user_id = $2\n                ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "2d0fe5a0781337395dda8d6e23c6026965924b14f34d68f3e0d1994d5ffc2d29": {"query": "\n            SELECT id AS \"id!\", match_uuid, video_uuid, can_share AS \"can_share!\", can_clip AS \"can_clip!\", dest_user_id, dest_squad_id\n            FROM squadov.share_match_vod_connections\n            WHERE source_user_id = $1\n                AND ($2::UUID IS NULL OR match_uuid = $2)\n                AND ($3::UUID IS NULL OR video_uuid = $3)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id!", "type_info": "Int8"}, {"ordinal": 1, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "video_uuid", "type_info": "Uuid"}, {"ordinal": 3, "name": "can_share!", "type_info": "Bool"}, {"ordinal": 4, "name": "can_clip!", "type_info": "Bool"}, {"ordinal": 5, "name": "dest_user_id", "type_info": "Int8"}, {"ordinal": 6, "name": "dest_squad_id", "type_info": "Int8"}], "parameters": {"Left": ["Int8", "Uuid", "Uuid"]}, "nullable": [false, true, true, false, false, true, true]}}, "2d94dcf5d7ec2c9178ecb5b23d81b33f1fa030a8acc0100f38a45974eb7166c4": {"query": "\n            SELECT user_id, reason\n            FROM squadov.user_favorite_vods\n            WHERE video_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "user_id", "type_info": "Int8"}, {"ordinal": 1, "name": "reason", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false]}}, "2d9ca0fc6775186e963e47d4e25a616dbf89c23130da3789c44e4914d1593828": {"query": "\n            SELECT (\n                SELECT COUNT(invite_uuid)\n                FROM squadov.squad_membership_invites\n                WHERE inviter_user_id = $1\n            ) AS \"invites!\", (\n                SELECT COUNT(slu.user_id)\n                FROM squadov.squad_invite_links AS sil\n                LEFT JOIN squadov.squad_invite_link_usage AS slu\n                    ON slu.link_id = sil.id\n                WHERE sil.user_id = $1\n            ) AS \"links!\"\n            ", "describe": {"columns": [{"ordinal": 0, "name": "invites!", "type_info": "Int8"}, {"ordinal": 1, "name": "links!", "type_info": "Int8"}], "parameters": {"Left": ["Int8"]}, "nullable": [null, null]}}, "2e662f6e1b591a804944e8033377a5707be83c04946c7ee8fe79528f5263a038": {"query": "\n        SELECT *\n        FROM squadov.tft_match_info\n        WHERE match_uuid = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "game_datetime", "type_info": "Timestamptz"}, {"ordinal": 2, "name": "game_length", "type_info": "Float4"}, {"ordinal": 3, "name": "game_variation", "type_info": "Varchar"}, {"ordinal": 4, "name": "game_version", "type_info": "Varchar"}, {"ordinal": 5, "name": "queue_id", "type_info": "Int4"}, {"ordinal": 6, "name": "tft_set_number", "type_info": "Int4"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, true, false, false, false]}}, "3089c7722b7ec3db389026e8d59e40efd79574a2d5583d5c28773036471109c1": {"query": "\n                SELECT match_uuid\n                FROM squadov.new_wow_challenges AS wc\n                CROSS JOIN (\n                    SELECT wmv.start_tm, wcv.instance_id, wcv.keystone_level\n                    FROM squadov.wow_match_view AS wmv\n                    INNER JOIN squadov.wow_challenge_view AS wcv\n                        ON wcv.view_id = wmv.id\n                    WHERE wmv.id = $2\n                ) AS wmv(start_tm, instance_id, keystone_level)\n                WHERE wc.tr && tstzrange(wmv.start_tm, $3, '[]')\n                    AND wc.combatants_key = $1\n                    AND wc.instance_id = wmv.instance_id\n                    AND wc.keystone_level = wmv.keystone_level\n                ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Text", "Uuid", "Timestamptz"]}, "nullable": [false]}}, "30c5b622e293d88afbdb673c3c667cc431faa1bab02b23d401d38841a13dc0e0": {"query": "\n                SELECT\n                    dest.unit_guid AS \"guid\",\n                    COALESCE(dest.unit_name, dest.unit_guid) AS \"name!\",\n                    COALESCE(wve.dest_flags, dest.flags) AS \"flags!\",\n                    wve.tm\n                FROM squadov.wow_match_view_resurrect_events AS wre\n                INNER JOIN squadov.wow_match_view_events AS wve\n                    ON wve.event_id = wre.event_id\n                INNER JOIN squadov.wow_match_view_character_presence AS dest\n                    ON dest.character_id = wve.dest_char\n                INNER JOIN squadov.wow_match_view AS wmv\n                    ON wmv.alt_id = wve.view_id\n                WHERE wmv.id = $1\n                ORDER BY wve.tm ASC\n                ", "describe": {"columns": [{"ordinal": 0, "name": "guid", "type_info": "Varchar"}, {"ordinal": 1, "name": "name!", "type_info": "Varchar"}, {"ordinal": 2, "name": "flags!", "type_info": "Int8"}, {"ordinal": 3, "name": "tm", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, null, null, false]}}, "31351fc49f1d143329928a4b3d7ca11685fce8980b904464e7ae8d1c00e00010": {"query": "\n                SELECT (($3::BOOLEAN AND wev.view_id IS NOT NULL) \n                    OR ($4::BOOLEAN AND (wiv.view_id IS NOT NULL AND wiv.instance_type = 1))\n                    OR ($5::BOOLEAN AND wcv.view_id IS NOT NULL)\n                    OR ($6::BOOLEAN AND \n                        (\n                            wav.view_id IS NOT NULL\n                                OR (\n                                    wiv.view_id IS NOT NULL AND wiv.instance_type = 4\n                                )\n                        )\n                    )\n                    OR ($7::BOOLEAN AND (wiv.view_id IS NOT NULL AND wiv.instance_type = 3))\n                    OR (wmv.build_version LIKE ANY ($8::VARCHAR[]))\n                ) AS \"value!\"\n                FROM squadov.wow_match_view AS wmv\n                LEFT JOIN squadov.wow_encounter_view AS wev\n                    ON wev.view_id = wmv.id\n                LEFT JOIN squadov.wow_challenge_view AS wcv\n                    ON wcv.view_id = wmv.id\n                LEFT JOIN squadov.wow_arena_view AS wav\n                    ON wav.view_id = wmv.id\n                LEFT JOIN squadov.wow_instance_view AS wiv\n                    ON wiv.view_id = wmv.id\n                WHERE wmv.match_uuid = $1\n                    AND wmv.user_id = $2\n                ", "describe": {"columns": [{"ordinal": 0, "name": "value!", "type_info": "Bool"}], "parameters": {"Left": ["Uuid", "Int8", "Bool", "Bool", "Bool", "Bool", "Bool", "VarcharArray"]}, "nullable": [null]}}, "318f44f31151f13d5eb6f882a9f5c135162f5b496f942ff6ccd70a5ebfb21a04": {"query": "\n            INSERT INTO squadov.hearthstone_match_player_medals (\n                view_uuid,\n                player_match_id,\n                league_id,\n                earned_stars,\n                star_level,\n                best_star_level,\n                win_streak,\n                legend_index,\n                is_standard\n            )\n            VALUES (\n                $1,\n                $2,\n                $3,\n                $4,\n                $5,\n                $6,\n                $7,\n                $8,\n                $9\n            )\n            ON CONFLICT DO NOTHING\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int4", "Int4", "Int4", "Int4", "Int4", "Int4", "Int4", "Bool"]}, "nullable": []}}, "32288c8f4ddaf1349d259ec03137f2726cbb76143a39a98920c1ec797eb514b2": {"query": "\n        INSERT INTO squadov.valorant_match_uuid_link (\n            match_uuid,\n            match_id,\n            shard\n        )\n        VALUES (\n            $1,\n            $2,\n            $3\n        )\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar", "Varchar"]}, "nullable": []}}, "324414b079cff32ff030f9e25332fb12d2397f63a032f7454b90c3b944d2210a": {"query": "\n                WITH realms AS (\n                    SELECT *\n                    FROM squadov.wow_realms\n                    WHERE id = $1\n                    UNION\n                    SELECT wr.*\n                    FROM squadov.wow_connected_realms AS wcr\n                    INNER JOIN squadov.wow_connected_realm_members AS crm\n                        ON crm.connected_realm_id = wcr.id\n                    INNER JOIN squadov.wow_realms AS wr\n                        ON wr.id = crm.realm_id\n                    WHERE wcr.id = $1\n                )\n                SELECT slug AS \"slug!\"\n                FROM realms\n                ORDER BY LEVENSHTEIN(name, $2::VARCHAR) ASC\n                LIMIT 1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "slug!", "type_info": "Varchar"}], "parameters": {"Left": ["Int8", "Varchar"]}, "nullable": [null]}}, "335a0330517884d402e4072e2170f66fc6a8d72562e43bc5b25949391790eb25": {"query": "\n            SELECT cr.*\n            FROM squadov.community_roles AS cr\n            WHERE cr.community_id = $1\n                AND cr.is_default\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "community_id", "type_info": "Int8"}, {"ordinal": 2, "name": "name", "type_info": "Varchar"}, {"ordinal": 3, "name": "can_manage", "type_info": "Bool"}, {"ordinal": 4, "name": "can_moderate", "type_info": "Bool"}, {"ordinal": 5, "name": "can_invite", "type_info": "Bool"}, {"ordinal": 6, "name": "can_share", "type_info": "Bool"}, {"ordinal": 7, "name": "is_default", "type_info": "Bool"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, false, false, false, false, false, false]}}, "3369f88ea6cba18dee4f036a75e29aa320f5a32256afc8afff15c4d573872281": {"query": "\n        SELECT local_encryption_key\n        FROM squadov.users\n        WHERE uuid = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "local_encryption_key", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false]}}, "3453bd213487aa83831cbfd4db580e2fb3e29e7accbecfcf639634cfb7684fbd": {"query": "\n            SELECT DISTINCT user_id, reason\n            FROM squadov.user_favorite_matches\n            WHERE match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "user_id", "type_info": "Int8"}, {"ordinal": 1, "name": "reason", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false]}}, "34b40790bce4e038763cdfa7986dc0976c1526be8354289f40ee3d30347eac86": {"query": "\n            SELECT EXISTS(\n                SELECT 1\n                FROM squadov.csgo_match_views\n                WHERE match_uuid = $1\n                    AND user_id = $2\n            ) AS \"exists!\"\n            ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [null]}}, "351b0bc92be6c8bbc1b3e412c8261b0a043495f6866917e07a03aec6e55a3bfd": {"query": "\n            SELECT\n                COALESCE((\n                    SELECT vmp.competitive_tier\n                    FROM squadov.valorant_matches AS vm\n                    INNER JOIN squadov.valorant_match_players AS vmp\n                        ON vmp.match_uuid = vm.match_uuid\n                    WHERE vmp.puuid = $1\n                        AND vm.is_ranked IS TRUE\n                    ORDER BY vm.server_start_time_utc DESC\n                    LIMIT 1\n                ), 0) AS \"rank!\",\n                SUM(vvpms.kills)::BIGINT AS \"kills!\",\n                SUM(vvpms.deaths)::BIGINT AS \"deaths!\",\n                SUM(vvpms.assists)::BIGINT AS \"assists!\",\n                SUM(vvpms.rounds_played)::BIGINT AS \"rounds!\",\n                SUM(vvpms.total_combat_score)::BIGINT AS \"total_combat_score!\",\n                SUM(vvpms.total_damage)::BIGINT AS \"total_damage!\",\n                SUM(vvpms.headshots)::BIGINT AS \"headshots!\",\n                SUM(vvpms.bodyshots)::BIGINT AS \"bodyshots!\",\n                SUM(vvpms.legshots)::BIGINT AS \"legshots!\",\n                SUM(CASE WHEN vvpms.won THEN 1 END)::BIGINT AS \"wins!\",\n                COUNT(vvpms.match_uuid) AS \"games!\"\n            FROM squadov.view_valorant_player_match_stats AS vvpms\n            WHERE vvpms.puuid = $1\n            GROUP BY vvpms.puuid\n            ", "describe": {"columns": [{"ordinal": 0, "name": "rank!", "type_info": "Int4"}, {"ordinal": 1, "name": "kills!", "type_info": "Int8"}, {"ordinal": 2, "name": "deaths!", "type_info": "Int8"}, {"ordinal": 3, "name": "assists!", "type_info": "Int8"}, {"ordinal": 4, "name": "rounds!", "type_info": "Int8"}, {"ordinal": 5, "name": "total_combat_score!", "type_info": "Int8"}, {"ordinal": 6, "name": "total_damage!", "type_info": "Int8"}, {"ordinal": 7, "name": "headshots!", "type_info": "Int8"}, {"ordinal": 8, "name": "bodyshots!", "type_info": "Int8"}, {"ordinal": 9, "name": "legshots!", "type_info": "Int8"}, {"ordinal": 10, "name": "wins!", "type_info": "Int8"}, {"ordinal": 11, "name": "games!", "type_info": "Int8"}], "parameters": {"Left": ["Text"]}, "nullable": [null, null, null, null, null, null, null, null, null, null, null, null]}}, "353f19c30bcb5c2ed8d6952d319ed7d0b70f488dc6d2441fef849482ff03544c": {"query": "\n                SELECT u.id\n                FROM squadov.vods AS v\n                INNER JOIN squadov.users AS u\n                    ON u.uuid = v.user_uuid\n                WHERE v.video_uuid = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false]}}, "35acfec83d84ac6e9586f723b42f9aa7be56c29aab56f4b029ad418477e36481": {"query": "\n            DELETE FROM squadov.squad_membership_invites\n            WHERE squad_id = $1 AND invite_uuid = $2 AND response_time IS NULL\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": []}}, "35c96fa71dec7e187101695ce99051cd58815d5b78034423a199bf185f10272b": {"query": "\n        INSERT INTO squadov.user_profile_vods (\n            user_id,\n            video_uuid\n        )\n        VALUES (\n            $2,\n            $1\n        )\n        ON CONFLICT DO NOTHING\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "36e6fe3a8a9bc211b7728ff6c962e23b1877abfbafc26404982ba7df7b6edfff": {"query": "\n            SELECT\n                dest.unit_guid AS \"target_guid\",\n                COALESCE(dest.unit_name, dest.unit_guid) AS \"target_name!\",\n                wae.spell_id,\n                wae.aura_type,\n                wae.applied,\n                wve.tm\n            FROM squadov.wow_match_view_aura_events AS wae\n            INNER JOIN squadov.wow_match_view_events AS wve\n                ON wve.event_id = wae.event_id\n            INNER JOIN squadov.wow_match_view_character_presence AS dest\n                ON dest.character_id = wve.dest_char\n            INNER JOIN squadov.wow_match_view AS wmv\n                ON wmv.alt_id = wve.view_id\n            WHERE wmv.id = $1\n            ORDER BY wve.tm ASC\n            ", "describe": {"columns": [{"ordinal": 0, "name": "target_guid", "type_info": "Varchar"}, {"ordinal": 1, "name": "target_name!", "type_info": "Varchar"}, {"ordinal": 2, "name": "spell_id", "type_info": "Int8"}, {"ordinal": 3, "name": "aura_type", "type_info": "Varchar"}, {"ordinal": 4, "name": "applied", "type_info": "Bool"}, {"ordinal": 5, "name": "tm", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, null, false, false, false, false]}}, "370603d6ba09a5be6b5641446688a50489ebc070a328af311b6ce0328716027b": {"query": "\n        SELECT u.uuid\n        FROM squadov.riot_accounts AS ra\n        INNER JOIN squadov.riot_account_links AS ral\n            ON ral.puuid = ra.puuid\n        INNER JOIN squadov.users AS u\n            ON u.id = ral.user_id\n        WHERE ra.puuid = $1\n            AND ra.game_name IS NOT NULL\n            AND ra.tag_line IS NOT NULL\n        ", "describe": {"columns": [{"ordinal": 0, "name": "uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Text"]}, "nullable": [false]}}, "378a151b8c4779e48135fa48f71e1f1b86a8db161125ae28cdb6568962536ac7": {"query": "\n                    SELECT EXISTS (\n                        SELECT 1\n                        FROM squadov.hearthstone_match_view\n                        WHERE user_id = $1 AND match_uuid = $2\n                    ) as \"exists!\"\n                    ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": [null]}}, "379dea34d9b547227ee37726efc193076e423233eef53132314c965128ada89d": {"query": "\n        SELECT\n            entity_id,\n            tags,\n            attributes\n        FROM squadov.hearthstone_snapshots_entities\n        WHERE snapshot_id = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "entity_id", "type_info": "Int4"}, {"ordinal": 1, "name": "tags", "type_info": "Jsonb"}, {"ordinal": 2, "name": "attributes", "type_info": "Jsonb"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false]}}, "37c985e8677d3b0c198dd017fa1271c56cd2a4297ba2606af1abccfa9ad74683": {"query": "\n        UPDATE squadov.wow_match_view_combatants AS wvc\n        SET class_id = sub.class_id\n        FROM (\n            SELECT wve.event_id, wsc.class_id\n            FROM UNNEST($1::VARCHAR[], $2::BIGINT[], $3::BIGINT[]) AS t(guid, spell_id, view_id)\n            INNER JOIN squadov.wow_match_view AS wmv\n                ON wmv.alt_id = t.view_id\n            INNER JOIN squadov.wow_spell_to_class AS wsc\n                ON wsc.spell_id = t.spell_id\n                    AND wmv.build_version LIKE wsc.build_id  || '.%'\n            INNER JOIN squadov.wow_match_view_events AS wve\n                ON wve.view_id = wmv.alt_id\n            INNER JOIN squadov.wow_match_view_combatants AS wvc\n                ON wvc.event_id = wve.event_id\n            INNER JOIN squadov.wow_match_view_character_presence AS wcp\n                ON wcp.character_id = wvc.character_id\n                    AND wcp.view_id = wmv.id\n                    AND wcp.unit_guid = t.guid\n        ) AS sub\n        WHERE wvc.event_id = sub.event_id\n        ", "describe": {"columns": [], "parameters": {"Left": ["VarcharArray", "Int8Array", "Int8Array"]}, "nullable": []}}, "37cb05e05f2bc313ccc27d8a51725734341ded0a1972ec432ce6a3f91974d9c6": {"query": "\n                SELECT\n                    wcp.unit_guid AS \"guid!\",\n                    SUM(GREATEST(whe.amount - whe.overheal, 0)) AS \"value!\"\n                FROM squadov.wow_match_view AS wmv\n                INNER JOIN squadov.wow_match_view_events AS wve\n                    ON wve.view_id = wmv.alt_id\n                INNER JOIN squadov.wow_match_view_character_presence AS wcp\n                    ON wcp.character_id = wve.source_char\n                INNER JOIN squadov.wow_match_view_healing_events AS whe\n                    ON whe.event_id = wve.event_id\n                WHERE wmv.match_uuid = $1\n                    AND wmv.user_id = $2\n                    AND wcp.unit_guid = ANY($3)\n                GROUP BY wcp.unit_guid\n                ", "describe": {"columns": [{"ordinal": 0, "name": "guid!", "type_info": "Varchar"}, {"ordinal": 1, "name": "value!", "type_info": "Int8"}], "parameters": {"Left": ["Uuid", "Int8", "TextArray"]}, "nullable": [false, null]}}, "37eed04e62ceca045f96edfc7fd5f9ede137c60038bad255a67108d4230df8aa": {"query": "\n            SELECT\n                id,\n                username,\n                email,\n                verified,\n                uuid,\n                is_test,\n                is_admin,\n                welcome_sent,\n                registration_time\n            FROM squadov.users\n            WHERE email = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "username", "type_info": "Varchar"}, {"ordinal": 2, "name": "email", "type_info": "Varchar"}, {"ordinal": 3, "name": "verified", "type_info": "Bool"}, {"ordinal": 4, "name": "uuid", "type_info": "Uuid"}, {"ordinal": 5, "name": "is_test", "type_info": "Bool"}, {"ordinal": 6, "name": "is_admin", "type_info": "Bool"}, {"ordinal": 7, "name": "welcome_sent", "type_info": "Bool"}, {"ordinal": 8, "name": "registration_time", "type_info": "Timestamptz"}], "parameters": {"Left": ["Text"]}, "nullable": [false, false, false, false, false, false, false, false, true]}}, "3ac829cc813e1ed65cc368ddb56ef1a39c8dcbb812bf9d1f36566a19d92c8b6a": {"query": "\n                SELECT m.game\n                FROM squadov.vods AS v\n                INNER JOIN squadov.matches AS m\n                    ON m.uuid = v.match_uuid\n                WHERE v.video_uuid = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "game", "type_info": "Int4"}], "parameters": {"Left": ["Uuid"]}, "nullable": [true]}}, "3af293b60b18ac60064830e0c94f1dcdf5fdbb48916f7930c7bd2314767d9503": {"query": "\n                INSERT INTO squadov.deferred_rabbitmq_messages (\n                    execute_time,\n                    message\n                )\n                VALUES (\n                    $1,\n                    $2\n                )\n                ", "describe": {"columns": [], "parameters": {"Left": ["Timestamptz", "Bytea"]}, "nullable": []}}, "3b7ac82dedfe913e40b48142952cfc7c50bf66d536b853bb88f0272d19052df6": {"query": "\n            SELECT mmc.match_uuid\n            FROM squadov.match_to_match_collection AS mmc\n            INNER JOIN squadov.hearthstone_duels AS had\n                ON had.collection_uuid = mmc.collection_uuid AND had.user_id = $2\n            INNER JOIN squadov.hearthstone_matches AS hm\n                ON hm.match_uuid = mmc.match_uuid\n            CROSS JOIN (\n                SELECT *\n                FROM squadov.users\n                WHERE id = $2\n            ) AS u\n            LEFT JOIN squadov.vods AS v\n                ON v.match_uuid = mmc.match_uuid\n                    AND v.user_uuid = u.uuid\n                    AND v.is_clip = FALSE\n            WHERE mmc.collection_uuid = $1\n                AND (NOT $3::BOOLEAN OR v.video_uuid IS NOT NULL)\n            ORDER BY hm.match_time DESC\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid", "Int8", "Bool"]}, "nullable": [false]}}, "3b808dbc27e1d9a369281fb78018ef267550bf7eb65c79d17c77335ab429ad97": {"query": "\n        UPDATE squadov.lol_matches\n        SET game_start_time = LEAST($2, game_start_time)\n        WHERE match_uuid = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Timestamptz"]}, "nullable": []}}, "3d00ef54788440289935e3d6f40816a1484e3aae474f24a5a21fe54766dcc0b1": {"query": "\n                    SELECT EXISTS (\n                        SELECT 1\n                        FROM squadov.aimlab_tasks\n                        WHERE user_id = $1 AND match_uuid = $2\n                    ) as \"exists!\"\n                    ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": [null]}}, "3d7aba67dfe3827c3e0b46212ac03ef38cc61b302dd85556a083e3188ac46cca": {"query": "\n        DELETE FROM squadov.community_roles\n        WHERE community_id = $1\n            AND id = $2\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": []}}, "3d8e9077c49741b5deaf7fb96564902ba96d395d8e00cb5acead9e8d1470b5fd": {"query": "\n            SELECT id\n            FROM squadov.share_tokens\n            WHERE clip_uuid = $1 AND user_id = $2\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false]}}, "3e138458547a534fffa3ded62f291cb1049aff35284cb445872485fa50045b42": {"query": "\n        INSERT INTO squadov.daily_active_sessions (\n            user_id,\n            tm\n        )\n        VALUES (\n            $1,\n            CURRENT_DATE\n        )\n        ON CONFLICT DO NOTHING\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8"]}, "nullable": []}}, "3e596ff8dc9ac013a7a7e609809edf88d34b952ff17954a82eebf14ef0ed597e": {"query": "\n            UPDATE squadov.users\n            SET verified = TRUE\n            WHERE email = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Text"]}, "nullable": []}}, "3edcdf7295fb1f80e87048c6b3036b6f71f38c9854e8355295ff4850d7a0b082": {"query": "\n            SELECT\n                vvt.video_uuid AS \"video_uuid!\",\n                vvt.user_id AS \"user_id!\",\n                vvt.tm AS \"tm!\",\n                vvt.tag AS \"tag!\",\n                vvt.tag_id AS \"tag_id!\"\n            FROM UNNEST($2::VARCHAR[]) AS inp(tag)\n            INNER JOIN squadov.view_vod_tags AS vvt\n                ON vvt.video_uuid = $1\n                    AND vvt.tag = LOWER(inp.tag)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "video_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "user_id!", "type_info": "Int8"}, {"ordinal": 2, "name": "tm!", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "tag!", "type_info": "Varchar"}, {"ordinal": 4, "name": "tag_id!", "type_info": "Int8"}], "parameters": {"Left": ["Uuid", "VarcharArray"]}, "nullable": [true, true, true, true, true]}}, "3f854d0cb50fbbe984db4ae6e2fdad95675fdd2cd059cb920654cfbf55e28660": {"query": "\n            INSERT INTO squadov.matches (uuid, game)\n            SELECT gen_random_uuid(), $2\n            FROM generate_series(1, $1)\n            RETURNING uuid\n            ", "describe": {"columns": [{"ordinal": 0, "name": "uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Int4", "Int4"]}, "nullable": [false]}}, "3ffc989c34029546d5b513f7a87a3de3304dd60d0999e2e2e37b1942db278241": {"query": "\n                SELECT EXISTS (\n                    SELECT 1\n                    FROM squadov.user_watchlist_vods\n                    WHERE video_uuid = $1\n                        AND user_id = $2\n                ) AS \"exists!\"\n                ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [null]}}, "40d65f11def1d27d5c00441f720d1affe5cd60a30eaadabf66dec10363ccb257": {"query": "\n        SELECT\n            u.id,\n            u.email,\n            u.username,\n            u.verified,\n            u.uuid,\n            u.is_test,\n            u.is_admin,\n            u.welcome_sent,\n            u.registration_time,\n            ARRAY_AGG(cr.id) AS \"roles!\",\n            cm.sub_id AS \"sub_id\"\n        FROM squadov.community_membership AS cm\n        INNER JOIN squadov.community_member_roles AS cmr\n            ON cmr.membership_id = cm.id\n        INNER JOIN squadov.community_roles AS cr\n            ON cr.id = cmr.role_id\n        INNER JOIN squadov.users AS u\n            ON u.id = cm.user_id\n        WHERE cm.community_id = $1\n        GROUP BY u.id, u.email, u.username, u.verified, u.uuid, u.is_test, u.is_admin, u.welcome_sent, u.registration_time, cm.sub_id\n        ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "email", "type_info": "Varchar"}, {"ordinal": 2, "name": "username", "type_info": "Varchar"}, {"ordinal": 3, "name": "verified", "type_info": "Bool"}, {"ordinal": 4, "name": "uuid", "type_info": "Uuid"}, {"ordinal": 5, "name": "is_test", "type_info": "Bool"}, {"ordinal": 6, "name": "is_admin", "type_info": "Bool"}, {"ordinal": 7, "name": "welcome_sent", "type_info": "Bool"}, {"ordinal": 8, "name": "registration_time", "type_info": "Timestamptz"}, {"ordinal": 9, "name": "roles!", "type_info": "Int8Array"}, {"ordinal": 10, "name": "sub_id", "type_info": "Int8"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, false, false, false, false, false, false, true, null, true]}}, "41130ce80d154bb406cc59eef6dfbd5d9c363d3430fbad9a69025541b804cfca": {"query": "\n        SELECT clip_uuid AS \"clip_uuid!\"\n        FROM squadov.staged_clips\n        WHERE id = $1\n            AND execute_time IS NOT NULL\n            AND clip_uuid IS NOT NULL\n        ", "describe": {"columns": [{"ordinal": 0, "name": "clip_uuid!", "type_info": "Uuid"}], "parameters": {"Left": ["Int8"]}, "nullable": [true]}}, "4115829a738f784b8cede5426aecaf4ad601ffd4abf931a8286f7fbaede93872": {"query": "\n        UPDATE squadov.community_roles\n        SET name = $3,\n            can_manage = $4,\n            can_moderate = $5,\n            can_invite = $6,\n            can_share = $7\n        WHERE id = $1\n            AND community_id = $2\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8", "Varchar", "Bool", "Bool", "Bool", "Bool"]}, "nullable": []}}, "41b5ba6e9b893c5605b5d75579656e0834a84f063e83223c0b76d75363b5972c": {"query": "\n            INSERT INTO squadov.users (\n                email,\n                username,\n                verified,\n                local_encryption_key\n            )\n            SELECT $1, $2, $3, encode(digest(gen_random_bytes(16), 'sha256'), 'base64')\n            RETURNING\n                id,\n                username,\n                email,\n                verified,\n                uuid,\n                is_test,\n                is_admin,\n                welcome_sent,\n                registration_time\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "username", "type_info": "Varchar"}, {"ordinal": 2, "name": "email", "type_info": "Varchar"}, {"ordinal": 3, "name": "verified", "type_info": "Bool"}, {"ordinal": 4, "name": "uuid", "type_info": "Uuid"}, {"ordinal": 5, "name": "is_test", "type_info": "Bool"}, {"ordinal": 6, "name": "is_admin", "type_info": "Bool"}, {"ordinal": 7, "name": "welcome_sent", "type_info": "Bool"}, {"ordinal": 8, "name": "registration_time", "type_info": "Timestamptz"}], "parameters": {"Left": ["Varchar", "Varchar", "Bool"]}, "nullable": [false, false, false, false, false, false, false, false, true]}}, "421dd1f8ae71e4c25d117a483b3ff07a8acdd4f2fa3b0141da3afc5cd7acac73": {"query": "\n            DELETE FROM squadov.user_sessions\n            WHERE user_id = $1\n                AND is_temp = FALSE\n                AND expiration_tm IS NOT NULL\n                AND expiration_tm <= NOW()\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8"]}, "nullable": []}}, "43c651839d587eced0f8f29bbbecb698c7a42e4e398822be0886bd9df1de9cd8": {"query": "\n            SELECT * FROM (\n                SELECT DISTINCT ON (wmv.match_uuid, wmv.user_id)\n                    wmv.match_uuid AS \"match_uuid!\",\n                    wmv.start_tm AS \"tm!\",\n                    wmv.end_tm AS \"finish_time\", \n                    wmv.build_version AS \"build!\",\n                    '' AS \"combatants_key!\",\n                    FALSE AS \"success!\",\n                    nwi.instance_id,\n                    nwi.instance_type,\n                    u.uuid AS \"user_uuid!\"\n                FROM UNNEST($1::UUID[], $2::BIGINT[]) AS inp(match_uuid, user_id)\n                INNER JOIN squadov.wow_match_view AS wmv\n                    ON wmv.match_uuid = inp.match_uuid\n                        AND wmv.user_id = inp.user_id\n                INNER JOIN squadov.new_wow_instances AS nwi\n                    ON nwi.match_uuid = wmv.match_uuid\n                INNER JOIN squadov.users AS u\n                    ON u.id = inp.user_id\n                ORDER BY wmv.match_uuid, wmv.user_id\n            ) AS t\n            ORDER BY finish_time DESC\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "tm!", "type_info": "Timestamptz"}, {"ordinal": 2, "name": "finish_time", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "build!", "type_info": "Varchar"}, {"ordinal": 4, "name": "combatants_key!", "type_info": "Text"}, {"ordinal": 5, "name": "success!", "type_info": "Bool"}, {"ordinal": 6, "name": "instance_id", "type_info": "Int4"}, {"ordinal": 7, "name": "instance_type", "type_info": "Int4"}, {"ordinal": 8, "name": "user_uuid!", "type_info": "Uuid"}], "parameters": {"Left": ["UuidArray", "Int8Array"]}, "nullable": [true, false, true, false, null, null, false, false, false]}}, "44bd28db999a124fa8a17d6809e2f885f0717a3bfb7dfa268fa4b463403650a2": {"query": "\n            SELECT id\n            FROM squadov.share_tokens\n            WHERE match_uuid = $1 AND user_id = $2\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false]}}, "44d0aa69bfe7afe951347619fff4a5fee87830312c2bb38ed77a02fdf7b3fa1a": {"query": "\n            SELECT inp.match_uuid\n            FROM (\n                SELECT DISTINCT hm.id, hm.match_uuid\n                FROM squadov.hearthstone_matches AS hm\n                INNER JOIN squadov.hearthstone_match_view AS hmv\n                    ON hmv.match_uuid = hm.match_uuid\n                INNER JOIN squadov.hearthstone_match_players AS hmp\n                    ON hmp.view_uuid = hmv.view_uuid\n                INNER JOIN squadov.hearthstone_match_metadata AS hmm\n                    ON hmm.view_uuid = hmv.view_uuid\n                INNER JOIN squadov.users AS u\n                    ON u.id = hmp.user_id\n                LEFT JOIN squadov.vods AS v\n                    ON v.match_uuid = hm.match_uuid\n                        AND v.user_uuid = u.uuid\n                        AND v.is_clip = FALSE\n                LEFT JOIN squadov.view_share_connections_access_users AS sau\n                    ON sau.match_uuid = hm.match_uuid\n                        AND sau.user_id = $6\n                WHERE hmp.user_id = $1\n                    AND hmm.game_type = any($4)\n                    AND (NOT $5::BOOLEAN OR v.video_uuid IS NOT NULL)\n                    AND ($1 = $6 OR sau.match_uuid IS NOT NULL)\n                ORDER BY hm.id DESC, hm.match_uuid\n                LIMIT $2 OFFSET $3\n            ) as inp\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Int8", "Int8", "Int8", "Int4Array", "Bool", "Int8"]}, "nullable": [false]}}, "4558b1d6bcd403f55d85705f8434160430568e7d521a45f025e719dc65e75a07": {"query": "\n            UPDATE squadov.wow_match_view_character_presence AS wcp\n            SET has_combatant_info = TRUE\n            FROM UNNEST($1::UUID[], $2::VARCHAR[]) AS sub(view_id, unit_guid)\n            WHERE wcp.view_id = sub.view_id AND wcp.unit_guid = sub.unit_guid\n            RETURNING wcp.view_id, wcp.unit_guid, wcp.character_id\n            ", "describe": {"columns": [{"ordinal": 0, "name": "view_id", "type_info": "Uuid"}, {"ordinal": 1, "name": "unit_guid", "type_info": "Varchar"}, {"ordinal": 2, "name": "character_id", "type_info": "Int8"}], "parameters": {"Left": ["UuidArray", "VarcharArray"]}, "nullable": [false, false, false]}}, "46b58655513b8e467a7585a7ecc23ec9663bb971b38d211821126c265fc8d4df": {"query": "\n                UPDATE squadov.geo_ip_cache\n                SET cache_tm = NOW()\n                WHERE ip_addr >>= $1\n                ", "describe": {"columns": [], "parameters": {"Left": ["Inet"]}, "nullable": []}}, "47c022668b7eb67ac4316e5386f4fa07b0bd77ef591c7aafcf47d1a8c0c01910": {"query": "\n            SELECT EXISTS (\n                SELECT 1\n                FROM squadov.squad_user_share_blacklist\n                WHERE squad_id = $1 AND user_id = $2\n            ) AS \"exists!\"\n            ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": [null]}}, "47da7c086f9aecc77cba7496cbe1f284291b56d9f82f8eb613e765e58d7027f3": {"query": "\n        DELETE FROM squadov.user_discord_link\n        WHERE user_id = $1\n            AND discord_snowflake = $2\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": []}}, "47e6607cfc1524d2fc1960a1f3a309b497b034729c8e845664fc1b4379e64cad": {"query": "\n            SELECT sil.*, COUNT(slu.link_id)::INTEGER AS \"use_count!\"\n            FROM squadov.squad_invite_links AS sil\n            LEFT JOIN squadov.squad_invite_link_usage AS slu\n                ON slu.link_id = sil.id\n            WHERE sil.squad_id = $1 AND sil.user_id = $2\n            GROUP BY sil.id, sil.squad_id, sil.user_id, sil.create_time, sil.expire_time, sil.max_uses\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "squad_id", "type_info": "Int8"}, {"ordinal": 2, "name": "user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "create_time", "type_info": "Timestamptz"}, {"ordinal": 4, "name": "expire_time", "type_info": "Timestamptz"}, {"ordinal": 5, "name": "max_uses", "type_info": "Int4"}, {"ordinal": 6, "name": "use_count!", "type_info": "Int4"}], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": [false, false, false, false, true, true, null]}}, "48ba62c1ad6cd369d138dd946fb60ae335819e245f2cb058a486a722d8c53c30": {"query": "\n            DELETE FROM squadov.user_watchlist_vods\n            WHERE video_uuid = $1 AND user_id = $2\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "4924319db705ea8f6bdd17883d05c56e9327da9c1b87564c664bdfc2c1134b93": {"query": "\n            SELECT ral.user_id, lmpi.participant_id\n            FROM squadov.lol_match_participant_identities AS lmpi\n            INNER JOIN squadov.riot_accounts AS ra\n                ON ra.summoner_id = lmpi.summoner_id\n            INNER JOIN squadov.riot_account_links AS ral\n                ON ral.puuid = ra.puuid\n            WHERE lmpi.match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "user_id", "type_info": "Int8"}, {"ordinal": 1, "name": "participant_id", "type_info": "Int4"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false]}}, "4a14885c2650829ed7b288c0daec24a44781a0c5116b25b11efc6a428f2159e4": {"query": "\n        SELECT DISTINCT lmi.game_creation, lmi.match_uuid\n        FROM squadov.lol_match_info AS lmi\n        INNER JOIN squadov.lol_match_participant_identities AS lmpi\n            ON lmpi.match_uuid = lmi.match_uuid\n        INNER JOIN squadov.riot_accounts AS ra\n            ON ra.summoner_id = lmpi.summoner_id\n        LEFT JOIN squadov.vods AS v\n            ON v.match_uuid = lmi.match_uuid\n                AND v.user_uuid = $4\n                AND v.is_clip = FALSE\n        LEFT JOIN squadov.view_share_connections_access_users AS sau\n            ON sau.match_uuid = lmi.match_uuid\n                AND sau.user_id = $8\n        CROSS JOIN (\n            SELECT *\n            FROM squadov.users\n            WHERE uuid = $4\n        ) AS u\n        WHERE ra.puuid = $1\n            AND (CARDINALITY($5::INTEGER[]) = 0 OR lmi.map_id = ANY($5))\n            AND (CARDINALITY($6::VARCHAR[]) = 0 OR lmi.game_mode = ANY($6))\n            AND (NOT $7::BOOLEAN OR v.video_uuid IS NOT NULL)\n            AND (u.id = $8 OR sau.match_uuid IS NOT NULL)\n        ORDER BY lmi.game_creation DESC, lmi.match_uuid\n        LIMIT $2 OFFSET $3\n        ", "describe": {"columns": [{"ordinal": 0, "name": "game_creation", "type_info": "Timestamptz"}, {"ordinal": 1, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Text", "Int8", "Int8", "Uuid", "Int4Array", "VarcharArray", "Bool", "Int8"]}, "nullable": [false, false]}}, "4a6228eceba9b7d3b33bf510395734d8a9ab10556ca956d43e370ed87afda0f4": {"query": "\n            UPDATE squadov.vod_metadata\n            SET session_id = $3\n            WHERE video_uuid = $1\n                AND id = $2\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Text", "Varchar"]}, "nullable": []}}, "4b82f7aa478e260069515d5967caa511380181604c1e666b045f7004616b7bba": {"query": "\n        SELECT\n            inp.match_uuid AS \"match_uuid!\",\n            u.id AS \"user_id!\"\n        FROM UNNEST($1::UUID[], $2::UUID[]) AS inp(match_uuid, player_uuid)\n        INNER JOIN squadov.users AS u\n            ON u.uuid = inp.player_uuid\n        INNER JOIN squadov.wow_match_view AS wmv\n            ON wmv.user_id = u.id\n                AND wmv.match_uuid = inp.match_uuid\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "user_id!", "type_info": "Int8"}], "parameters": {"Left": ["UuidArray", "UuidArray"]}, "nullable": [true, true]}}, "4bfd557962684743ebfeba362b14b6e4ada8c753b3ad036812a5f23a2a3771e2": {"query": "\n            INSERT INTO squadov.share_tokens (\n                id,\n                match_uuid,\n                user_id,\n                encrypted_token,\n                iv,\n                aad,\n                tag,\n                bulk_video_uuids,\n                meta_user_id\n            ) VALUES (\n                gen_random_uuid(),\n                $1,\n                $2,\n                $3,\n                $4,\n                $5,\n                $6,\n                $7,\n                $8\n            )\n            RETURNING id\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid", "Int8", "Bytea", "Bytea", "Bytea", "Bytea", "UuidArray", "Int8"]}, "nullable": [false]}}, "4c2cc0933b781a4b9d3150b0f94652d3be66ca84ebe43d0407e6ed0ef65e8112": {"query": "\n            SELECT\n                sq.id AS \"id!\",\n                sq.squad_name AS \"squad_name!\",\n                sq.creation_time AS \"creation_time!\",\n                sq.member_count AS \"member_count!\",\n                sq.pending_invite_count AS \"pending_invite_count!\",\n                sq.is_public AS \"is_public!\",\n                sq.is_discoverable AS \"is_discoverable!\",\n                sra.squad_role AS \"squad_role: SquadRole\",\n                us.username AS \"username\",\n                us.id AS \"user_id\",\n                sub.squad_id IS NULL AS \"can_share!\"\n            FROM squadov.squad_overview AS sq\n            INNER JOIN squadov.squad_role_assignments AS sra\n                ON sra.squad_id = sq.id\n            INNER JOIN squadov.users AS us\n                ON us.id = sra.user_id\n            INNER JOIN squadov.squads AS s\n                ON s.id = sq.id\n            LEFT JOIN squadov.squad_user_share_blacklist AS sub\n                ON sub.squad_id = s.id\n                    AND sub.user_id = us.id\n            WHERE sra.user_id = $1\n                AND (NOT us.is_admin OR NOT s.is_default)\n            ORDER BY sq.squad_name\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id!", "type_info": "Int8"}, {"ordinal": 1, "name": "squad_name!", "type_info": "Varchar"}, {"ordinal": 2, "name": "creation_time!", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "member_count!", "type_info": "Int8"}, {"ordinal": 4, "name": "pending_invite_count!", "type_info": "Int8"}, {"ordinal": 5, "name": "is_public!", "type_info": "Bool"}, {"ordinal": 6, "name": "is_discoverable!", "type_info": "Bool"}, {"ordinal": 7, "name": "squad_role: SquadRole", "type_info": {"Custom": {"name": "squad_role", "kind": {"Enum": ["Owner", "Member"]}}}}, {"ordinal": 8, "name": "username", "type_info": "Varchar"}, {"ordinal": 9, "name": "user_id", "type_info": "Int8"}, {"ordinal": 10, "name": "can_share!", "type_info": "Bool"}], "parameters": {"Left": ["Int8"]}, "nullable": [true, true, true, true, true, true, true, false, false, false, null]}}, "4c8d614e3ffba4ee3de3814d6d3076bea6f5ce2205046407286fe97b3c520bed": {"query": "\n            UPDATE squadov.squads\n            SET squad_name = $2\n            WHERE id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Varchar"]}, "nullable": []}}, "4d087e365af6db7a1101dbc8bbb6d6e0ad3660284ae67c4e1bb9dcdfa96722d1": {"query": "\n            SELECT DISTINCT\n                wmv.match_uuid AS \"match_uuid!\",\n                u.uuid AS \"player_uuid!\",\n                wmv.start_tm\n            FROM squadov.wow_match_view AS wmv\n            INNER JOIN squadov.wow_instance_view AS wiv\n                ON wiv.view_id = wmv.id\n            INNER JOIN squadov.wow_match_view_character_presence AS wcp\n                ON wcp.view_id = wmv.id\n            INNER JOIN squadov.users AS u\n                ON u.id = wmv.user_id\n            LEFT JOIN squadov.vods AS v\n                ON v.match_uuid = wmv.match_uuid\n                    AND v.user_uuid = u.uuid\n                    AND v.is_clip = FALSE\n            LEFT JOIN squadov.view_share_connections_access_users AS sau\n                ON sau.match_uuid = wmv.match_uuid\n                    AND sau.user_id = $7\n            WHERE wmv.user_id = $2\n                AND wcp.unit_guid = $1\n                AND wmv.match_uuid IS NOT NULL\n                AND (CARDINALITY($5::INTEGER[]) = 0 OR wiv.instance_id = ANY($5))\n                AND (NOT $6::BOOLEAN OR v.video_uuid IS NOT NULL)\n                AND ($2 = $7 OR sau.match_uuid IS NOT NULL)\n                AND (CARDINALITY($8::INTEGER[]) = 0 OR wiv.instance_type = ANY($8))\n            ORDER BY wmv.start_tm DESC, wmv.match_uuid, u.uuid\n            LIMIT $3 OFFSET $4\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "player_uuid!", "type_info": "Uuid"}, {"ordinal": 2, "name": "start_tm", "type_info": "Timestamptz"}], "parameters": {"Left": ["Text", "Int8", "Int8", "Int8", "Int4Array", "Bool", "Int8", "Int4Array"]}, "nullable": [true, false, false]}}, "4d212d80bbe5f3170d764986978312c6e4163aa9df167c7a23da47c881faef5d": {"query": "\n                    INSERT INTO squadov.geo_ip_cache (\n                        ip_addr,\n                        city,\n                        country,\n                        timezone,\n                        cache_tm\n                    )\n                    VALUES (\n                        $1,\n                        $2,\n                        $3,\n                        $4,\n                        NOW()\n                    )\n                    ", "describe": {"columns": [], "parameters": {"Left": ["Cidr", "Varchar", "Varchar", "Int4"]}, "nullable": []}}, "4d654232655dc70e8934c88436efef4ab2a2059254246b03447b2b380de2ae09": {"query": "\n                    INSERT INTO squadov.hearthstone_arena_drafts (\n                        collection_uuid,\n                        user_id,\n                        draft_deck_id,\n                        creation_time\n                    )\n                    VALUES (\n                        $1,\n                        $2,\n                        $3,\n                        $4\n                    )\n                    ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8", "Int8", "Timestamptz"]}, "nullable": []}}, "4e096232a910fec4581ff328fb29b38db8a75cc265abc887eff98381e7273d65": {"query": "\n            SELECT sub.match_uuid AS \"match_uuid!\", sub.user_uuids AS \"user_uuids!\"\n            FROM (\n                SELECT DISTINCT v.match_uuid AS \"match_uuid\", ARRAY_AGG(v.user_uuid) AS \"user_uuids\", MAX(v.end_time) AS \"end_time\"\n                FROM squadov.users AS u\n                CROSS JOIN LATERAL (\n                    SELECT v.*\n                    FROM squadov.vods AS v\n                    INNER JOIN squadov.users AS uu\n                        ON v.user_uuid = uu.uuid\n                    LEFT JOIN squadov.share_match_vod_connections AS svc\n                        ON svc.video_uuid = v.video_uuid\n                    WHERE uu.id = $1\n                        AND v.match_uuid IS NOT NULL\n                        AND v.user_uuid IS NOT NULL\n                        AND v.start_time IS NOT NULL\n                        AND v.end_time IS NOT NULL\n                        AND COALESCE(v.end_time >= $7, TRUE)\n                        AND COALESCE(v.end_time <= $8, TRUE)\n                        AND v.is_clip = FALSE\n                        AND (CARDINALITY($11::UUID[]) = 0 OR v.video_uuid = ANY($11))\n                        AND (CARDINALITY($5::BIGINT[]) = 0 OR svc.dest_squad_id = ANY($5))\n                    UNION\n                    SELECT v.*\n                    FROM squadov.view_share_connections_access_users AS vi\n                    INNER JOIN squadov.vods AS v\n                        ON v.video_uuid = vi.video_uuid\n                    INNER JOIN squadov.share_match_vod_connections AS mvc\n                        ON mvc.id = vi.id\n                    WHERE vi.user_id = $1\n                        AND (CARDINALITY($5::BIGINT[]) = 0 OR mvc.dest_squad_id = ANY($5))\n                        AND v.match_uuid IS NOT NULL\n                        AND v.user_uuid IS NOT NULL\n                        AND v.start_time IS NOT NULL\n                        AND v.end_time IS NOT NULL\n                        AND COALESCE(v.end_time >= $7, TRUE)\n                        AND COALESCE(v.end_time <= $8, TRUE)\n                        AND v.is_clip = FALSE\n                        AND (CARDINALITY($11::UUID[]) = 0 OR v.video_uuid = ANY($11))\n                ) AS v\n                INNER JOIN squadov.users AS vu\n                    ON vu.uuid = v.user_uuid\n                INNER JOIN squadov.matches AS m\n                    ON m.uuid = v.match_uuid\n                LEFT JOIN squadov.user_favorite_matches AS ufm\n                    ON ufm.match_uuid = m.uuid\n                        AND ufm.user_id = $1\n                LEFT JOIN squadov.user_watchlist_vods AS uwv\n                    ON uwv.video_uuid = v.video_uuid\n                        AND uwv.user_id = $1\n                LEFT JOIN squadov.user_profile_vods AS upv\n                    ON upv.video_uuid = v.video_uuid\n                        AND upv.user_id = u.id\n                LEFT JOIN squadov.wow_match_view AS wmv\n                    ON wmv.match_uuid = v.match_uuid\n                        AND wmv.user_id = vu.id\n                LEFT JOIN squadov.wow_encounter_view AS wev\n                    ON wev.view_id = wmv.id\n                LEFT JOIN squadov.wow_challenge_view AS wcv\n                    ON wcv.view_id = wmv.id\n                LEFT JOIN squadov.wow_arena_view AS wav\n                    ON wav.view_id = wmv.id\n                LEFT JOIN squadov.wow_instance_view AS wiv\n                    ON wiv.view_id = wmv.id\n                LEFT JOIN squadov.valorant_matches AS vm\n                    ON vm.match_uuid = m.uuid\n                LEFT JOIN squadov.view_vod_tags AS vvt\n                    ON v.video_uuid = vvt.video_uuid\n                LEFT JOIN squadov.valorant_match_computed_data AS mcd\n                    ON mcd.match_uuid = vm.match_uuid\n                LEFT JOIN squadov.valorant_match_pov_computed_data AS pcd\n                    ON pcd.match_uuid = vm.match_uuid\n                        AND pcd.user_id = vu.id\n                WHERE u.id = $1\n                    AND (CARDINALITY($4::INTEGER[]) = 0 OR m.game = ANY($4))\n                    AND (CARDINALITY($6::BIGINT[]) = 0 OR vu.id = ANY($6))\n                    AND (NOT $9::BOOLEAN OR ufm.match_uuid IS NOT NULL)\n                    AND (NOT $10::BOOLEAN OR uwv.video_uuid IS NOT NULL)\n                    AND (NOT $12::BOOLEAN OR upv.video_uuid IS NOT NULL)\n                    AND (CARDINALITY($13::VARCHAR[]) = 0 OR wmv.build_version LIKE ANY ($13))\n                    AND (wmv.id IS NULL OR wmv.build_version NOT LIKE '9.%' OR (\n                        wmv.build_version LIKE '9.%'\n                            AND ((\n                                    wev.view_id IS NOT NULL\n                                        AND (CARDINALITY($14::INTEGER[]) = 0 OR wev.instance_id = ANY($14))\n                                        AND (CARDINALITY($15::INTEGER[]) = 0 OR wev.encounter_id = ANY($15))\n                                        AND ($16::BOOLEAN IS NULL OR wev.success = $16)\n                                        AND (CARDINALITY($17::INTEGER[]) = 0 OR wev.difficulty = ANY($17))\n                                        AND (CARDINALITY($18::INTEGER[]) = 0 OR wmv.player_spec = ANY($18))\n                                        AND (COALESCE(wmv.t0_specs, '') ~ $19 OR COALESCE(wmv.t1_specs, '') ~ $19)\n                                        AND $34\n                                )\n                                OR (\n                                    wcv.view_id IS NOT NULL\n                                        AND (CARDINALITY($20::INTEGER[]) = 0 OR wcv.instance_id = ANY($20)) \n                                        AND ($21::BOOLEAN IS NULL OR wcv.success = $21)\n                                        AND ($22::INTEGER IS NULL OR wcv.keystone_level >= $22)\n                                        AND ($23::INTEGER IS NULL OR wcv.keystone_level <= $23)\n                                        AND (CARDINALITY($24::INTEGER[]) = 0 OR wmv.player_spec = ANY($24))\n                                        AND (COALESCE(wmv.t0_specs, '') ~ $25 OR COALESCE(wmv.t1_specs, '') ~ $25)\n                                        AND $35\n                                )\n                                OR (\n                                    wav.view_id IS NOT NULL\n                                        AND (CARDINALITY($26::INTEGER[]) = 0 OR wav.instance_id = ANY($26))\n                                        AND (CARDINALITY($27::VARCHAR[]) = 0 OR wav.arena_type = ANY($27))\n                                        AND ($28::BOOLEAN IS NULL OR ((wav.winning_team_id = wmv.player_team) = $28))\n                                        AND (CARDINALITY($29::INTEGER[]) = 0 OR wmv.player_spec = ANY($29))\n                                        AND ($30::INTEGER IS NULL OR wmv.player_rating >= $30)\n                                        AND ($31::INTEGER IS NULL OR wmv.player_rating <= $31)\n                                        AND (\n                                            (COALESCE(wmv.t0_specs, '') ~ $32 AND COALESCE(wmv.t1_specs, '') ~ $33)\n                                            OR\n                                            (COALESCE(wmv.t0_specs, '') ~ $33 AND COALESCE(wmv.t1_specs, '') ~ $32)\n                                        )\n                                        AND $36\n                                )\n                                OR (\n                                    wiv.view_id IS NOT NULL\n                                )\n                            )\n                    ))\n                    AND (wiv.view_id IS NULL OR (\n                        $38\n                            AND (CARDINALITY($39::INTEGER[]) = 0 OR wiv.instance_type = ANY($39))\n                            AND (CARDINALITY($40::INTEGER[]) = 0 OR wiv.instance_id = ANY($40))\n                    ))\n                    AND (\n                        vm.match_uuid IS NULL OR (\n                            (NOT $41::BOOLEAN OR vm.is_ranked)\n                                AND (CARDINALITY($42::VARCHAR[]) = 0 OR vm.map_id = ANY($42))\n                                AND (CARDINALITY($43::VARCHAR[]) = 0 OR vm.game_mode = ANY($43))\n                                AND (CARDINALITY($44::VARCHAR[]) = 0 OR pcd.pov_agent = ANY($44))\n                                AND (NOT $45::BOOLEAN OR pcd.winner)\n                                AND ($46::INTEGER IS NULL OR pcd.rank >= $46)\n                                AND ($47::INTEGER IS NULL OR pcd.rank <= $47)\n                                AND (CARDINALITY($48::INTEGER[]) = 0 OR pcd.key_events && $48)\n                                AND (\n                                    (mcd.t0_agents IS NULL AND mcd.t1_agents IS NULL)\n                                    OR\n                                    (mcd.t0_agents ~ $49 AND mcd.t1_agents ~ $50)\n                                    OR\n                                    (mcd.t0_agents ~ $50 AND mcd.t1_agents ~ $49)\n                                )\n                        )\n                    )\n                GROUP BY v.match_uuid\n                HAVING CARDINALITY($37::VARCHAR[]) = 0 OR ARRAY_AGG(vvt.tag) @> $37::VARCHAR[]\n            ) AS sub\n            ORDER BY sub.end_time DESC\n            LIMIT $2 OFFSET $3\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "user_uuids!", "type_info": "UuidArray"}], "parameters": {"Left": ["Int8", "Int8", "Int8", "Int4Array", "Int8Array", "Int8Array", "Timestamptz", "Timestamptz", "Bool", "Bool", "UuidArray", "Bool", "VarcharArray", "Int4Array", "Int4Array", "Bool", "Int4Array", "Int4Array", "Text", "Int4Array", "Bool", "Int4", "Int4", "Int4Array", "Text", "Int4Array", "VarcharArray", "Bool", "Int4Array", "Int4", "Int4", "Text", "Text", "Bool", "Bool", "Bool", "VarcharArray", "Bool", "Int4Array", "Int4Array", "Bool", "VarcharArray", "VarcharArray", "VarcharArray", "Bool", "Int4", "Int4", "Int4Array", "Text", "Text"]}, "nullable": [null, null]}}, "4e920a350ac6389165787f4f40917c17b1bedfd746361b05f9245d29ed655c17": {"query": "\n        SELECT DISTINCT tmi.game_datetime, tmi.match_uuid\n        FROM squadov.tft_match_info AS tmi\n        INNER JOIN squadov.tft_match_participants AS tmp\n            ON tmp.match_uuid = tmi.match_uuid\n        LEFT JOIN squadov.vods AS v\n            ON v.match_uuid = tmi.match_uuid\n                AND v.user_uuid = $4\n                AND v.is_clip = FALSE\n        LEFT JOIN squadov.view_share_connections_access_users AS sau\n            ON sau.match_uuid = tmi.match_uuid\n                AND sau.user_id = $6\n        CROSS JOIN (\n            SELECT *\n            FROM squadov.users\n            WHERE uuid = $4\n        ) AS u\n        WHERE tmp.puuid = $1\n            AND tmi.tft_set_number >= 3\n            AND (NOT $5::BOOLEAN OR v.video_uuid IS NOT NULL)\n            AND (u.id = $6 OR sau.match_uuid IS NOT NULL)\n        ORDER BY tmi.game_datetime DESC, tmi.match_uuid\n        LIMIT $2 OFFSET $3\n        ", "describe": {"columns": [{"ordinal": 0, "name": "game_datetime", "type_info": "Timestamptz"}, {"ordinal": 1, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Text", "Int8", "Int8", "Uuid", "Bool", "Int8"]}, "nullable": [false, false]}}, "4f51df24e9d71c48eb8f3f2c29c7a9d2e32e3ff53b05134515d5a6d148034275": {"query": "\n        SELECT lmtpf.*\n        FROM squadov.lol_match_timeline_participant_frames AS lmtpf\n        WHERE lmtpf.match_uuid = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "timestamp", "type_info": "Int8"}, {"ordinal": 2, "name": "participant_id", "type_info": "Int4"}, {"ordinal": 3, "name": "minions_killed", "type_info": "Int4"}, {"ordinal": 4, "name": "total_gold", "type_info": "Int4"}, {"ordinal": 5, "name": "level", "type_info": "Int4"}, {"ordinal": 6, "name": "xp", "type_info": "Int4"}, {"ordinal": 7, "name": "current_gold", "type_info": "Int4"}, {"ordinal": 8, "name": "jungle_minions_killed", "type_info": "Int4"}, {"ordinal": 9, "name": "x", "type_info": "Int4"}, {"ordinal": 10, "name": "y", "type_info": "Int4"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false, false, false, false, false, false, true, true]}}, "4fc13e0f2a0809fc5a8134c4dad932f9237f01f03f50c764ea058c6fd13c00a7": {"query": "\n            DELETE FROM squadov.squad_role_assignments\n            WHERE squad_id = $1 AND user_id = $2\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": []}}, "502378fe1930aa6e70dc8186f521a9c01de97f637e5356f286976aa348ff55d6": {"query": "\n        INSERT INTO squadov.daily_active_endpoint (\n            user_id,\n            tm\n        )\n        VALUES (\n            $1,\n            CURRENT_DATE\n        )\n        ON CONFLICT DO NOTHING\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8"]}, "nullable": []}}, "504e9ac0ea3227666ed464731224b732d357404137be285a3c1066b1192ad8e4": {"query": "\n            UPDATE squadov.users\n            SET username = $2,\n                email = $3,\n                verified = $4\n            WHERE id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Varchar", "Varchar", "Bool"]}, "nullable": []}}, "50e5bf138da27e6485d3a633d157e16b749c5ab21dd6b9fef9faa304f5fb16b8": {"query": "\n        SELECT *\n        FROM squadov.csgo_event_container_round_kills\n        WHERE container_id = $1\n        ORDER BY tm ASC\n        ", "describe": {"columns": [{"ordinal": 0, "name": "container_id", "type_info": "Int8"}, {"ordinal": 1, "name": "round_num", "type_info": "Int4"}, {"ordinal": 2, "name": "tm", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "victim", "type_info": "Int4"}, {"ordinal": 4, "name": "killer", "type_info": "Int4"}, {"ordinal": 5, "name": "assister", "type_info": "Int4"}, {"ordinal": 6, "name": "flash_assist", "type_info": "Bool"}, {"ordinal": 7, "name": "headshot", "type_info": "Bool"}, {"ordinal": 8, "name": "smoke", "type_info": "Bool"}, {"ordinal": 9, "name": "blind", "type_info": "Bool"}, {"ordinal": 10, "name": "wallbang", "type_info": "Bool"}, {"ordinal": 11, "name": "noscope", "type_info": "Bool"}, {"ordinal": 12, "name": "weapon", "type_info": "Int4"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, false, true, true, true, true, true, true, true, true, true, true]}}, "5165595d8ed23a9f090d1c6b8f891f107d782ebb4a435f231883a971da78cc8d": {"query": "\n            SELECT \n                block_id,\n                start_action_index,\n                end_action_index,\n                block_type,\n                parent_block,\n                entity_id\n            FROM squadov.hearthstone_blocks\n            WHERE match_uuid = $1\n                AND user_id = $2\n            ORDER BY end_action_index ASC\n            ", "describe": {"columns": [{"ordinal": 0, "name": "block_id", "type_info": "Uuid"}, {"ordinal": 1, "name": "start_action_index", "type_info": "Int4"}, {"ordinal": 2, "name": "end_action_index", "type_info": "Int4"}, {"ordinal": 3, "name": "block_type", "type_info": "Int4"}, {"ordinal": 4, "name": "parent_block", "type_info": "Uuid"}, {"ordinal": 5, "name": "entity_id", "type_info": "Int4"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false, false, false, false, true, false]}}, "544e017d1b9057a232c4f6124422548331920712fa602f048c9427e43f3d5c02": {"query": "\n            INSERT INTO squadov.new_wow_challenges (\n                match_uuid,\n                tr,\n                combatants_key,\n                instance_id,\n                keystone_level\n            )\n            SELECT\n                $1,\n                tstzrange(wmv.start_tm, $4, '[]'),\n                $2,\n                wcv.instance_id,\n                wcv.keystone_level\n            FROM squadov.wow_match_view AS wmv\n            INNER JOIN squadov.wow_challenge_view AS wcv\n                ON wcv.view_id = wmv.id\n            WHERE wmv.id = $3\n            ON CONFLICT (match_uuid) DO NOTHING\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar", "Uuid", "Timestamptz"]}, "nullable": []}}, "551344dfce7c376b125f7489a6a82db0cfef8dc27063a49771524be2df624267": {"query": "\n        SELECT *\n        FROM squadov.csgo_event_container_rounds\n        WHERE container_id = $1\n        ORDER BY round_num ASC\n        ", "describe": {"columns": [{"ordinal": 0, "name": "container_id", "type_info": "Int8"}, {"ordinal": 1, "name": "round_num", "type_info": "Int4"}, {"ordinal": 2, "name": "tm_round_start", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "tm_round_play", "type_info": "Timestamptz"}, {"ordinal": 4, "name": "tm_round_end", "type_info": "Timestamptz"}, {"ordinal": 5, "name": "bomb_state", "type_info": "Int4"}, {"ordinal": 6, "name": "tm_bomb_plant", "type_info": "Timestamptz"}, {"ordinal": 7, "name": "bomb_plant_user", "type_info": "Int4"}, {"ordinal": 8, "name": "bomb_plant_site", "type_info": "Int4"}, {"ordinal": 9, "name": "tm_bomb_event", "type_info": "Timestamptz"}, {"ordinal": 10, "name": "bomb_event_user", "type_info": "Int4"}, {"ordinal": 11, "name": "winning_team", "type_info": "Int4"}, {"ordinal": 12, "name": "round_win_reason", "type_info": "Int4"}, {"ordinal": 13, "name": "round_mvp", "type_info": "Int4"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, true, true, true, true, true, true, true, true, true, true, true, true]}}, "5564bc5c01f10f90196b17333d722022af40999c92309ac53110748385e4e491": {"query": "\n            SELECT steam_id\n            FROM squadov.steam_users_cache\n            WHERE steam_id = ANY($1)\n                AND last_sync_time IS NULL\n                    OR last_sync_time - NOW() > INTERVAL '1 day'\n            ", "describe": {"columns": [{"ordinal": 0, "name": "steam_id", "type_info": "Int8"}], "parameters": {"Left": ["Int8Array"]}, "nullable": [false]}}, "55c6d43c012b21c6e13a94b184788faafadc52ed99077ce0663cf8953e879532": {"query": "\n        UPDATE squadov.match_custom_events\n        SET tm = $2,\n            label = COALESCE($3, label),\n            icon = COALESCE($4, icon)\n        WHERE event_id = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Timestamptz", "Varchar", "Varchar"]}, "nullable": []}}, "5616044cca9560f02809f6007f8640731d5a20cfafd1a9f1eaab0aa8c6fda65d": {"query": "\n            INSERT INTO squadov.share_tokens (\n                id,\n                clip_uuid,\n                user_id,\n                encrypted_token,\n                iv,\n                aad,\n                tag\n            ) VALUES (\n                gen_random_uuid(),\n                $1,\n                $2,\n                $3,\n                $4,\n                $5,\n                $6\n            )\n            RETURNING id\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid", "Int8", "Bytea", "Bytea", "Bytea", "Bytea"]}, "nullable": [false]}}, "5623f8dffa39a60ac5a9e2d54ac6dd3e0991104172aa16c5ae1b443eb6c52cd1": {"query": "\n            SELECT\n                smi.squad_id,\n                smi.user_id,\n                smi.joined,\n                smi.response_time,\n                smi.invite_time,\n                smi.invite_uuid,\n                smi.email,\n                ur.username AS \"username?\",\n                us.username AS \"inviter_username\"\n            FROM squadov.squad_membership_invites AS smi\n            INNER JOIN squadov.users AS us\n                ON us.id = smi.inviter_user_id\n            LEFT JOIN squadov.users AS ur\n                ON ur.id = smi.user_id\n            WHERE smi.squad_id = $1 AND response_time IS NULL\n            ", "describe": {"columns": [{"ordinal": 0, "name": "squad_id", "type_info": "Int8"}, {"ordinal": 1, "name": "user_id", "type_info": "Int8"}, {"ordinal": 2, "name": "joined", "type_info": "Bool"}, {"ordinal": 3, "name": "response_time", "type_info": "Timestamptz"}, {"ordinal": 4, "name": "invite_time", "type_info": "Timestamptz"}, {"ordinal": 5, "name": "invite_uuid", "type_info": "Uuid"}, {"ordinal": 6, "name": "email", "type_info": "Varchar"}, {"ordinal": 7, "name": "username?", "type_info": "Varchar"}, {"ordinal": 8, "name": "inviter_username", "type_info": "Varchar"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, true, false, true, true, false, false, false, false]}}, "565ae1bce010a768bbd0c726c2628b59320a8230afb601d45381893c3b063c5b": {"query": "\n                SELECT\n                    (\n                        SELECT COUNT(squad_id)\n                        FROM squadov.squad_membership_invites\n                        WHERE user_id = $1 AND response_time IS NULL\n                    ) AS \"num_squad_invites!\"\n                ", "describe": {"columns": [{"ordinal": 0, "name": "num_squad_invites!", "type_info": "Int8"}], "parameters": {"Left": ["Int8"]}, "nullable": [null]}}, "569701599d59e341719e7f81f3a169b77b694571ef4d7ee73c0c17807b3347d2": {"query": "\n        SELECT\n            round_num,\n            plant_round_time,\n            planter_puuid,\n            defuse_round_time,\n            defuser_puuid,\n            team_round_winner\n        FROM squadov.valorant_match_rounds\n        WHERE match_uuid = $1\n        ORDER BY round_num ASC\n        ", "describe": {"columns": [{"ordinal": 0, "name": "round_num", "type_info": "Int4"}, {"ordinal": 1, "name": "plant_round_time", "type_info": "Int4"}, {"ordinal": 2, "name": "planter_puuid", "type_info": "Varchar"}, {"ordinal": 3, "name": "defuse_round_time", "type_info": "Int4"}, {"ordinal": 4, "name": "defuser_puuid", "type_info": "Varchar"}, {"ordinal": 5, "name": "team_round_winner", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, true, true, true, true, false]}}, "56d23ad07f9e653876d627230ccac4b1263cd44f5de8e7ba35ab712f9c402444": {"query": "\n            SELECT\n                round_num,\n                puuid,\n                loadout_value,\n                remaining_money,\n                spent_money,\n                weapon,\n                armor\n            FROM squadov.valorant_match_round_player_loadout\n            WHERE match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "round_num", "type_info": "Int4"}, {"ordinal": 1, "name": "puuid", "type_info": "Varchar"}, {"ordinal": 2, "name": "loadout_value", "type_info": "Int4"}, {"ordinal": 3, "name": "remaining_money", "type_info": "Int4"}, {"ordinal": 4, "name": "spent_money", "type_info": "Int4"}, {"ordinal": 5, "name": "weapon", "type_info": "Varchar"}, {"ordinal": 6, "name": "armor", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false, false, false, false]}}, "571cb94e2da118209b48504391b638159129a1d33e0e8cb3e34871f100b4200e": {"query": "\n            UPDATE squadov.wow_challenge_view\n            SET view_id = $2\n            WHERE view_id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Uuid"]}, "nullable": []}}, "5738bdf0538838a36680d6ae8d63bf854aa4322d5487cb25e4ae4244bc680494": {"query": "\n        UPDATE squadov.vod_metadata\n        SET has_preview = true\n        WHERE video_uuid = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid"]}, "nullable": []}}, "5a286d8330cb9eb9e2940c82390f02b961f40d7501fe94a4b6aba746fd71f9f6": {"query": "\n            SELECT\n                us.id AS \"session_id\",\n                us.access_token,\n                us.refresh_token,\n                u.id AS \"user_id\",\n                u.username AS \"user_username\",\n                u.email AS \"user_email\",\n                u.verified AS \"user_verified\",\n                u.uuid AS \"user_uuid\",\n                u.is_test AS \"is_test\",\n                u.is_admin AS \"is_admin\",\n                us.is_temp AS \"is_temp\",\n                u.welcome_sent AS \"welcome_sent\",\n                u.registration_time AS \"registration_time\"\n            FROM squadov.user_sessions AS us\n            INNER JOIN squadov.users AS u\n                ON u.id = us.user_id\n            WHERE us.id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "session_id", "type_info": "Varchar"}, {"ordinal": 1, "name": "access_token", "type_info": "Text"}, {"ordinal": 2, "name": "refresh_token", "type_info": "Text"}, {"ordinal": 3, "name": "user_id", "type_info": "Int8"}, {"ordinal": 4, "name": "user_username", "type_info": "Varchar"}, {"ordinal": 5, "name": "user_email", "type_info": "Varchar"}, {"ordinal": 6, "name": "user_verified", "type_info": "Bool"}, {"ordinal": 7, "name": "user_uuid", "type_info": "Uuid"}, {"ordinal": 8, "name": "is_test", "type_info": "Bool"}, {"ordinal": 9, "name": "is_admin", "type_info": "Bool"}, {"ordinal": 10, "name": "is_temp", "type_info": "Bool"}, {"ordinal": 11, "name": "welcome_sent", "type_info": "Bool"}, {"ordinal": 12, "name": "registration_time", "type_info": "Timestamptz"}], "parameters": {"Left": ["Text"]}, "nullable": [false, false, false, false, false, false, false, false, false, false, false, false, true]}}, "5a47280097c9e73e0673eb35b281b1d592ef48e85351762ef059c33212a902ef": {"query": "\n            SELECT\n                COUNT(DISTINCT sra.squad_id) AS \"squads!\",\n                COUNT(DISTINCT ora.user_id) AS \"friends!\"\n            FROM squadov.squad_role_assignments AS sra\n            LEFT JOIN squadov.squad_role_assignments AS ora\n                ON ora.squad_id = sra.squad_id\n            WHERE sra.user_id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "squads!", "type_info": "Int8"}, {"ordinal": 1, "name": "friends!", "type_info": "Int8"}], "parameters": {"Left": ["Int8"]}, "nullable": [null, null]}}, "5a7c20216390ea8a500841f0af05d62cbe33029e152eb75bd4e02ddd59bc0954": {"query": "\n            SELECT\n                access_token AS \"access_token!\",\n                refresh_token AS \"refresh_token!\",\n                '' AS \"id_token?\",\n                (EXTRACT(EPOCH FROM access_expiration) - EXTRACT(EPOCH FROM NOW()))::INTEGER AS \"expires_in!\"\n            FROM squadov.twitch_accounts\n            WHERE last_validate < (NOW() - INTERVAL '3 day')\n            ORDER BY last_validate ASC\n            ", "describe": {"columns": [{"ordinal": 0, "name": "access_token!", "type_info": "Varchar"}, {"ordinal": 1, "name": "refresh_token!", "type_info": "Varchar"}, {"ordinal": 2, "name": "id_token?", "type_info": "Text"}, {"ordinal": 3, "name": "expires_in!", "type_info": "Int4"}], "parameters": {"Left": []}, "nullable": [false, false, null, null]}}, "5b47794c6b3b23b9eead04d396c60060b51608a057536fdd17e3977f7011c2c6": {"query": "\n        SELECT\n            tmi.match_uuid AS \"match_uuid!\",\n            tmi.game_datetime AS \"game_datetime!\",\n            tmi.game_length as \"game_length!\",\n            tmi.game_variation AS \"game_variation\",\n            tmi.game_version AS \"game_version!\",\n            tmi.queue_id AS \"queue_id!\",\n            tmi.tft_set_number AS \"tft_set_number!\",\n            tmp.companion_content_id AS \"companion_content_id!\",\n            tmp.companion_skin_id AS \"companion_skin_id!\",\n            tmp.companion_species AS \"companion_species!\",\n            tmp.level AS \"level!\",\n            tmp.placement AS \"placement!\",\n            tmp.last_round AS \"last_round!\",\n            (vod.video_uuid IS NOT NULL) AS \"has_vod!\",\n            inp.user_uuid AS \"user_uuid!\",\n            ral.puuid AS \"puuid!\"\n        FROM UNNEST($1::UUID[], $2::UUID[]) AS inp(match_uuid, user_uuid)\n        INNER JOIN squadov.tft_match_info AS tmi\n            ON tmi.match_uuid = inp.match_uuid\n        INNER JOIN squadov.tft_match_participants AS tmp\n            ON tmp.match_uuid = tmi.match_uuid\n        INNER JOIN squadov.riot_account_links AS ral\n            ON ral.puuid = tmp.puuid\n        INNER JOIN squadov.users AS u\n            ON u.id = ral.user_id\n                AND u.uuid = inp.user_uuid\n        LEFT JOIN squadov.vods AS vod\n            ON vod.match_uuid = tmi.match_uuid\n                AND vod.user_uuid = u.uuid\n                AND vod.is_clip = FALSE\n        WHERE tmi.tft_set_number >= 3\n        ORDER BY tmi.game_datetime DESC\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "game_datetime!", "type_info": "Timestamptz"}, {"ordinal": 2, "name": "game_length!", "type_info": "Float4"}, {"ordinal": 3, "name": "game_variation", "type_info": "Varchar"}, {"ordinal": 4, "name": "game_version!", "type_info": "Varchar"}, {"ordinal": 5, "name": "queue_id!", "type_info": "Int4"}, {"ordinal": 6, "name": "tft_set_number!", "type_info": "Int4"}, {"ordinal": 7, "name": "companion_content_id!", "type_info": "Varchar"}, {"ordinal": 8, "name": "companion_skin_id!", "type_info": "Int4"}, {"ordinal": 9, "name": "companion_species!", "type_info": "Varchar"}, {"ordinal": 10, "name": "level!", "type_info": "Int4"}, {"ordinal": 11, "name": "placement!", "type_info": "Int4"}, {"ordinal": 12, "name": "last_round!", "type_info": "Int4"}, {"ordinal": 13, "name": "has_vod!", "type_info": "Bool"}, {"ordinal": 14, "name": "user_uuid!", "type_info": "Uuid"}, {"ordinal": 15, "name": "puuid!", "type_info": "Varchar"}], "parameters": {"Left": ["UuidArray", "UuidArray"]}, "nullable": [false, false, false, true, false, false, false, false, false, false, false, false, false, null, null, false]}}, "5b603e6b65361538e9db93aa754b8a0afa3e2631b2a8fd04f534f371a555ae5d": {"query": "\n            DELETE FROM squadov.squad_user_share_blacklist\n            WHERE squad_id = $1\n                AND user_id = $2\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": []}}, "5c5222458e6022ce54c0b1e4685c1a7bbbd09194170c92e4b2f74f2e0f456c65": {"query": "\n        UPDATE squadov.vod_metadata\n        SET has_fastify = true\n        WHERE video_uuid = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid"]}, "nullable": []}}, "5c5620568c78f38ae8fed70f28b5030baa47c829d2831aa6b02b842704a7a0e7": {"query": "\n            SELECT COUNT(*) AS \"count!\"\n            FROM squadov.community_roles AS cr\n            WHERE cr.community_id = $1\n                AND id = ANY($2)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "count!", "type_info": "Int8"}], "parameters": {"Left": ["Int8", "Int8Array"]}, "nullable": [null]}}, "5d6bff12a8fd2c3b88c907df8ac6c6205fcdfdc40f12c32182c8e8cbd68ee99c": {"query": "\n        UPDATE squadov.riot_accounts\n        SET last_backfill_lol_time = NOW()\n        WHERE puuid = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Text"]}, "nullable": []}}, "5da094920343faee61f665ec30589c22008ae5024a8716b099a757c541682469": {"query": "\n            SELECT\n                sq.id AS \"id!\",\n                sq.squad_name AS \"squad_name!\",\n                sq.creation_time AS \"creation_time!\",\n                sq.member_count AS \"member_count!\",\n                sq.pending_invite_count AS \"pending_invite_count!\",\n                sq.is_public AS \"is_public!\",\n                sq.is_discoverable AS \"is_discoverable!\",\n                sra.squad_role AS \"squad_role: SquadRole\",\n                us.username AS \"username\",\n                us.id AS \"user_id\",\n                sub.squad_id IS NULL AS \"can_share!\"\n            FROM squadov.squad_overview AS sq\n            INNER JOIN squadov.squad_role_assignments AS sra\n                ON sra.squad_id = sq.id\n            INNER JOIN squadov.users AS us\n                ON us.id = sra.user_id\n            LEFT JOIN squadov.squad_user_share_blacklist AS sub\n                ON sub.squad_id = sq.id\n                    AND sub.user_id = us.id\n            WHERE sra.user_id = $1 AND sra.squad_id = $2\n            ORDER BY sq.squad_name\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id!", "type_info": "Int8"}, {"ordinal": 1, "name": "squad_name!", "type_info": "Varchar"}, {"ordinal": 2, "name": "creation_time!", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "member_count!", "type_info": "Int8"}, {"ordinal": 4, "name": "pending_invite_count!", "type_info": "Int8"}, {"ordinal": 5, "name": "is_public!", "type_info": "Bool"}, {"ordinal": 6, "name": "is_discoverable!", "type_info": "Bool"}, {"ordinal": 7, "name": "squad_role: SquadRole", "type_info": {"Custom": {"name": "squad_role", "kind": {"Enum": ["Owner", "Member"]}}}}, {"ordinal": 8, "name": "username", "type_info": "Varchar"}, {"ordinal": 9, "name": "user_id", "type_info": "Int8"}, {"ordinal": 10, "name": "can_share!", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": [true, true, true, true, true, true, true, false, false, false, null]}}, "5dcc3dcbffca7c3d34b1825e4ee01d9d5674f4f93475fc7f82ea2667bb01cc92": {"query": "\n            INSERT INTO squadov.community_invites (\n                code,\n                community_id,\n                inviter_user_id,\n                num_uses,\n                max_uses,\n                expiration,\n                created_tm\n            ) VALUES (\n                gen_random_uuid(),\n                $1,\n                $2,\n                0,\n                $3,\n                $4,\n                NOW()\n            )\n            RETURNING *\n            ", "describe": {"columns": [{"ordinal": 0, "name": "code", "type_info": "Uuid"}, {"ordinal": 1, "name": "community_id", "type_info": "Int8"}, {"ordinal": 2, "name": "inviter_user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "num_uses", "type_info": "Int4"}, {"ordinal": 4, "name": "max_uses", "type_info": "Int4"}, {"ordinal": 5, "name": "expiration", "type_info": "Timestamptz"}, {"ordinal": 6, "name": "created_tm", "type_info": "Timestamptz"}], "parameters": {"Left": ["Int8", "Int8", "Int4", "Timestamptz"]}, "nullable": [false, false, false, false, true, true, false]}}, "5e7219edbf767149c78b557aea42b6f31f9e672dface46d5df9204971148bc0f": {"query": "\n                SELECT\n                    v.video_uuid\n                FROM squadov.matches AS m\n                INNER JOIN squadov.vods AS v\n                    ON v.match_uuid = m.uuid\n                WHERE m.uuid = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "video_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false]}}, "5eee3980db9197d8e678c2f5ae1b00fc79116d011cf724866c1ed1fc51a055f3": {"query": "\n        SELECT ra.puuid, ra.game_name, ra.tag_line\n        FROM squadov.riot_accounts AS ra\n        INNER JOIN squadov.riot_account_links AS ral\n            ON ral.puuid = ra.puuid\n        WHERE ral.user_id = $1\n            AND ra.puuid = $2\n            AND ra.game_name IS NOT NULL\n            AND ra.tag_line IS NOT NULL\n        ", "describe": {"columns": [{"ordinal": 0, "name": "puuid", "type_info": "Varchar"}, {"ordinal": 1, "name": "game_name", "type_info": "Varchar"}, {"ordinal": 2, "name": "tag_line", "type_info": "Varchar"}], "parameters": {"Left": ["Int8", "Text"]}, "nullable": [false, true, true]}}, "5f80fc5c67382b61de21ae7d3657b0a32db29cffaa4e27c37e1810dfa6356b29": {"query": "\n            SELECT\n                hc.card_id AS \"card_id!\",\n                hcn.string AS \"name!\",\n                hct_cost.val AS \"cost!\",\n                hct_rare.val AS \"rarity!\"\n            FROM squadov.hearthstone_cards AS hc\n            INNER JOIN squadov.hearthstone_card_names AS hcn\n                ON hcn.card_id = hc.card_id AND hcn.locale = 'en_US'\n            INNER JOIN squadov.hearthstone_card_tags AS hct_cost\n                ON hct_cost.card_id = hc.card_id AND hct_cost.tag = 48\n            INNER JOIN squadov.hearthstone_card_tags AS hct_rare\n                ON hct_rare.card_id = hc.card_id AND hct_rare.tag = 203\n            WHERE hc.card_id = any($1)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "card_id!", "type_info": "Varchar"}, {"ordinal": 1, "name": "name!", "type_info": "Varchar"}, {"ordinal": 2, "name": "cost!", "type_info": "Int4"}, {"ordinal": 3, "name": "rarity!", "type_info": "Int4"}], "parameters": {"Left": ["TextArray"]}, "nullable": [true, true, true, true]}}, "60568cd4794d4dfdac0f139bdd21cc0bb05c17ee668f902cfb2b59ee1faf1f19": {"query": "\n            SELECT\n                FLOOR((EXTRACT(EPOCH FROM wve.tm) - EXTRACT(EPOCH FROM $4::TIMESTAMPTZ)) / $6::BIGINT) * $6::BIGINT AS \"xtm\",\n                COALESCE(wcp.owner_guid, wcp.unit_guid) AS \"guid\",\n                SUM(GREATEST(whe.amount - whe.overheal, 0)) / CAST($6::BIGINT AS DOUBLE PRECISION) AS \"amount\"\n            FROM squadov.wow_match_view AS wmv\n            INNER JOIN squadov.wow_match_view_events AS wve\n                ON wve.view_id = wmv.alt_id\n            INNER JOIN squadov.wow_match_view_character_presence AS wcp\n                ON wcp.character_id = wve.source_char\n            INNER JOIN squadov.wow_match_view_healing_events AS whe\n                ON whe.event_id = wve.event_id\n            WHERE wmv.match_uuid = $1\n                AND wmv.user_id = $2\n                AND wcp.unit_guid = ANY($3)\n                AND wve.tm >= $4 AND wve.tm <= $5\n            GROUP BY xtm, guid\n            ORDER BY xtm, guid\n            ", "describe": {"columns": [{"ordinal": 0, "name": "xtm", "type_info": "Float8"}, {"ordinal": 1, "name": "guid", "type_info": "Varchar"}, {"ordinal": 2, "name": "amount", "type_info": "Float8"}], "parameters": {"Left": ["Uuid", "Int8", "TextArray", "Timestamptz", "Timestamptz", "Int8"]}, "nullable": [null, null, null]}}, "6075ace88bc5730573de5c38c7404377e7f4d3f312d539c7fbd41e398f9ad226": {"query": "\n        INSERT INTO squadov.tft_match_info (\n            match_uuid,\n            game_datetime,\n            game_length,\n            game_variation,\n            game_version,\n            queue_id,\n            tft_set_number\n        )\n        VALUES (\n            $1,\n            $2,\n            $3,\n            $4,\n            $5,\n            $6,\n            $7\n        )\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Timestamptz", "Float4", "Varchar", "Varchar", "Int4", "Int4"]}, "nullable": []}}, "6097ea3fdc0ecf2d5fa1e4e36a8012536721e400ad764a7119158841bcfefe81": {"query": "\n        SELECT match_uuid AS \"match_uuid!\", user_id\n        FROM squadov.csgo_match_views\n        WHERE view_uuid = $1\n            AND match_uuid IS NOT NULL\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "user_id", "type_info": "Int8"}], "parameters": {"Left": ["Uuid"]}, "nullable": [true, false]}}, "61392061af743e6ce12c197fadea87fd5cce6fda3720406384c3093c09d4d080": {"query": "\n                SELECT v.*\n                FROM squadov.vods AS v\n                WHERE v.video_uuid = ANY($1)\n                ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "user_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "video_uuid", "type_info": "Uuid"}, {"ordinal": 3, "name": "start_time", "type_info": "Timestamptz"}, {"ordinal": 4, "name": "end_time", "type_info": "Timestamptz"}, {"ordinal": 5, "name": "raw_container_format", "type_info": "Varchar"}, {"ordinal": 6, "name": "is_clip", "type_info": "Bool"}, {"ordinal": 7, "name": "is_local", "type_info": "Bool"}, {"ordinal": 8, "name": "md5", "type_info": "Varchar"}, {"ordinal": 9, "name": "last_sync_elasticsearch", "type_info": "Timestamptz"}, {"ordinal": 10, "name": "request_sync_elasticsearch", "type_info": "Timestamptz"}], "parameters": {"Left": ["UuidArray"]}, "nullable": [true, true, false, true, true, false, false, false, true, true, true]}}, "617817b3f309e43b91fe7c8ca1c59664d781eb74f5f13cb4c787bbe4d2b082e3": {"query": "\n                    SELECT\n                        vprm.round,\n                        vprm.buy_time,\n                        vprm.round_time\n                    FROM squadov.valorant_player_round_metadata AS vprm\n                    WHERE vprm.match_uuid = $1\n                        AND vprm.puuid = $2\n                    ", "describe": {"columns": [{"ordinal": 0, "name": "round", "type_info": "Int4"}, {"ordinal": 1, "name": "buy_time", "type_info": "Timestamptz"}, {"ordinal": 2, "name": "round_time", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid", "Text"]}, "nullable": [false, true, true]}}, "617ffa9783fd472ca8e71e26ea10547593d1b5251787f5d8f00f4c8310284fd4": {"query": "\n            SELECT\n                cgc.user_id,\n                cgc.kills,\n                cgc.deaths,\n                cgc.assists,\n                cgc.mvps,\n                suc.steam_id,\n                suc.steam_name,\n                suc.profile_image_url\n            FROM squadov.csgo_event_container_players AS cgc\n            INNER JOIN squadov.steam_users_cache AS suc\n                ON suc.steam_id = cgc.steam_id\n            WHERE cgc.container_id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "user_id", "type_info": "Int4"}, {"ordinal": 1, "name": "kills", "type_info": "Int4"}, {"ordinal": 2, "name": "deaths", "type_info": "Int4"}, {"ordinal": 3, "name": "assists", "type_info": "Int4"}, {"ordinal": 4, "name": "mvps", "type_info": "Int4"}, {"ordinal": 5, "name": "steam_id", "type_info": "Int8"}, {"ordinal": 6, "name": "steam_name", "type_info": "Varchar"}, {"ordinal": 7, "name": "profile_image_url", "type_info": "Varchar"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, false, false, false, false, false, true]}}, "64001db312548f4e16f805112a9f663a2db59ffd419a2f4cf931f99b2aa20134": {"query": "\n        SELECT *\n        FROM squadov.tft_match_participant_units\n        WHERE match_uuid = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "puuid", "type_info": "Varchar"}, {"ordinal": 2, "name": "character_id", "type_info": "Varchar"}, {"ordinal": 3, "name": "chosen", "type_info": "Varchar"}, {"ordinal": 4, "name": "name", "type_info": "Varchar"}, {"ordinal": 5, "name": "rarity", "type_info": "Int4"}, {"ordinal": 6, "name": "tier", "type_info": "Int4"}, {"ordinal": 7, "name": "items", "type_info": "Int4Array"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, true, true, false, false, false, false]}}, "64cf4412b88fb5d2e2e85e46851620843dc5b7d004d03291d270402a4a3baa51": {"query": "\n            SELECT tm.match_uuid\n            FROM squadov.tft_matches AS tm\n            WHERE tm.match_uuid = ANY($1)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["UuidArray"]}, "nullable": [false]}}, "67d145c0431201069eb430413fc11b78cb7386307a883541da76f120a26e196f": {"query": "\n            SELECT match_uuid\n            FROM squadov.csgo_matches\n            WHERE connected_server = $1\n                AND tr && tstzrange($2, $3, '[]') \n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Text", "Timestamptz", "Timestamptz"]}, "nullable": [false]}}, "68af7b42b6415047528946590b10101428a135387da3df99d5f20dee911bdb23": {"query": "\n            SELECT down, failover\n            FROM squadov.riot_api_outage_status\n            WHERE game = $1 AND region = $2\n            ", "describe": {"columns": [{"ordinal": 0, "name": "down", "type_info": "Bool"}, {"ordinal": 1, "name": "failover", "type_info": "Bool"}], "parameters": {"Left": ["Text", "Text"]}, "nullable": [false, false]}}, "6905d05fa7290e578400980a68306d6554004163b2cb62ba720bd58dea5a1a16": {"query": "\n                SELECT rc.code\n                FROM squadov.user_referral_code_usage AS ucu\n                INNER JOIN squadov.referral_codes AS rc\n                    ON rc.id = ucu.code_id\n                INNER JOIN squadov.users AS u\n                    ON u.email = ucu.email\n                WHERE u.id = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "code", "type_info": "Varchar"}], "parameters": {"Left": ["Int8"]}, "nullable": [false]}}, "69880fe78ef3ebb0f1df3d5a27d270d72b036170a32dbc5519e921b001dd2f89": {"query": "\n                SELECT disable_es_search AS \"disable_es_search!\"\n                FROM squadov.user_feature_flags\n                WHERE user_id = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "disable_es_search!", "type_info": "Bool"}], "parameters": {"Left": ["Int8"]}, "nullable": [false]}}, "699e0f8e8e504ea6dbf3787588f18794f4e96f6c97d11c7b7aa08a6e1c6952d7": {"query": "\n            SELECT *\n            FROM squadov.staged_clips\n            WHERE video_uuid = $1\n                AND execute_time IS NULL\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "video_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "start_offset_ms", "type_info": "Int8"}, {"ordinal": 4, "name": "end_offset_ms", "type_info": "Int8"}, {"ordinal": 5, "name": "create_time", "type_info": "Timestamptz"}, {"ordinal": 6, "name": "execute_time", "type_info": "Timestamptz"}, {"ordinal": 7, "name": "clip_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false, false, false, true, true]}}, "69f83dda2867a7129382594dd1c5de7da5569e83c1447256824bb52e10c11c17": {"query": "\n            DELETE FROM squadov.user_sessions\n            WHERE id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Text"]}, "nullable": []}}, "6a054270f2bc3a87e913891942f436e70f6c793e24148717293cf22f17c14b86": {"query": "\n            SELECT ral.user_id\n            FROM squadov.valorant_match_players AS vmp\n            INNER JOIN squadov.riot_account_links AS ral\n                ON ral.puuid = vmp.puuid\n            WHERE vmp.match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "user_id", "type_info": "Int8"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false]}}, "6a3aff866bea414decffb217667edcc132003c5052858075fa29fc3a5e9ee608": {"query": "\n        UPDATE squadov.staged_clips\n        SET execute_time = NOW(),\n            clip_uuid = $2\n        WHERE id = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": []}}, "6a7bdbc901a1d87c63df59622625144f6a1d82335c8cb4bd0196cf7353abe3da": {"query": "\n                SELECT\n                    data.tm AS \"tm!\",\n                    (EXTRACT(EPOCH FROM data.tm - $3) * 1000)::BIGINT AS \"diff_ms!\",\n                    (data.amount)::INTEGER AS \"diff_hp!\",\n                    data.spell_id AS \"spell_id?\",\n                    data.source_guid AS \"source_guid?\",\n                    data.source_name AS \"source_name?\"\n                FROM (\n                    SELECT\n                        wve.tm,\n                        wve.log_line,\n                        0-wde.amount AS \"amount\",\n                        wde.spell_id,\n                        wcp.unit_name AS \"source_name\",\n                        wcp.unit_guid AS \"source_guid\"\n                    FROM squadov.wow_match_view_damage_events AS wde\n                    INNER JOIN squadov.wow_match_view_events AS wve\n                        ON wve.event_id = wde.event_id\n                    LEFT JOIN squadov.wow_match_view_character_presence AS wcp\n                        ON wcp.character_id = wve.source_char\n                    INNER JOIN squadov.wow_match_view AS wmv\n                        ON wmv.alt_id = wve.view_id\n                    WHERE wmv.id = $1\n                        AND wve.tm BETWEEN $2 AND $3\n                        AND wve.dest_char = $4\n                    UNION\n                    SELECT\n                        wve.tm,\n                        wve.log_line,\n                        whe.amount,\n                        whe.spell_id,\n                        wcp.unit_name AS \"source_name\",\n                        wcp.unit_guid AS \"source_guid\"\n                    FROM squadov.wow_match_view_healing_events AS whe\n                    INNER JOIN squadov.wow_match_view_events AS wve\n                        ON wve.event_id = whe.event_id\n                    LEFT JOIN squadov.wow_match_view_character_presence AS wcp\n                        ON wcp.character_id = wve.source_char\n                    INNER JOIN squadov.wow_match_view AS wmv\n                        ON wmv.alt_id = wve.view_id\n                    WHERE wmv.id = $1\n                        AND wve.tm BETWEEN $2 AND $3\n                        AND wve.dest_char = $4\n                ) AS data\n                ORDER BY data.log_line DESC\n                ", "describe": {"columns": [{"ordinal": 0, "name": "tm!", "type_info": "Timestamptz"}, {"ordinal": 1, "name": "diff_ms!", "type_info": "Int8"}, {"ordinal": 2, "name": "diff_hp!", "type_info": "Int4"}, {"ordinal": 3, "name": "spell_id?", "type_info": "Int8"}, {"ordinal": 4, "name": "source_guid?", "type_info": "Varchar"}, {"ordinal": 5, "name": "source_name?", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid", "Timestamptz", "Timestamptz", "Int8"]}, "nullable": [null, null, null, null, null, null]}}, "6ab73e95d8b90ad9d1cb0f7ec0ae3b5d7ad74c5a1499b44d39e3d34ca66fe3bb": {"query": "\n                SELECT region AS \"region!\"\n                FROM squadov.wow_realms\n                WHERE id = $1\n                UNION\n                SELECT region AS \"region!\"\n                FROM squadov.wow_connected_realms\n                WHERE id = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "region!", "type_info": "Varchar"}], "parameters": {"Left": ["Int8"]}, "nullable": [null]}}, "6b26fa2358630c6b7c83280c92a2f5b870879b7bf26948537d31282741944305": {"query": "\n            UPDATE squadov.wow_encounter_view\n            SET success = $2\n            WHERE view_id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Bool"]}, "nullable": []}}, "6bc17fe17763891ec0668c57988f6439ae6854a0701747f3c30b4b0224de8b04": {"query": "\n                        INSERT INTO squadov.hearthstone_matches (\n                            match_uuid,\n                            server_ip,\n                            port,\n                            game_id,\n                            match_day,\n                            match_time\n                        )\n                        VALUES (\n                            $1,\n                            $2,\n                            $3,\n                            $4,\n                            $5,\n                            $6\n                        )\n                        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Inet", "Int4", "Int4", "Date", "Timestamptz"]}, "nullable": []}}, "6beb40b1b64b96da0faf055ff10e555eaf4540cccdc54ab50366c629edeb8bf4": {"query": "\n                SELECT DISTINCT ou.id\n                FROM squadov.lol_match_participant_identities AS lmpi\n                INNER JOIN squadov.riot_accounts AS ra\n                    ON ra.summoner_id = lmpi.summoner_id\n                INNER JOIN squadov.riot_account_links AS ral\n                    ON ral.puuid = ra.puuid\n                LEFT JOIN squadov.squad_role_assignments AS sra\n                    ON sra.user_id = ral.user_id\n                LEFT JOIN squadov.squad_role_assignments AS ora\n                    ON ora.squad_id = sra.squad_id\n                INNER JOIN squadov.users AS ou\n                    ON ou.id = ora.user_id\n                        OR ou.id = ral.user_id\n                WHERE lmpi.match_uuid = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false]}}, "6c3e6488156a115c3aae2b241b5188033511df214b8767871d07c3f274605cc3": {"query": "\n                SELECT DISTINCT ON (wcp.unit_guid)\n                    wcp.unit_guid AS \"guid\",\n                    COALESCE(wcp.unit_name, '') AS \"name!\",\n                    COALESCE(ARRAY_REMOVE(ARRAY_AGG(wci.ilvl ORDER BY wci.idx ASC), NULL), ARRAY[]::INTEGER[]) AS \"items!\",\n                    wvc.spec_id,\n                    wvc.team,\n                    wvc.rating,\n                    wvc.class_id\n                FROM squadov.wow_match_view AS wmv\n                INNER JOIN squadov.wow_match_view_character_presence AS wcp\n                    ON wcp.view_id = wmv.id\n                        AND wcp.has_combatant_info\n                INNER JOIN squadov.wow_match_view_combatants AS wvc\n                    ON wvc.character_id = wcp.character_id\n                LEFT JOIN squadov.wow_match_view_combatant_items AS wci\n                    ON wci.event_id = wvc.event_id\n                WHERE wmv.match_uuid = $1\n                    AND wmv.user_id = $2\n                GROUP BY wcp.unit_guid, wcp.unit_name, wvc.spec_id, wvc.team, wvc.event_id, wvc.rating, wvc.class_id\n                ORDER BY wcp.unit_guid, wvc.class_id\n                ", "describe": {"columns": [{"ordinal": 0, "name": "guid", "type_info": "Varchar"}, {"ordinal": 1, "name": "name!", "type_info": "Varchar"}, {"ordinal": 2, "name": "items!", "type_info": "Int4Array"}, {"ordinal": 3, "name": "spec_id", "type_info": "Int4"}, {"ordinal": 4, "name": "team", "type_info": "Int4"}, {"ordinal": 5, "name": "rating", "type_info": "Int4"}, {"ordinal": 6, "name": "class_id", "type_info": "Int8"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false, null, null, false, false, false, true]}}, "6c67a8b56e04f624cfb8beed0a961665f95c8d98d0379564dba75c19ba9be230": {"query": "\n            UPDATE squadov.squad_membership_invites\n            SET pending = $1\n            WHERE invite_uuid = $2\n                AND user_id IS NULL\n            ", "describe": {"columns": [], "parameters": {"Left": ["Bool", "Uuid"]}, "nullable": []}}, "6d0d3d4c9b2f816e0ae67472ee9f1eeb03ddf8e43f02e0e35f999379c4077510": {"query": "\n            SELECT DISTINCT u.uuid, sul.steam_id\n            FROM squadov.csgo_match_views AS cmv\n            INNER JOIN squadov.csgo_event_container AS cec\n                ON cec.view_uuid = cmv.view_uuid\n            INNER JOIN squadov.csgo_event_container_players AS ccp\n                ON ccp.container_id = cec.id\n            INNER JOIN squadov.steam_user_links AS sul\n                ON sul.steam_id = ccp.steam_id\n            INNER JOIN squadov.users AS u\n                ON u.id = sul.user_id\n            WHERE cmv.match_uuid = $1\n                AND u.uuid = ANY($2)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "steam_id", "type_info": "Int8"}], "parameters": {"Left": ["Uuid", "UuidArray"]}, "nullable": [false, false]}}, "6d7784e893dcc178dd7ddd570923cb2e3b2726ec1f6a4dbcb5c36447317938e0": {"query": "\n        SELECT squadov.create_user_profile($1, $2)\n        ", "describe": {"columns": [{"ordinal": 0, "name": "create_user_profile", "type_info": "Void"}], "parameters": {"Left": ["Int8", "Varchar"]}, "nullable": [null]}}, "6d9c7c3558a8c9ff132b2be5e64b88bae6a2b49b7b24afbd10a27e7106b6c05f": {"query": "\n            SELECT t.id AS \"id!\"\n            FROM UNNEST($1::VARCHAR[]) AS t(id)\n            LEFT JOIN squadov.riot_accounts AS ra\n                ON ra.puuid = t.id\n            WHERE ra.game_name IS NULL\n                AND ra.tag_line IS NULL\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id!", "type_info": "Varchar"}], "parameters": {"Left": ["VarcharArray"]}, "nullable": [null]}}, "6daae9a37de24b8c163bd407fcf1a5a208397c1ffdab3423dbb2d78a926ab3ec": {"query": "\n            INSERT INTO squadov.squad_role_assignments (\n                squad_id,\n                user_id,\n                squad_role\n            )\n            VALUES (\n                $1,\n                $2,\n                'Member'\n            )\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": []}}, "6ded1a97ddff8951f9d27dc21289efc0363019f84cb3b06e6dc41bf00b13aa5d": {"query": "\n            SELECT game\n            FROM squadov.matches\n            WHERE uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "game", "type_info": "Int4"}], "parameters": {"Left": ["Uuid"]}, "nullable": [true]}}, "6e0c2d2b4814a21d38b2274843bd57dc646ca5a9fbbb1a1d73386760056e7938": {"query": "\n            INSERT INTO squadov.referral_visits (\n                code,\n                tm\n            )\n            SELECT c.id, NOW()\n            FROM squadov.referral_codes AS c\n            WHERE c.code = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Text"]}, "nullable": []}}, "6e1c93efc90c9bdee87c34c4a0fd521e12c05bf993ad6a6f9907a6e8fbad86d5": {"query": "\n            SELECT\n                vm.video_uuid AS \"video_uuid!\",\n                vm.res_x AS \"res_x!\",\n                vm.res_y AS \"res_y!\",\n                vm.fps AS \"fps!\",\n                vm.min_bitrate AS \"min_bitrate!\",\n                vm.avg_bitrate AS \"avg_bitrate!\",\n                vm.max_bitrate AS \"max_bitrate!\",\n                vm.bucket AS \"bucket!\",\n                vm.session_id AS \"session_id\",\n                vm.id AS \"id!\",\n                vm.has_fastify AS \"has_fastify!\",\n                vm.has_preview AS \"has_preview!\"\n            FROM UNNEST($1::UUID[], $2::VARCHAR[]) AS inp(uuid, id)\n            INNER JOIN squadov.vod_metadata AS vm\n                ON vm.video_uuid = inp.uuid\n                    AND vm.id = inp.id\n            ", "describe": {"columns": [{"ordinal": 0, "name": "video_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "res_x!", "type_info": "Int4"}, {"ordinal": 2, "name": "res_y!", "type_info": "Int4"}, {"ordinal": 3, "name": "fps!", "type_info": "Int4"}, {"ordinal": 4, "name": "min_bitrate!", "type_info": "Int8"}, {"ordinal": 5, "name": "avg_bitrate!", "type_info": "Int8"}, {"ordinal": 6, "name": "max_bitrate!", "type_info": "Int8"}, {"ordinal": 7, "name": "bucket!", "type_info": "Varchar"}, {"ordinal": 8, "name": "session_id", "type_info": "Varchar"}, {"ordinal": 9, "name": "id!", "type_info": "Varchar"}, {"ordinal": 10, "name": "has_fastify!", "type_info": "Bool"}, {"ordinal": 11, "name": "has_preview!", "type_info": "Bool"}], "parameters": {"Left": ["UuidArray", "VarcharArray"]}, "nullable": [true, true, true, true, true, true, true, true, true, true, true, true]}}, "6e3f7e5e7b8377009dcf5cba8260ac43c3b6a4d94aeb168a7ef6c2d26c7ff514": {"query": "\n        INSERT INTO squadov.user_hardware_specs (\n            user_id,\n            os,\n            cpu,\n            display,\n            ram_kb\n        )\n        VALUES (\n            $1,\n            $2,\n            $3,\n            $4,\n            $5\n        )\n        ON CONFLICT (user_id) DO UPDATE SET\n            os=EXCLUDED.os,\n            cpu=EXCLUDED.cpu,\n            display=EXCLUDED.display,\n            ram_kb=EXCLUDED.ram_kb\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Jsonb", "Jsonb", "Jsonb", "Int8"]}, "nullable": []}}, "6f3223bcb1d34fb928117db9a855553d10cbed520da277df0d69818798f3ba9e": {"query": "\n                SELECT share_on_join\n                FROM squadov.user_autoshare_common_settings\n                WHERE user_id = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "share_on_join", "type_info": "Bool"}], "parameters": {"Left": ["Int8"]}, "nullable": [false]}}, "6f742f9c8964f7a49c411c68808af454e4978c0f9d381dd3c4f14cd09853a04a": {"query": "\n            INSERT INTO squadov.match_to_match_collection (\n                match_uuid,\n                collection_uuid\n            )\n            VALUES (\n                $1,\n                $2\n            )\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Uuid"]}, "nullable": []}}, "70f31951f5a336fc34ea3a0c11a5e319384df03eecb4c31110218f33195a1eb7": {"query": "\n        WITH RECURSIVE access_cte AS (\n            SELECT vau.*, TRUE AS \"is_terminal\"\n            FROM squadov.view_share_connections_access_users AS vau\n            WHERE ($2::UUID IS NULL OR vau.match_uuid = $2)\n                AND ($3::UUID IS NULL OR vau.video_uuid = $3)\n                AND vau.user_id = $1\n            UNION\n            SELECT vau.*, FALSE AS \"is_terminal\"\n            FROM squadov.view_share_connections_access_users AS vau\n            INNER JOIN access_cte AS ac\n                ON ac.parent_connection_id = vau.id\n        )\n        SELECT mvc.id AS \"id!\", mvc.can_share AS \"can_share!\", mvc.can_clip AS \"can_clip!\", mvc.parent_connection_id, at.is_terminal AS \"is_terminal!\"\n        FROM access_cte AS at\n        INNER JOIN squadov.share_match_vod_connections AS mvc\n            ON mvc.id = at.id\n        ", "describe": {"columns": [{"ordinal": 0, "name": "id!", "type_info": "Int8"}, {"ordinal": 1, "name": "can_share!", "type_info": "Bool"}, {"ordinal": 2, "name": "can_clip!", "type_info": "Bool"}, {"ordinal": 3, "name": "parent_connection_id", "type_info": "Int8"}, {"ordinal": 4, "name": "is_terminal!", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Uuid", "Uuid"]}, "nullable": [true, true, true, true, true]}}, "70f8c7583f7f56c50bf6ee02fef9a16975b4c4d91a183ed084f1d797c08b3baf": {"query": "\n            SELECT region\n            FROM squadov.tft_matches\n            WHERE match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "region", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false]}}, "7208f56ad9f4e0bd881d374d0e36d35f4874f093dc8a06ec6a83bf8abe9cc6a6": {"query": "\n            SELECT\n                vpmm.start_time,\n                vpmm.end_time\n            FROM squadov.valorant_player_match_metadata AS vpmm\n            WHERE vpmm.match_uuid = $1\n                AND vpmm.puuid = $2\n            ", "describe": {"columns": [{"ordinal": 0, "name": "start_time", "type_info": "Timestamptz"}, {"ordinal": 1, "name": "end_time", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid", "Text"]}, "nullable": [false, false]}}, "738220b5cc48c2d7b2e4f3a4a51d937b9900ce1454d527a9b378abf9f50dc2da": {"query": "\n                INSERT INTO squadov.hearthstone_match_players (\n                    user_id,\n                    view_uuid,\n                    player_match_id,\n                    player_name,\n                    card_back_id,\n                    arena_wins,\n                    arena_loss,\n                    tavern_brawl_wins,\n                    tavern_brawl_loss,\n                    battlegrounds_rating,\n                    duels_casual_rating,\n                    duels_heroic_rating\n                )\n                VALUES (\n                    $1,\n                    $2,\n                    $3,\n                    $4,\n                    $5,\n                    $6,\n                    $7,\n                    $8,\n                    $9,\n                    $10,\n                    $11,\n                    $12\n                )\n                ON CONFLICT (view_uuid, player_match_id) DO UPDATE SET\n                    user_id = COALESCE(squadov.hearthstone_match_players.user_id, EXCLUDED.user_id),\n                    arena_wins = CASE WHEN EXCLUDED.user_id IS NOT NULL THEN EXCLUDED.arena_wins\n                                      ELSE squadov.hearthstone_match_players.arena_wins END,\n                    arena_loss = CASE WHEN EXCLUDED.user_id IS NOT NULL THEN EXCLUDED.arena_loss\n                                 ELSE squadov.hearthstone_match_players.arena_loss END,\n                    tavern_brawl_wins = CASE WHEN EXCLUDED.user_id IS NOT NULL THEN EXCLUDED.tavern_brawl_wins\n                                        ELSE squadov.hearthstone_match_players.tavern_brawl_wins END,\n                    tavern_brawl_loss = CASE WHEN EXCLUDED.user_id IS NOT NULL THEN EXCLUDED.tavern_brawl_loss\n                                        ELSE squadov.hearthstone_match_players.tavern_brawl_loss END,\n                    battlegrounds_rating = CASE WHEN EXCLUDED.user_id IS NOT NULL THEN EXCLUDED.battlegrounds_rating\n                                           ELSE squadov.hearthstone_match_players.battlegrounds_rating END,\n                    duels_casual_rating = CASE WHEN EXCLUDED.user_id IS NOT NULL THEN EXCLUDED.duels_casual_rating\n                                          ELSE squadov.hearthstone_match_players.duels_casual_rating END,\n                    duels_heroic_rating = CASE WHEN EXCLUDED.user_id IS NOT NULL THEN EXCLUDED.duels_heroic_rating\n                                          ELSE squadov.hearthstone_match_players.duels_heroic_rating END\n                ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Uuid", "Int4", "Varchar", "Int4", "Int4", "Int4", "Int4", "Int4", "Int4", "Int4", "Int4"]}, "nullable": []}}, "73d048164e52ff1f31fe0112c9e7d6bafc80156364f6b4d8fa2946d90ab6429e": {"query": "\n            INSERT INTO squadov.new_wow_instances (\n                match_uuid,\n                tr,\n                instance_id,\n                instance_type,\n                players,\n                players_raw\n            )\n            SELECT\n                $1,\n                tstzrange(wmv.start_tm, $4, '[]'),\n                wav.instance_id,\n                wav.instance_type,\n                $2,\n                $5\n            FROM squadov.wow_match_view AS wmv\n            INNER JOIN squadov.wow_instance_view AS wav\n                ON wav.view_id = wmv.id\n            WHERE wmv.id = $3\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int4Array", "Uuid", "Timestamptz", "VarcharArray"]}, "nullable": []}}, "753591a753e620ca058b4736667835400a16ff791b2f159967d4d9711a607b23": {"query": "\n            SELECT\n                sq.id AS \"id!\",\n                sq.squad_name AS \"squad_name!\",\n                sq.creation_time AS \"creation_time!\",\n                sq.member_count AS \"member_count!\",\n                sq.pending_invite_count AS \"pending_invite_count!\",\n                sq.is_public AS \"is_public!\",\n                sq.is_discoverable AS \"is_discoverable!\"\n            FROM squadov.squad_overview AS sq\n            WHERE id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id!", "type_info": "Int8"}, {"ordinal": 1, "name": "squad_name!", "type_info": "Varchar"}, {"ordinal": 2, "name": "creation_time!", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "member_count!", "type_info": "Int8"}, {"ordinal": 4, "name": "pending_invite_count!", "type_info": "Int8"}, {"ordinal": 5, "name": "is_public!", "type_info": "Bool"}, {"ordinal": 6, "name": "is_discoverable!", "type_info": "Bool"}], "parameters": {"Left": ["Int8"]}, "nullable": [true, true, true, true, true, true, true]}}, "75ddd119e403ece3ead2272f618c428eebe7af2dfe9e7683ec4693f0fdc95e48": {"query": "\n                SELECT transition_id\n                FROM squadov.user_sessions\n                WHERE id = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "transition_id", "type_info": "Varchar"}], "parameters": {"Left": ["Text"]}, "nullable": [true]}}, "761d12cedeab5358ea5201615cb0cc3b4b59b6d2497f13b124ac5a099521f0ab": {"query": "\n        INSERT INTO squadov.steam_user_links (\n            steam_id,\n            user_id\n        ) VALUES (\n            $1,\n            $2\n        )\n        ON CONFLICT DO NOTHING\n    ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": []}}, "78922aaf157c5bd617a8552d551c2043fc02236d7a6cc4cd457140351a75bb0e": {"query": "\n            SELECT DISTINCT\n                wmv.match_uuid AS \"match_uuid!\",\n                u.uuid AS \"player_uuid!\",\n                wmv.start_tm\n            FROM squadov.wow_match_view AS wmv\n            INNER JOIN squadov.wow_encounter_view AS wav\n                ON wav.view_id = wmv.id\n            INNER JOIN squadov.wow_match_view_character_presence AS wcp\n                ON wcp.view_id = wmv.id\n            INNER JOIN squadov.wow_match_view_combatants AS wvc\n                ON wvc.character_id = wcp.character_id\n            INNER JOIN squadov.users AS u\n                ON u.id = wmv.user_id\n            LEFT JOIN squadov.vods AS v\n                ON v.match_uuid = wmv.match_uuid\n                    AND v.user_uuid = u.uuid\n                    AND v.is_clip = FALSE\n            LEFT JOIN squadov.view_share_connections_access_users AS sau\n                ON sau.match_uuid = wmv.match_uuid\n                    AND sau.user_id = $8\n            CROSS JOIN LATERAL (\n                SELECT ',' || STRING_AGG(val::VARCHAR, ',') || ',' AS vv\n                FROM (\n                    SELECT MIN(wvc.spec_id)\n                    FROM squadov.wow_match_view_character_presence AS wcp\n                    INNER JOIN squadov.wow_match_view_combatants AS wvc\n                        ON wvc.character_id = wcp.character_id\n                    WHERE wcp.view_id = wmv.id\n                    GROUP BY wcp.view_id, wcp.unit_guid\n                ) sub(val)\n            ) AS specs(s)\n            WHERE wmv.user_id = $2\n                AND wcp.unit_guid = $1\n                AND wmv.match_uuid IS NOT NULL\n                AND (CARDINALITY($5::INTEGER[]) = 0 OR wav.instance_id = ANY($5))\n                AND (CARDINALITY($6::INTEGER[]) = 0 OR wav.encounter_id = ANY($6))\n                AND (NOT $7::BOOLEAN OR v.video_uuid IS NOT NULL)\n                AND ($2 = $8 OR sau.match_uuid IS NOT NULL)\n                AND ($9::BOOLEAN IS NULL OR wav.success = $9)\n                AND (CARDINALITY($10::INTEGER[]) = 0 OR wav.difficulty = ANY($10))\n                AND (CARDINALITY($11::INTEGER[]) = 0 OR wvc.spec_id = ANY($11))\n                AND specs.s ~ $12\n            ORDER BY wmv.start_tm DESC, wmv.match_uuid, u.uuid\n            LIMIT $3 OFFSET $4\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "player_uuid!", "type_info": "Uuid"}, {"ordinal": 2, "name": "start_tm", "type_info": "Timestamptz"}], "parameters": {"Left": ["Text", "Int8", "Int8", "Int8", "Int4Array", "Int4Array", "Bool", "Int8", "Bool", "Int4Array", "Int4Array", "Text"]}, "nullable": [true, false, false]}}, "78a55c3f9b1be67491a2e9a30c26ee8e7a7afa93f3eefa2ef5704d897b3bb37c": {"query": "\n            UPDATE squadov.vods\n            SET request_sync_elasticsearch = NOW()\n            WHERE video_uuid = ANY($1)\n            ", "describe": {"columns": [], "parameters": {"Left": ["UuidArray"]}, "nullable": []}}, "7982e0ee6009beec24310643f6dbaa1fd56ee0cc19b255db9da356ead89d37f1": {"query": "\n            SELECT DISTINCT vm.server_start_time_utc, vm.match_uuid\n            FROM squadov.valorant_matches AS vm\n            INNER JOIN squadov.valorant_match_players AS vmp\n                ON vmp.match_uuid = vm.match_uuid\n            LEFT JOIN squadov.vods AS v\n                ON v.match_uuid = vm.match_uuid\n                    AND v.user_uuid = $4\n                    AND v.is_clip = FALSE\n            LEFT JOIN squadov.view_share_connections_access_users AS sau\n                ON sau.match_uuid = vm.match_uuid\n                    AND sau.user_id = $9\n            CROSS JOIN (\n                SELECT *\n                FROM squadov.users\n                WHERE uuid = $4\n            ) AS u\n            LEFT JOIN squadov.valorant_match_computed_data AS mcd\n                ON mcd.match_uuid = vm.match_uuid\n            LEFT JOIN squadov.valorant_match_pov_computed_data AS pcd\n                ON pcd.match_uuid = vm.match_uuid\n                    AND pcd.user_id = u.id\n            WHERE vmp.puuid = $1\n                AND (CARDINALITY($5::VARCHAR[]) = 0 OR vm.map_id = ANY($5))\n                AND (CARDINALITY($6::VARCHAR[]) = 0 OR vm.game_mode = ANY($6))\n                AND (NOT $7::BOOLEAN OR v.video_uuid IS NOT NULL)\n                AND (NOT $8::BOOLEAN OR vm.is_ranked)\n                AND (u.id = $9 OR sau.match_uuid IS NOT NULL)\n                AND (CARDINALITY($10::VARCHAR[]) = 0 OR pcd.pov_agent = ANY($10))\n                AND (NOT $11::BOOLEAN OR pcd.winner)\n                AND ($12::INTEGER IS NULL OR pcd.rank >= $12)\n                AND ($13::INTEGER IS NULL OR pcd.rank <= $13)\n                AND (CARDINALITY($14::INTEGER[]) = 0 OR pcd.key_events && $14)\n                AND (\n                    (mcd.t0_agents IS NULL AND mcd.t1_agents IS NULL)\n                    OR\n                    (mcd.t0_agents ~ $15 AND mcd.t1_agents ~ $16)\n                    OR\n                    (mcd.t0_agents ~ $16 AND mcd.t1_agents ~ $15)\n                )\n            ORDER BY vm.server_start_time_utc DESC, vm.match_uuid\n            LIMIT $2 OFFSET $3\n        ", "describe": {"columns": [{"ordinal": 0, "name": "server_start_time_utc", "type_info": "Timestamptz"}, {"ordinal": 1, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Text", "Int8", "Int8", "Uuid", "VarcharArray", "VarcharArray", "Bool", "Bool", "Int8", "VarcharArray", "Bool", "Int4", "Int4", "Int4Array", "Text", "Text"]}, "nullable": [true, false]}}, "79bbe74adeb52bd21131efd638ca94cd292186cfa35b3b9389587c24025dd3e4": {"query": "\n        SELECT ra.puuid, ra.account_id, ra.summoner_id, ra.summoner_name, ra.last_backfill_lol_time, ra.last_backfill_tft_time\n        FROM squadov.riot_accounts AS ra\n        INNER JOIN squadov.riot_account_links AS ral\n            ON ral.puuid = ra.puuid\n        WHERE ral.user_id = $1\n            AND ra.summoner_name = $2\n        ", "describe": {"columns": [{"ordinal": 0, "name": "puuid", "type_info": "Varchar"}, {"ordinal": 1, "name": "account_id", "type_info": "Varchar"}, {"ordinal": 2, "name": "summoner_id", "type_info": "Varchar"}, {"ordinal": 3, "name": "summoner_name", "type_info": "Varchar"}, {"ordinal": 4, "name": "last_backfill_lol_time", "type_info": "Timestamptz"}, {"ordinal": 5, "name": "last_backfill_tft_time", "type_info": "Timestamptz"}], "parameters": {"Left": ["Int8", "Text"]}, "nullable": [false, true, true, true, true, true]}}, "79bea7cbbfcfb9d0a3de7f71467e5c4cd59f9ee5a42af894bf06a75dc2723c55": {"query": "\n            SELECT DISTINCT ON (at.create_date, at.match_uuid) at.*\n            FROM squadov.aimlab_tasks AS at\n            INNER JOIN squadov.users AS u\n                ON u.id = at.user_id\n            LEFT JOIN squadov.vods AS v\n                ON v.match_uuid = at.match_uuid\n                    AND v.user_uuid = u.uuid\n                    AND v.is_clip = FALSE\n            LEFT JOIN squadov.view_share_connections_access_users AS sau\n                ON sau.match_uuid = at.match_uuid\n                    AND sau.user_id = $6\n            WHERE at.user_id = $1\n                AND (CARDINALITY($4::VARCHAR[]) = 0 OR at.task_name = ANY($4))\n                AND (NOT $5::BOOLEAN OR v.video_uuid IS NOT NULL)\n                AND ($1 = $6 OR sau.match_uuid IS NOT NULL)\n            ORDER BY at.create_date DESC, at.match_uuid\n            LIMIT $2 OFFSET $3\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "user_id", "type_info": "Int8"}, {"ordinal": 2, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 3, "name": "task_name", "type_info": "Varchar"}, {"ordinal": 4, "name": "mode", "type_info": "Int4"}, {"ordinal": 5, "name": "score", "type_info": "Int8"}, {"ordinal": 6, "name": "version", "type_info": "Varchar"}, {"ordinal": 7, "name": "raw_data", "type_info": "Jsonb"}, {"ordinal": 8, "name": "create_date", "type_info": "Timestamptz"}, {"ordinal": 9, "name": "klutch_id", "type_info": "Varchar"}], "parameters": {"Left": ["Int8", "Int8", "Int8", "VarcharArray", "Bool", "Int8"]}, "nullable": [false, false, false, false, false, false, false, false, false, false]}}, "79bf29c4b2d720e9e7186b478ed76b7f43304a3b9027d76f52c8bed7dcf0f8a7": {"query": "\n        INSERT INTO squadov.community_member_roles (\n            role_id,\n            membership_id\n        )\n        SELECT $2, cm.id\n        FROM squadov.community_roles AS cr\n        INNER JOIN squadov.community_membership AS cm\n            ON cm.community_id = cr.community_id\n                AND cm.user_id = $1\n        WHERE cr.id = $2\n        ON CONFLICT DO NOTHING\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": []}}, "7a838e9910b5c4a09afe6ca6f433189acd05a953c62282217a60c7f4e60123bd": {"query": "\n        INSERT INTO squadov.match_custom_events (\n            match_uuid,\n            video_uuid,\n            user_id,\n            tm,\n            label,\n            icon\n        ) VALUES (\n            $1,\n            $2,\n            $3,\n            $4,\n            COALESCE($5, 'Event ' || (SELECT COUNT(*) FROM squadov.match_custom_events WHERE match_uuid = $1 OR video_uuid = $2)),\n            COALESCE($6, 'default')\n        )\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Uuid", "Int8", "Timestamptz", "Text", "Text"]}, "nullable": []}}, "7acf0edb7f9f7abd5546610adf80b2634248216c44e7927a39107b2cf32da6f8": {"query": "\n        SELECT\n            deck_id,\n            hero_card,\n            hero_premium,\n            deck_type,\n            create_date,\n            is_wild,\n            deck_name AS \"name\"\n        FROM squadov.hearthstone_decks\n        WHERE deck_id = $1\n            AND user_id = $2\n        ", "describe": {"columns": [{"ordinal": 0, "name": "deck_id", "type_info": "Int8"}, {"ordinal": 1, "name": "hero_card", "type_info": "Varchar"}, {"ordinal": 2, "name": "hero_premium", "type_info": "Int4"}, {"ordinal": 3, "name": "deck_type", "type_info": "Int4"}, {"ordinal": 4, "name": "create_date", "type_info": "Timestamptz"}, {"ordinal": 5, "name": "is_wild", "type_info": "Bool"}, {"ordinal": 6, "name": "name", "type_info": "Varchar"}], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": [false, false, false, false, false, false, false]}}, "7bb15db0920928636c83d97664512ea9c50d4c4ec94aeb0a5b2b1981a3a75fc3": {"query": "\n            SELECT\n                team_id,\n                won,\n                rounds_won,\n                rounds_played,\n                num_points\n            FROM squadov.valorant_match_teams\n            WHERE match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "team_id", "type_info": "Varchar"}, {"ordinal": 1, "name": "won", "type_info": "Bool"}, {"ordinal": 2, "name": "rounds_won", "type_info": "Int4"}, {"ordinal": 3, "name": "rounds_played", "type_info": "Int4"}, {"ordinal": 4, "name": "num_points", "type_info": "Int4"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false, false]}}, "7c0baabb7df7938265737c7e4a55ee6478749774ab85ee72556efcd701db35cb": {"query": "\n            SELECT\n                entity_id,\n                tags::VARCHAR AS \"tags!\",\n                attributes::VARCHAR AS \"attributes!\",\n                snapshot_id\n            FROM squadov.hearthstone_snapshots_entities\n            WHERE snapshot_id = any($1)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "entity_id", "type_info": "Int4"}, {"ordinal": 1, "name": "tags!", "type_info": "Varchar"}, {"ordinal": 2, "name": "attributes!", "type_info": "Varchar"}, {"ordinal": 3, "name": "snapshot_id", "type_info": "Uuid"}], "parameters": {"Left": ["UuidArray"]}, "nullable": [false, null, null, false]}}, "7cefbc25b56e5b7d1c5366a3903b795915972050feb1280b00e92f41d6d36d47": {"query": "\n        SELECT\n            vc.*,\n            u.username AS \"clipper\",\n            COALESCE(rc.count, 0) AS \"reacts!\",\n            COALESCE(cc.count, 0) AS \"comments!\",\n            COALESCE(cv.count, 0) AS \"views!\",\n            ufv.reason AS \"favorite_reason?\",\n            uwv.video_uuid IS NOT NULL AS \"is_watchlist!\",\n            COALESCE(JSONB_AGG(vvt.*) FILTER(WHERE vvt.video_uuid IS NOT NULL), '[]'::JSONB)  AS \"tags!\"\n        FROM squadov.vod_clips AS vc\n        INNER JOIN squadov.users AS u\n            ON u.id = vc.clip_user_id\n        LEFT JOIN squadov.view_clip_react_count AS rc\n            ON rc.clip_uuid = vc.clip_uuid\n        LEFT JOIN squadov.view_clip_comment_count AS cc\n            ON cc.clip_uuid = vc.clip_uuid\n        LEFT JOIN squadov.view_clip_view_count AS cv\n            ON cv.clip_uuid = vc.clip_uuid\n        LEFT JOIN squadov.user_favorite_vods AS ufv\n            ON ufv.video_uuid = vc.clip_uuid\n                AND ufv.user_id = $2\n        LEFT JOIN squadov.user_watchlist_vods AS uwv\n            ON uwv.video_uuid = vc.clip_uuid\n                AND uwv.user_id = $2\n        LEFT JOIN squadov.view_vod_tags AS vvt\n            ON vvt.video_uuid = vc.clip_uuid\n        WHERE vc.clip_uuid = $1\n        GROUP BY vc.clip_uuid, vc.parent_vod_uuid, vc.clip_user_id, vc.title, vc.description, vc.game, vc.tm, vc.published, u.username, rc.count, cc.count, cv.count, ufv.reason, uwv.video_uuid\n        ORDER BY vc.tm DESC\n        ", "describe": {"columns": [{"ordinal": 0, "name": "clip_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "parent_vod_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "clip_user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "title", "type_info": "Varchar"}, {"ordinal": 4, "name": "description", "type_info": "Varchar"}, {"ordinal": 5, "name": "game", "type_info": "Int4"}, {"ordinal": 6, "name": "tm", "type_info": "Timestamptz"}, {"ordinal": 7, "name": "published", "type_info": "Bool"}, {"ordinal": 8, "name": "clipper", "type_info": "Varchar"}, {"ordinal": 9, "name": "reacts!", "type_info": "Int8"}, {"ordinal": 10, "name": "comments!", "type_info": "Int8"}, {"ordinal": 11, "name": "views!", "type_info": "Int8"}, {"ordinal": 12, "name": "favorite_reason?", "type_info": "Varchar"}, {"ordinal": 13, "name": "is_watchlist!", "type_info": "Bool"}, {"ordinal": 14, "name": "tags!", "type_info": "Jsonb"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false, false, false, false, false, false, false, false, false, null, null, null, false, null, null]}}, "7d05a5652e320073e27cec59e59b27dd436359e812e0b24bb1df8d60793165df": {"query": "\n            SELECT\n                mce.match_uuid AS \"match_uuid!\",\n                u.id AS \"user_id!\",\n                u.username AS \"username!\",\n                mce.tm,\n                mce.label,\n                mce.icon,\n                mce.event_id\n            FROM squadov.match_custom_events AS mce\n            INNER JOIN squadov.users AS u\n                ON u.id = mce.user_id\n            WHERE mce.match_uuid = $1\n                AND u.uuid = ANY($2)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "user_id!", "type_info": "Int8"}, {"ordinal": 2, "name": "username!", "type_info": "Varchar"}, {"ordinal": 3, "name": "tm", "type_info": "Timestamptz"}, {"ordinal": 4, "name": "label", "type_info": "Varchar"}, {"ordinal": 5, "name": "icon", "type_info": "Varchar"}, {"ordinal": 6, "name": "event_id", "type_info": "Int8"}], "parameters": {"Left": ["Uuid", "UuidArray"]}, "nullable": [true, false, false, false, false, false, false]}}, "7d13f2f712d288418f63a7f14c988ad9c44b1dc2713e8da02f2baa1067f4acfc": {"query": "\n                SELECT COUNT(v.video_uuid) AS \"count!\"\n                FROM squadov.vods AS v\n                INNER JOIN squadov.users AS u\n                    ON u.uuid = v.user_uuid\n                WHERE u.id = $1\n                    AND v.is_clip = FALSE\n                    AND v.end_time IS NOT NULL\n                ", "describe": {"columns": [{"ordinal": 0, "name": "count!", "type_info": "Int8"}], "parameters": {"Left": ["Int8"]}, "nullable": [null]}}, "7d3d9ec3b0ed8073e041c2036cfc932722e9b3fea8f0c5d5856d307cb09cfb4f": {"query": "\n        UPDATE squadov.vods\n        SET md5 = $2\n        WHERE video_uuid = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar"]}, "nullable": []}}, "7e19801aecd1145d5dc7e5f21967a5330bbbad55da77184b6c7f3252c0369f09": {"query": "\n            UPDATE squadov.users\n            SET welcome_sent = TRUE\n            WHERE id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8"]}, "nullable": []}}, "7f3471eed7929638931c878d3672d178a8057e591d72c0e2b72a2e4ee4ef2706": {"query": "\n            SELECT \n                player_name,\n                player_id,\n                entity_id,\n                snapshot_id\n            FROM squadov.hearthstone_snapshots_player_map\n            WHERE snapshot_id = any($1)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "player_name", "type_info": "Varchar"}, {"ordinal": 1, "name": "player_id", "type_info": "Int4"}, {"ordinal": 2, "name": "entity_id", "type_info": "Int4"}, {"ordinal": 3, "name": "snapshot_id", "type_info": "Uuid"}], "parameters": {"Left": ["UuidArray"]}, "nullable": [false, false, false, false]}}, "7f6313f802af5567e9d5727d45b9bbe657f3312910851c3016fc539ef0e8d5be": {"query": "\n            DELETE FROM squadov.squad_sharing_games_filter\n            WHERE squad_id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8"]}, "nullable": []}}, "7f86ac947eed102e64f9a42bd4c569fda19c899fc7d728a87fe91fd6d631ceee": {"query": "\n        SELECT *\n        FROM squadov.user_feature_flags\n        WHERE user_id = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "user_id", "type_info": "Int8"}, {"ordinal": 1, "name": "max_record_pixel_y", "type_info": "Int4"}, {"ordinal": 2, "name": "max_record_fps", "type_info": "Int4"}, {"ordinal": 3, "name": "allow_record_upload", "type_info": "Bool"}, {"ordinal": 4, "name": "allow_wow_combat_log_upload", "type_info": "Bool"}, {"ordinal": 5, "name": "enable_user_profiles", "type_info": "Bool"}, {"ordinal": 6, "name": "disable_sentry", "type_info": "Bool"}, {"ordinal": 7, "name": "max_bitrate_kbps", "type_info": "Int4"}, {"ordinal": 8, "name": "can_instant_clip", "type_info": "Bool"}, {"ordinal": 9, "name": "disable_es_search", "type_info": "Bool"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, false, false, false, false, false, false, false, false]}}, "7fadc7d719ceaceae7ca4e1fc69eaac887035a1c12fedcf5336f99e720a05100": {"query": "\n        INSERT INTO squadov.riot_account_links (\n            puuid,\n            user_id\n        )\n        VALUES (\n            $1,\n            $2\n        )\n        ON CONFLICT DO NOTHING\n        ", "describe": {"columns": [], "parameters": {"Left": ["Varchar", "Int8"]}, "nullable": []}}, "7febc9be5f196429278444107a5b48ce9fe72b54e68aae635fd300265398ef10": {"query": "\n            INSERT INTO squadov.share_match_vod_connections (\n                match_uuid,\n                video_uuid,\n                source_user_id,\n                dest_user_id,\n                dest_squad_id,\n                can_share,\n                can_clip,\n                parent_connection_id,\n                share_depth\n            )\n            VALUES (\n                $1,\n                $2,\n                $3,\n                $4,\n                $5,\n                $6,\n                $7,\n                $8,\n                COALESCE(\n                    (\n                        SELECT share_depth\n                        FROM squadov.share_match_vod_connections\n                        WHERE id = $8\n                    ),\n                    -1\n                ) + 1\n            )\n            RETURNING\n                id AS \"id!\",\n                match_uuid,\n                video_uuid,\n                dest_user_id,\n                dest_squad_id,\n                can_share AS \"can_share!\",\n                can_clip AS \"can_clip!\"\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id!", "type_info": "Int8"}, {"ordinal": 1, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "video_uuid", "type_info": "Uuid"}, {"ordinal": 3, "name": "dest_user_id", "type_info": "Int8"}, {"ordinal": 4, "name": "dest_squad_id", "type_info": "Int8"}, {"ordinal": 5, "name": "can_share!", "type_info": "Bool"}, {"ordinal": 6, "name": "can_clip!", "type_info": "Bool"}], "parameters": {"Left": ["Uuid", "Uuid", "Int8", "Int8", "Int8", "Bool", "Bool", "Int8"]}, "nullable": [false, true, true, true, true, false, false]}}, "80b7513631b2d070bf9d2e5b64b7398eee8dfa60f1a6d17dff53dd7aaa23db8b": {"query": "\n            INSERT INTO squadov.tags ( tag )\n            SELECT LOWER(t.tag)\n            FROM UNNEST($1::VARCHAR[]) AS t(tag)\n            ON CONFLICT DO NOTHING\n            ", "describe": {"columns": [], "parameters": {"Left": ["VarcharArray"]}, "nullable": []}}, "80e503cf041bae4a6800209e79ada98fa3c61e814ce1b740f90f3029b3721dca": {"query": "\n            SELECT ta.twitch_user_id, ta.twitch_name\n            FROM squadov.linked_twitch_accounts AS lta\n            INNER JOIN squadov.twitch_accounts AS ta\n                ON ta.twitch_user_id = lta.twitch_user_id\n            WHERE ta.twitch_user_id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "twitch_user_id", "type_info": "Varchar"}, {"ordinal": 1, "name": "twitch_name", "type_info": "Varchar"}], "parameters": {"Left": ["Text"]}, "nullable": [false, false]}}, "819ca7d5072817904061bc0395de2072274768548b3c5fae0bf009a0af9ec8ad": {"query": "\n            INSERT INTO squadov.hearthstone_match_view (\n                view_uuid,\n                match_uuid,\n                user_id\n            )\n            VALUES (\n                $1,\n                $2,\n                $3\n            )\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Uuid", "Int8"]}, "nullable": []}}, "819dbd34c690f842588b0f06c3aba2f48d300f52f54594e4772ac4632d2f53aa": {"query": "\n            SELECT\n                hc.card_id,\n                hcn.string AS \"name\",\n                hct_cost.val AS \"cost\",\n                hct_race.val AS \"race?\"\n            FROM squadov.hearthstone_cards AS hc\n            INNER JOIN squadov.hearthstone_card_names AS hcn\n                ON hcn.card_id = hc.card_id AND hcn.locale = 'en_US'\n            INNER JOIN squadov.hearthstone_card_tags AS hct_cost\n                ON hct_cost.card_id = hc.card_id AND hct_cost.tag = 48\n            INNER JOIN squadov.hearthstone_card_tags AS hct_bacon\n                ON hct_bacon.card_id = hc.card_id AND hct_bacon.tag = 1456\n            INNER JOIN squadov.hearthstone_card_tags AS hct_tech\n                ON hct_tech.card_id = hc.card_id AND hct_tech.tag = 1440\n            LEFT JOIN squadov.hearthstone_card_tags AS hct_race\n                ON hct_race.card_id = hc.card_id AND hct_race.tag = 200\n            WHERE hct_tech.val = $1 AND hct_bacon.val = 1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "card_id", "type_info": "Varchar"}, {"ordinal": 1, "name": "name", "type_info": "Varchar"}, {"ordinal": 2, "name": "cost", "type_info": "Int4"}, {"ordinal": 3, "name": "race?", "type_info": "Int4"}], "parameters": {"Left": ["Int4"]}, "nullable": [false, false, false, false]}}, "829847ab83efe9b5425b4eb0183a0d03bda929fffc2043762fe9f3d64f624076": {"query": "\n        UPDATE squadov.user_profiles\n        SET cover_picture_blob = $2\n        WHERE user_id = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": []}}, "83c7f31e0fcf569a652ce53c16eb72548e41bd4e7a845a4c5c1b29f8957f8c1f": {"query": "\n        UPDATE squadov.tft_matches\n        SET game_start_time = LEAST($2, game_start_time)\n        WHERE match_uuid = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Timestamptz"]}, "nullable": []}}, "859af184e95bded1db98a5f6f12ccde35c3c0459277724421d2ffd8476f60192": {"query": "\n            SELECT\n                rso_access_token AS \"access_token!\",\n                rso_refresh_token AS \"refresh_token!\",\n                rso_expiration AS \"expiration!\"\n            FROM squadov.riot_account_links\n            WHERE puuid = $1\n                AND user_id = $2\n                AND rso_access_token IS NOT NULL\n                AND rso_refresh_token IS NOT NULL\n                AND rso_expiration IS NOT NULL\n            ", "describe": {"columns": [{"ordinal": 0, "name": "access_token!", "type_info": "Varchar"}, {"ordinal": 1, "name": "refresh_token!", "type_info": "Varchar"}, {"ordinal": 2, "name": "expiration!", "type_info": "Timestamptz"}], "parameters": {"Left": ["Text", "Int8"]}, "nullable": [true, true, true]}}, "862cff03f5272f47c5ef82b059692a4300427ae6abe3e627023c1b0a979c7d0a": {"query": "\n                SELECT\n                    wcp.unit_guid AS \"guid!\",\n                    SUM(wde.amount) AS \"value!\"\n                FROM squadov.wow_match_view AS wmv\n                INNER JOIN squadov.wow_match_view_events AS wve\n                    ON wve.view_id = wmv.alt_id\n                INNER JOIN squadov.wow_match_view_character_presence AS wcp\n                    ON wcp.character_id = wve.source_char\n                INNER JOIN squadov.wow_match_view_damage_events AS wde\n                    ON wde.event_id = wve.event_id\n                WHERE wmv.match_uuid = $1\n                    AND wmv.user_id = $2\n                    AND wcp.unit_guid = ANY($3)\n                GROUP BY wcp.unit_guid\n                ", "describe": {"columns": [{"ordinal": 0, "name": "guid!", "type_info": "Varchar"}, {"ordinal": 1, "name": "value!", "type_info": "Int8"}], "parameters": {"Left": ["Uuid", "Int8", "TextArray"]}, "nullable": [false, null]}}, "86433affa81748c950d547b9e953591335d22cb3324964dadebf801d4fa8bec1": {"query": "\n            SELECT *\n            FROM squadov.community_roles\n            WHERE community_id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "community_id", "type_info": "Int8"}, {"ordinal": 2, "name": "name", "type_info": "Varchar"}, {"ordinal": 3, "name": "can_manage", "type_info": "Bool"}, {"ordinal": 4, "name": "can_moderate", "type_info": "Bool"}, {"ordinal": 5, "name": "can_invite", "type_info": "Bool"}, {"ordinal": 6, "name": "can_share", "type_info": "Bool"}, {"ordinal": 7, "name": "is_default", "type_info": "Bool"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, false, false, false, false, false, false]}}, "8666195921d8d2f4bc6f9c2e9504f5a5d04a280720f2c29be61821e30913c265": {"query": "\n            SELECT uas.*, ARRAY_AGG(asg.game) AS \"games!\"\n            FROM squadov.user_autosharing_settings AS uas\n            INNER JOIN squadov.user_autosharing_settings_games AS asg\n                ON asg.id = uas.id\n            WHERE uas.source_user_id = $1\n            GROUP BY\n                uas.id,\n                uas.source_user_id,\n                uas.can_share,\n                uas.can_clip,\n                uas.dest_user_id,\n                uas.dest_squad_id\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "source_user_id", "type_info": "Int8"}, {"ordinal": 2, "name": "dest_user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "dest_squad_id", "type_info": "Int8"}, {"ordinal": 4, "name": "can_share", "type_info": "Bool"}, {"ordinal": 5, "name": "can_clip", "type_info": "Bool"}, {"ordinal": 6, "name": "games!", "type_info": "Int4Array"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, true, true, false, false, null]}}, "86a217b788f8af0e2836978e615fb03937a1174287252b51b170c81aafa202f8": {"query": "\n        INSERT INTO squadov.wow_user_character_cache (\n            user_id,\n            unit_guid,\n            unit_name,\n            class_id,\n            cache_time,\n            build_version\n        )\n        SELECT t.user_id, t.unit_guid, t.unit_name, wsc.class_id, NOW(), t.build_version\n        FROM UNNEST($1::BIGINT[], $2::VARCHAR[], $3::VARCHAR[], $4::VARCHAR[], $5::BIGINT[]) AS t(user_id, unit_guid, unit_name, build_version, spell_id)\n        INNER JOIN squadov.wow_spell_to_class AS wsc\n            ON wsc.spell_id = t.spell_id\n                AND t.build_version LIKE wsc.build_id  || '.%'\n        ON CONFLICT (user_id, unit_guid) DO UPDATE SET\n            unit_name = EXCLUDED.unit_name,\n            class_id = EXCLUDED.class_id,\n            cache_time = EXCLUDED.cache_time,\n            build_version = EXCLUDED.build_version\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8Array", "VarcharArray", "VarcharArray", "VarcharArray", "Int8Array"]}, "nullable": []}}, "8846f3debccc6abdf917b3ec0c7987cad19df3c136c03160a641db6962f651ab": {"query": "\n            SELECT DISTINCT\n                wcc.covenant_id,\n                wcc.soulbind_id,\n                wcc.soulbind_traits,\n                wcc.conduit_item_ids,\n                wcc.conduit_item_ilvls\n            FROM squadov.wow_match_view_character_presence AS wcp\n            INNER JOIN squadov.wow_match_view_combatant_covenants AS wcc\n                ON wcc.character_id = wcp.character_id\n            WHERE wcp.view_id = $1\n                AND wcp.unit_guid = $2\n            ", "describe": {"columns": [{"ordinal": 0, "name": "covenant_id", "type_info": "Int4"}, {"ordinal": 1, "name": "soulbind_id", "type_info": "Int4"}, {"ordinal": 2, "name": "soulbind_traits", "type_info": "Int4Array"}, {"ordinal": 3, "name": "conduit_item_ids", "type_info": "Int8Array"}, {"ordinal": 4, "name": "conduit_item_ilvls", "type_info": "Int4Array"}], "parameters": {"Left": ["Uuid", "Text"]}, "nullable": [false, false, false, false, false]}}, "88647e3885000978f386e54f5dd825597c62dbdb6d3f32440f28a4a597b729cb": {"query": "\n                    WITH user_squads AS (\n                        SELECT squad_id\n                        FROM squadov.squad_role_assignments\n                        WHERE user_id = any($1)\n                    )\n                    SELECT DISTINCT sra.user_id AS \"user_id\"\n                    FROM squadov.squad_role_assignments AS sra\n                    INNER JOIN user_squads AS us\n                        ON us.squad_id = sra.squad_id\n                    WHERE us.squad_id = ANY($2)\n                    ", "describe": {"columns": [{"ordinal": 0, "name": "user_id", "type_info": "Int8"}], "parameters": {"Left": ["Int8Array", "Int8Array"]}, "nullable": [false]}}, "88eb4b60158b114be9e693788af14043f5325f8b28a92e17c3614233cd07b9f0": {"query": "\n        DELETE FROM squadov.twitch_accounts\n        WHERE access_token = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Text"]}, "nullable": []}}, "89a27ee5b9214980cca473fe86893fed6e4da6ce3f63d3a25198a2615b380283": {"query": "\n        UPDATE squadov.user_discord_link\n        SET access_token = $3,\n            refresh_token = $4,\n            token_expires = $5\n        WHERE user_id = $1\n            AND access_token = $2\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Text", "Varchar", "Varchar", "Timestamptz"]}, "nullable": []}}, "89ba26f9af9f8795a8870093f8b8bc51375af8912a20afa0c518018e8e6ea4d1": {"query": "\n        INSERT INTO squadov.tft_matches (\n            match_uuid,\n            platform,\n            region,\n            match_id,\n            game_start_time\n        )\n        VALUES (\n            $1,\n            $2,\n            $3,\n            $4,\n            $5\n        )\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar", "Varchar", "Int8", "Timestamptz"]}, "nullable": []}}, "89c3bfee043f5ed1415e6a4ce45659027358e0461b3a23cc786adf3e49655868": {"query": "\n                INSERT INTO squadov.hearthstone_raw_power_logs (\n                    user_id,\n                    match_uuid,\n                    parsed,\n                    raw_logs_blob_uuid\n                )\n                VALUES (\n                    $1,\n                    $2,\n                    $3,\n                    $4\n                )\n                ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Uuid", "Bool", "Uuid"]}, "nullable": []}}, "8a077ab54c7c26c84447b3dbbe9c812aa6f8116fb624d2e7de30f5a197766de7": {"query": "\n                SELECT uuid\n                FROM squadov.users AS u\n                WHERE u.id = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Int8"]}, "nullable": [false]}}, "8abf46c447d832aedd5affeea60eaf17ab6102f15629bcec7daa6876e617f2ef": {"query": "\n            SELECT t.platform AS \"platform_id!\", t.game_id AS \"game_id!\"\n            FROM UNNEST($1::VARCHAR[], $2::BIGINT[]) AS t(platform, game_id)\n            LEFT JOIN squadov.lol_matches AS lol\n                ON lol.platform = t.platform\n                    AND lol.match_id = t.game_id\n            LEFT JOIN squadov.lol_match_info AS lmi\n                ON lmi.match_uuid = lol.match_uuid\n            WHERE lmi.match_uuid IS NULL\n            ", "describe": {"columns": [{"ordinal": 0, "name": "platform_id!", "type_info": "Varchar"}, {"ordinal": 1, "name": "game_id!", "type_info": "Int8"}], "parameters": {"Left": ["VarcharArray", "Int8Array"]}, "nullable": [null, null]}}, "8b1ec933fba4cd9d44861e9d5c3fb04a036c323f01584a2f0c5bafedddc889ff": {"query": "\n            SELECT DISTINCT v.*\n            FROM squadov.vods AS v\n            INNER JOIN squadov.users AS u\n                ON u.uuid = v.user_uuid\n            LEFT JOIN squadov.view_share_connections_access_users AS vau\n                ON vau.video_uuid = v.video_uuid\n                    AND vau.match_uuid = $1\n                    AND vau.user_id = $2\n            WHERE v.match_uuid = $1 \n                AND (u.id = $2 OR vau.video_uuid IS NOT NULL)\n                AND v.is_clip = FALSE\n                AND (v.is_local = FALSE OR u.id = $2)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "user_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "video_uuid", "type_info": "Uuid"}, {"ordinal": 3, "name": "start_time", "type_info": "Timestamptz"}, {"ordinal": 4, "name": "end_time", "type_info": "Timestamptz"}, {"ordinal": 5, "name": "raw_container_format", "type_info": "Varchar"}, {"ordinal": 6, "name": "is_clip", "type_info": "Bool"}, {"ordinal": 7, "name": "is_local", "type_info": "Bool"}, {"ordinal": 8, "name": "md5", "type_info": "Varchar"}, {"ordinal": 9, "name": "last_sync_elasticsearch", "type_info": "Timestamptz"}, {"ordinal": 10, "name": "request_sync_elasticsearch", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [true, true, false, true, true, false, false, false, true, true, true]}}, "8c0c4be4a99803b312a0086a699cc681f9ce48a0eeea804af474cad52b528b5d": {"query": "\n        UPDATE squadov.user_profiles\n        SET description = $2,\n            facebook = $3,\n            instagram = $4,\n            twitch = $5,\n            youtube = $6,\n            snapchat = $7,\n            twitter = $8,\n            tiktok = $9,\n            display_name = $10\n        WHERE user_id = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Varchar", "Varchar", "Varchar", "Varchar", "Varchar", "Varchar", "Varchar", "Varchar", "Varchar"]}, "nullable": []}}, "8c172df0494118dd1e59c14037d3ba673e685f25596a3318cd2d5efe7d037ec6": {"query": "\n            SELECT\n                team_id,\n                puuid,\n                character_id,\n                competitive_tier,\n                total_combat_score,\n                rounds_played,\n                kills,\n                deaths,\n                assists\n            FROM squadov.valorant_match_players\n            WHERE match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "team_id", "type_info": "Varchar"}, {"ordinal": 1, "name": "puuid", "type_info": "Varchar"}, {"ordinal": 2, "name": "character_id", "type_info": "Varchar"}, {"ordinal": 3, "name": "competitive_tier", "type_info": "Int4"}, {"ordinal": 4, "name": "total_combat_score", "type_info": "Int4"}, {"ordinal": 5, "name": "rounds_played", "type_info": "Int4"}, {"ordinal": 6, "name": "kills", "type_info": "Int4"}, {"ordinal": 7, "name": "deaths", "type_info": "Int4"}, {"ordinal": 8, "name": "assists", "type_info": "Int4"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false, false, false, false, false, false]}}, "8c6614b114c968b96460ebd3317739a04825a9f7394702bf3c3b034d3d8a1ef7": {"query": "\n        DELETE FROM squadov.community_invites\n        WHERE code = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid"]}, "nullable": []}}, "8c68c3d6d7de48ebcd6133dffb06330e91242421833aa38242bce99cfd02bb15": {"query": "\n            DELETE FROM squadov.vods\n            WHERE video_uuid = ANY($1)\n            ", "describe": {"columns": [], "parameters": {"Left": ["UuidArray"]}, "nullable": []}}, "8c9d6b77ed239346c149fd601e27231c21fcb76a3b6b704db43e0da503da6ee2": {"query": "\n            SELECT\n                round_num,\n                puuid,\n                combat_score\n            FROM squadov.valorant_match_round_player_stats\n            WHERE match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "round_num", "type_info": "Int4"}, {"ordinal": 1, "name": "puuid", "type_info": "Varchar"}, {"ordinal": 2, "name": "combat_score", "type_info": "Int4"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false]}}, "8cc17cd623022c178a176e3d6f3b32bd8dc1e3b49d59ad6abb9ad84a5e7084fb": {"query": "\n        INSERT INTO squadov.matches (uuid, game)\n        VALUES ($1, $2)\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int4"]}, "nullable": []}}, "8e0e514b947b6c6c89844fb840c0bf90bc35bfe3bdd6aa71b334339d08d68788": {"query": "\n            SELECT match_uuid, platform, match_id\n            FROM squadov.lol_matches\n            WHERE match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "platform", "type_info": "Varchar"}, {"ordinal": 2, "name": "match_id", "type_info": "Int8"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false]}}, "8f28a33438269f29e09147f2f9f1426dedf7f909bb0b15fcf41585500d326e0f": {"query": "\n                SELECT DISTINCT ou.id\n                FROM squadov.tft_match_participants AS tmp\n                INNER JOIN squadov.riot_accounts AS ra\n                    ON ra.puuid = tmp.puuid\n                INNER JOIN squadov.riot_account_links AS ral\n                    ON ral.puuid = ra.puuid\n                LEFT JOIN squadov.squad_role_assignments AS sra\n                    ON sra.user_id = ral.user_id\n                LEFT JOIN squadov.squad_role_assignments AS ora\n                    ON ora.squad_id = sra.squad_id\n                INNER JOIN squadov.users AS ou\n                    ON ou.id = ora.user_id\n                        OR ou.id = ral.user_id\n                WHERE tmp.match_uuid = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false]}}, "90853ecf6c5313a79bed526b6944175775e2b6e6573c943c858382c516f1c205": {"query": "\n            SELECT *\n            FROM squadov.community_invites\n            WHERE code = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "code", "type_info": "Uuid"}, {"ordinal": 1, "name": "community_id", "type_info": "Int8"}, {"ordinal": 2, "name": "inviter_user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "num_uses", "type_info": "Int4"}, {"ordinal": 4, "name": "max_uses", "type_info": "Int4"}, {"ordinal": 5, "name": "expiration", "type_info": "Timestamptz"}, {"ordinal": 6, "name": "created_tm", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false, true, true, false]}}, "90de97450c94fb41670b290f2791123ffd19773a6166d22a1ce28c34d1239676": {"query": "\n            SELECT EXISTS (\n                SELECT 1\n                FROM squadov.share_tokens AS st\n                WHERE st.clip_uuid = $1\n                UNION\n                SELECT 1\n                FROM squadov.share_tokens AS st\n                INNER JOIN squadov.users AS u\n                    ON u.id = st.user_id\n                INNER JOIN squadov.vods AS v\n                    ON v.match_uuid = st.match_uuid\n                        AND v.user_uuid = u.uuid\n                WHERE v.video_uuid = $1\n                UNION\n                SELECT 1\n                FROM squadov.share_tokens AS st\n                WHERE st.bulk_video_uuids @> ARRAY[$1]\n            ) AS \"exists!\"\n            ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Uuid"]}, "nullable": [null]}}, "9195c564cfdf991d97865e41a3f25dfe4a1f848530dde09a9aa05d2e8676a611": {"query": "\n            INSERT INTO squadov.user_profile_vods (\n                user_id,\n                video_uuid\n            ) VALUES (\n                $1,\n                $2\n            )\n            ON CONFLICT DO NOTHING\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": []}}, "91cf7f389d7116f2e84933fcad2cdd4cc71167962035ade34d6093f8d468a59c": {"query": "\n                    UPDATE squadov.geo_ip_cache\n                    SET cache_tm = NOW(),\n                        city = $2,\n                        country = $3,\n                        timezone = $4\n                    WHERE ip_addr >>= $1\n                    ", "describe": {"columns": [], "parameters": {"Left": ["Inet", "Varchar", "Varchar", "Int4"]}, "nullable": []}}, "91e2f9bf5795d387bef1f0ec7c6df4f0807b9d6089f9b0f980cb7b633d4742b2": {"query": "\n            SELECT id, alt_id, user_id, combat_log_version, advanced_log, build_version, match_uuid\n            FROM squadov.wow_match_view\n            WHERE id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Uuid"}, {"ordinal": 1, "name": "alt_id", "type_info": "Int8"}, {"ordinal": 2, "name": "user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "combat_log_version", "type_info": "Varchar"}, {"ordinal": 4, "name": "advanced_log", "type_info": "Bool"}, {"ordinal": 5, "name": "build_version", "type_info": "Varchar"}, {"ordinal": 6, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false, false, false, true]}}, "9214f64cbc273e889eed98a269ba8cb869c022acc259b80a1cf085fc55a474e7": {"query": "\n            SELECT EXISTS (\n                SELECT 1\n                FROM squadov.user_profile_vods\n                WHERE user_id = $1 AND video_uuid = $2\n            ) AS \"exists!\"\n            ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": [null]}}, "9222bab471e7b2b8d899877cd68155f1528893f833ed6100cc9f1f0e005ddeaa": {"query": "\n            INSERT INTO squadov.user_sessions (\n                id,\n                access_token,\n                refresh_token,\n                user_id,\n                is_temp,\n                issue_tm\n            )\n            VALUES (\n                $1,\n                $2,\n                $3,\n                $4,\n                $5,\n                NOW()\n            )\n            ", "describe": {"columns": [], "parameters": {"Left": ["Varchar", "Text", "Text", "Int8", "Bool"]}, "nullable": []}}, "92f88621a3515fba14d366a0112297dada8ae982de277da947bbfba745eb169b": {"query": "\n                SELECT match_uuid\n                FROM squadov.new_wow_instances AS wc\n                CROSS JOIN (\n                    SELECT wmv.start_tm, wcv.instance_id, wcv.instance_type\n                    FROM squadov.wow_match_view AS wmv\n                    INNER JOIN squadov.wow_instance_view AS wcv\n                        ON wcv.view_id = wmv.id\n                    WHERE wmv.id = $1\n                ) AS wmv(start_tm, instance_id, instance_type)\n                WHERE wc.tr && tstzrange(wmv.start_tm, $2, '[]')\n                    AND wc.instance_id = wmv.instance_id\n                    AND wc.instance_type = wmv.instance_type\n                    AND wc.players && $3::INTEGER[]\n                ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid", "Timestamptz", "Int4Array"]}, "nullable": [false]}}, "93dac175b56d04553f1a02c08d8981e00426f923d7d309a85db05c69b0d76fac": {"query": "\n        INSERT INTO squadov.user_autosharing_settings_games (\n            id,\n            game\n        )\n        SELECT uas.id, inp.game\n        FROM UNNEST($3::INTEGER[]) AS inp(game)\n        CROSS JOIN (\n            SELECT *\n            FROM squadov.user_autosharing_settings\n            WHERE id = $1 AND source_user_id = $2\n        ) AS uas\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8", "Int4Array"]}, "nullable": []}}, "942a591c19cbd333fc4e66f7027e6b22ada842fb41faf02514c6dee7025f7790": {"query": "\n            SELECT\n                hse.entity_id,\n                hse.tags,\n                hse.attributes\n            FROM squadov.hearthstone_snapshots AS hs\n            INNER JOIN squadov.hearthstone_match_view AS hmv\n                ON hmv.match_uuid = hs.match_uuid AND hmv.user_id = hs.user_id\n            INNER JOIN squadov.hearthstone_match_players AS hmp\n                ON hmp.view_uuid = hmv.view_uuid\n            INNER JOIN squadov.hearthstone_snapshots_player_map AS pm\n                ON pm.player_id = hmp.player_match_id AND pm.snapshot_id = hs.snapshot_id\n            INNER JOIN squadov.hearthstone_snapshots_entities AS hse\n                ON hse.snapshot_id = hs.snapshot_id\n            INNER JOIN squadov.hearthstone_match_metadata AS hmm\n                ON hmm.view_uuid = hmv.view_uuid\n            WHERE hse.snapshot_id = $1\n                AND hmp.user_id = $2\n                AND (hse.tags->>'CONTROLLER')::INTEGER = pm.player_id\n                AND (hse.tags->>'CARDTYPE') = 'HERO'\n                AND ((hse.tags->>'ZONE') = 'PLAY' OR (hse.tags->>'ZONE') = 'GRAVEYARD')\n                AND ((hmm.game_type = 23 AND (hse.tags->>'PLAYER_ID') IS NOT NULL) OR hmm.game_type != 23) \n            ORDER BY hse.entity_id ASC\n            ", "describe": {"columns": [{"ordinal": 0, "name": "entity_id", "type_info": "Int4"}, {"ordinal": 1, "name": "tags", "type_info": "Jsonb"}, {"ordinal": 2, "name": "attributes", "type_info": "Jsonb"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false, false, false]}}, "945072d4f817c0e7a666c95f81d502fba2ce8de6885dc16026d070c710d08650": {"query": "\n            INSERT INTO squadov.match_to_match_collection (\n                match_uuid,\n                collection_uuid\n            )\n            SELECT $1, had.collection_uuid\n            FROM squadov.hearthstone_arena_drafts AS had\n            INNER JOIN squadov.hearthstone_decks AS hpmd\n                ON hpmd.deck_id = had.draft_deck_id AND hpmd.user_id = had.user_id\n            WHERE had.user_id = $2\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "95ad9198dfe37a2eab688fb62f82a1e7fccc7b0500213cb4d00779e9de2c49e7": {"query": "\n                SELECT city, country, timezone, cache_tm\n                FROM squadov.geo_ip_cache\n                WHERE ip_addr >>= $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "city", "type_info": "Varchar"}, {"ordinal": 1, "name": "country", "type_info": "Varchar"}, {"ordinal": 2, "name": "timezone", "type_info": "Int4"}, {"ordinal": 3, "name": "cache_tm", "type_info": "Timestamptz"}], "parameters": {"Left": ["Inet"]}, "nullable": [true, true, true, false]}}, "96ff33e46b560bad266cc05563f9509107dfa1b85bc0bfa816a0e92b05296d73": {"query": "\n        DELETE FROM squadov.share_tokens\n        WHERE clip_uuid = $1 AND user_id = $2\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "97238f7c0e5f7081dbe80a63ca7a1c0714fed70f08b9b603978ccc7928b3770a": {"query": "\n            SELECT bucket\n            FROM squadov.blob_link_storage\n            WHERE uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "bucket", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false]}}, "984e0d6ba6f00dc74e899a88f514b29412d5511e4b64c48cfc41de2d9532489c": {"query": "\n                SELECT v.video_uuid, v.match_uuid, v.is_clip, m.game AS \"game!\"\n                FROM squadov.vods AS v\n                INNER JOIN squadov.users AS u\n                    ON u.uuid = v.user_uuid\n                INNER JOIN squadov.matches AS m\n                    ON m.uuid = v.match_uuid\n                WHERE u.id = $1\n                    AND v.match_uuid IS NOT NULL\n                    AND v.user_uuid IS NOT NULL\n                    AND v.start_time IS NOT NULL\n                    AND v.end_time IS NOT NULL\n                ", "describe": {"columns": [{"ordinal": 0, "name": "video_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "is_clip", "type_info": "Bool"}, {"ordinal": 3, "name": "game!", "type_info": "Int4"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, true, false, true]}}, "986f3026496ef9c582b5be618dc771af6ef98a5eac003101ab2158b53c335adb": {"query": "\n            INSERT INTO squadov.user_downloads (\n                user_id,\n                tm\n            )\n            VALUES (\n                $1,\n                NOW()\n            )\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8"]}, "nullable": []}}, "988b7f29e275a40b7ee9b0ccb1face5efe4c8e73f93deee5e1ce7ee7d1730b4c": {"query": "\n        SELECT EXISTS (\n            SELECT 1\n            FROM squadov.riot_account_links AS ral\n            WHERE ral.user_id = $1\n                AND ral.puuid = $2\n        ) AS \"exists!\"\n        ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Text"]}, "nullable": [null]}}, "98d7c92af613902ddfddbba7badd87c4e94de184e488e58aba0beb3822b4cb8f": {"query": "\n            SELECT hm.match_uuid as \"uuid\"\n            FROM squadov.hearthstone_matches AS hm\n            WHERE hm.match_day = $1\n                AND hm.server_ip = $2\n                AND hm.port = $3\n                AND hm.game_id = $4\n            ", "describe": {"columns": [{"ordinal": 0, "name": "uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Date", "Inet", "Int4", "Int4"]}, "nullable": [false]}}, "990caf4a0eda191f38b8d34af8ac5798557c63208cce9c35b9f472d65befc709": {"query": "\n            SELECT\n                FLOOR((EXTRACT(EPOCH FROM wve.tm) - EXTRACT(EPOCH FROM $4::TIMESTAMPTZ)) / $6::BIGINT) * $6::BIGINT AS \"xtm\",\n                COALESCE(wcp.owner_guid, wcp.unit_guid) AS \"guid\",\n                SUM(wde.amount) / CAST($6::BIGINT AS DOUBLE PRECISION) AS \"amount\"\n            FROM squadov.wow_match_view AS wmv\n            INNER JOIN squadov.wow_match_view_events AS wve\n                ON wve.view_id = wmv.alt_id\n            INNER JOIN squadov.wow_match_view_character_presence AS wcp\n                ON wcp.character_id = wve.source_char\n            INNER JOIN squadov.wow_match_view_damage_events AS wde\n                ON wde.event_id = wve.event_id\n            WHERE wmv.match_uuid = $1\n                AND wmv.user_id = $2\n                AND wcp.unit_guid = ANY($3)\n                AND wve.tm >= $4 AND wve.tm <= $5\n            GROUP BY xtm, guid\n            ORDER BY xtm, guid\n            ", "describe": {"columns": [{"ordinal": 0, "name": "xtm", "type_info": "Float8"}, {"ordinal": 1, "name": "guid", "type_info": "Varchar"}, {"ordinal": 2, "name": "amount", "type_info": "Float8"}], "parameters": {"Left": ["Uuid", "Int8", "TextArray", "Timestamptz", "Timestamptz", "Int8"]}, "nullable": [null, null, null]}}, "998d6081e87ff825d97c60911567cc731f5279aff8ca763fa006a1a5d5bdf4a7": {"query": "\n        DELETE FROM squadov.squad_invite_links\n        WHERE id = $1\n            AND squad_id = $2\n            AND user_id = $3\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8", "Int8"]}, "nullable": []}}, "99dbaee0190875c0c3267c6b5d8e79ea576364144be4e50597ed5334196993eb": {"query": "\n            SELECT\n                tm,\n                game_entity_id,\n                current_turn,\n                step,\n                current_player_id,\n                last_action_id,\n                snapshot_id\n            FROM squadov.hearthstone_snapshots\n            WHERE snapshot_id = any($1)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "tm", "type_info": "Timestamptz"}, {"ordinal": 1, "name": "game_entity_id", "type_info": "Int4"}, {"ordinal": 2, "name": "current_turn", "type_info": "Int4"}, {"ordinal": 3, "name": "step", "type_info": "Int4"}, {"ordinal": 4, "name": "current_player_id", "type_info": "Int4"}, {"ordinal": 5, "name": "last_action_id", "type_info": "Int8"}, {"ordinal": 6, "name": "snapshot_id", "type_info": "Uuid"}], "parameters": {"Left": ["UuidArray"]}, "nullable": [true, false, false, false, false, false, false]}}, "9a5ec8507924419370e6f4c53e9ead7137ccc0148a138a435dd44c0928524d4d": {"query": "\n        UPDATE squadov.share_match_vod_connections\n        SET can_share = $3,\n            can_clip = $4\n        WHERE id = $1 AND source_user_id = $2\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8", "Bool", "Bool"]}, "nullable": []}}, "9ac3df4e513cb17f2e6d30bc7f6d6c2747087aa1a61057b363254f99660046c6": {"query": "\n            WITH RECURSIVE access_cte AS (\n                SELECT vau.*\n                FROM squadov.view_share_connections_access_users AS vau\n                WHERE ($3::UUID IS NULL OR vau.match_uuid = $3)\n                    AND ($4::UUID IS NULL OR vau.video_uuid = $4)\n                    AND vau.user_id = $1\n                UNION\n                SELECT vau.*\n                FROM squadov.view_share_connections_access_users AS vau\n                INNER JOIN access_cte AS ac\n                    ON ac.parent_connection_id = vau.id\n            )\n            SELECT EXISTS (\n                SELECT 1\n                FROM access_cte\n                WHERE $2::BIGINT IS NULL OR source_user_id = $2\n            ) AS \"exists!\"\n            ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Int8", "Uuid", "Uuid"]}, "nullable": [null]}}, "9b18e8e70958521feeb62c50f6935be832688b46cf0f50978ac05aef3434a982": {"query": "\n            SELECT t.id AS \"id!\"\n            FROM UNNEST($1::VARCHAR[]) AS t(id)\n            LEFT JOIN squadov.riot_accounts AS ra\n                ON ra.puuid = t.id\n            WHERE ra.summoner_id IS NULL\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id!", "type_info": "Varchar"}], "parameters": {"Left": ["VarcharArray"]}, "nullable": [null]}}, "9bcc2220e9a111144abe74073d2d6573a8f96250d1391009972e5979f2066361": {"query": "\n        SELECT ra.puuid, COALESCE(ra.game_name, ra.summoner_name) AS \"game_name\", COALESCE(ra.tag_line, '') AS \"tag_line\"\n        FROM squadov.riot_accounts AS ra\n        INNER JOIN squadov.riot_account_links AS ral\n            ON ral.puuid = ra.puuid\n        WHERE ral.user_id = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "puuid", "type_info": "Varchar"}, {"ordinal": 1, "name": "game_name", "type_info": "Varchar"}, {"ordinal": 2, "name": "tag_line", "type_info": "Varchar"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, null, null]}}, "9d1a6905caf2a95b43fa01bc0a7d76692c3abb499b5ac6c1c8465c6d8b84dd76": {"query": "\n            UPDATE squadov.wow_match_view_character_presence AS wcp\n            SET current_hp = COALESCE(t.hp, wcp.current_hp),\n                max_hp = COALESCE(t.max, wcp.max_hp)\n            FROM UNNEST($1::UUID[], $2::VARCHAR[], $3::BIGINT[], $4::BIGINT[]) AS t(view_id, unit_guid, hp, max)\n            WHERE wcp.view_id = t.view_id\n                AND wcp.unit_guid = t.unit_guid\n            ", "describe": {"columns": [], "parameters": {"Left": ["UuidArray", "VarcharArray", "Int8Array", "Int8Array"]}, "nullable": []}}, "9d28d2b79590563f64924574abd36e4ef7f9268cd6df2b890a85cdfa4a3e2de0": {"query": "\n        UPDATE squadov.csgo_match_views\n        SET match_uuid = $2,\n            stop_time = $3\n        WHERE view_uuid = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Uuid", "Timestamptz"]}, "nullable": []}}, "9ee281e385b50e63faada4aa3506c9f146dc2f9a816174cb2ddde8be7f3db619": {"query": "\n            DELETE FROM squadov.user_favorite_matches\n            WHERE match_uuid = $1 AND user_id = $2\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "9f727aa1abe511472ff0a2d74db0b117083b03ed1e702cb599bb750028378514": {"query": "DELETE FROM squadov.tft_match_participants WHERE match_uuid = $1", "describe": {"columns": [], "parameters": {"Left": ["Uuid"]}, "nullable": []}}, "9f7d11d1213c4b670a46d10aca78b0280e67057d3040bf8c21228fb786f6340b": {"query": "\n            SELECT *\n            FROM squadov.user_to_user_subscriptions\n            WHERE source_user_id = $1\n                AND dest_user_id = $2\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "source_user_id", "type_info": "Int8"}, {"ordinal": 2, "name": "dest_user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "is_twitch", "type_info": "Bool"}, {"ordinal": 4, "name": "last_checked", "type_info": "Timestamptz"}], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": [false, false, false, false, false]}}, "9faefb451ff037cd87705610c7c040658b896cb4367a4230e01b0a2ab1e3e5d2": {"query": "\n            WITH current AS (\n                SELECT *\n                FROM squadov.wow_match_view AS wmv\n                INNER JOIN squadov.new_wow_encounters AS nwe\n                    ON nwe.match_uuid = wmv.match_uuid\n                WHERE wmv.id = $1\n            )\n            SELECT nwe.match_uuid\n            FROM current\n            INNER JOIN squadov.wow_match_view AS wmv\n                ON wmv.user_id = current.user_id\n                    AND wmv.session_id = current.session_id\n            INNER JOIN squadov.new_wow_encounters AS nwe\n                ON nwe.match_uuid = wmv.match_uuid\n                    AND nwe.combatants_key = current.combatants_key\n                    AND nwe.encounter_id = current.encounter_id\n                    AND nwe.difficulty = current.difficulty\n                    AND nwe.instance_id = current.instance_id\n            WHERE wmv.id != current.id\n            ORDER BY wmv.end_tm DESC\n            LIMIT 1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false]}}, "9fd996d635c75209c4655943f073fb5876f0bd9313d86f95945b26e27c1064da": {"query": "\n            DELETE FROM squadov.clip_reacts\n            WHERE clip_uuid = $1 AND user_id = $2\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "a02bc792efb0d65fc530747f2e4f4036ea3d5a0bbc5f267562608bb3fb1fe8ec": {"query": "\n            INSERT INTO squadov.csgo_match_views (\n                view_uuid,\n                user_id,\n                game_server,\n                start_time,\n                map,\n                mode\n            ) VALUES (\n                gen_random_uuid(),\n                $1,\n                $2,\n                $3,\n                $4,\n                $5\n            )\n            RETURNING view_uuid\n            ", "describe": {"columns": [{"ordinal": 0, "name": "view_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Int8", "Varchar", "Timestamptz", "Varchar", "Varchar"]}, "nullable": [false]}}, "a049d3535bef9421992684655a35a3762769d1fd490dd95e7fecdf67bebca2b3": {"query": "\n                INSERT INTO squadov.referral_codes (\n                    id,\n                    code,\n                    description,\n                    user_id,\n                    tm\n                )\n                VALUES (\n                    gen_random_uuid(),\n                    $1,\n                    '',\n                    $2,\n                    NOW()\n                )\n                RETURNING code\n                ", "describe": {"columns": [{"ordinal": 0, "name": "code", "type_info": "Varchar"}], "parameters": {"Left": ["Varchar", "Int8"]}, "nullable": [false]}}, "a0d97c18ebae7f9a27fb491d1a3ac5cb8044cd796c4b34fab55fc62149848c7c": {"query": "\n        INSERT INTO squadov.community_invite_usage (\n            code,\n            user_id,\n            usage_tm\n        ) VALUES (\n            $1,\n            $2,\n            NOW()\n        )\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "a10122437e4cbc1060fda82a8179608dcc185462b320a67e8723a162b4080a00": {"query": "\n        UPDATE squadov.riot_accounts\n        SET raw_puuid = $2\n        WHERE puuid = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Text", "Varchar"]}, "nullable": []}}, "a2ec77e26c2594e4cde3f1a01241edb7514642214edde6f4278601fefea5f644": {"query": "\n            SELECT\n                id,\n                username,\n                email,\n                verified,\n                uuid,\n                is_test,\n                is_admin,\n                welcome_sent,\n                registration_time\n            FROM squadov.users\n            WHERE uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "username", "type_info": "Varchar"}, {"ordinal": 2, "name": "email", "type_info": "Varchar"}, {"ordinal": 3, "name": "verified", "type_info": "Bool"}, {"ordinal": 4, "name": "uuid", "type_info": "Uuid"}, {"ordinal": 5, "name": "is_test", "type_info": "Bool"}, {"ordinal": 6, "name": "is_admin", "type_info": "Bool"}, {"ordinal": 7, "name": "welcome_sent", "type_info": "Bool"}, {"ordinal": 8, "name": "registration_time", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false, false, false, false, false, true]}}, "a380a3bc376c5504ee837129ff2dc3fd1e6a54699937418c8cd3408a2842467f": {"query": "\n        SELECT\n            index,\n            card_id,\n            owned,\n            normal_count,\n            golden_count\n        FROM squadov.hearthstone_deck_slots\n        WHERE deck_version_id = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "index", "type_info": "Int4"}, {"ordinal": 1, "name": "card_id", "type_info": "Varchar"}, {"ordinal": 2, "name": "owned", "type_info": "Bool"}, {"ordinal": 3, "name": "normal_count", "type_info": "Int4"}, {"ordinal": 4, "name": "golden_count", "type_info": "Int4"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, false, false, false]}}, "a3abf31e8a88cec1df98d97c70c2328bcc1b12edf084fb8018b7fbc3608af54a": {"query": "\n            SELECT EXISTS (\n                SELECT 1\n                FROM squadov.aimlab_tasks\n                WHERE match_uuid = $1\n                    AND user_id = $2\n            ) AS \"exists!\"\n            ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [null]}}, "a443d0a5737b973d3fc499280820e010cfefc8aa8bf2897324b1f729f2ccd6ff": {"query": "\n            INSERT INTO squadov.wow_challenge_view (\n                view_id,\n                challenge_name,\n                instance_id,\n                keystone_level\n            )\n            VALUES (\n                $1,\n                $2,\n                $3,\n                $4\n            )\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar", "Int4", "Int4"]}, "nullable": []}}, "a4527d789384f7f6eff9b8d832a49cdbd0efe9cad29a5cd6f044fb8cb3cba189": {"query": "\n        UPDATE squadov.user_profiles\n        SET link_slug = $2,\n            match_access = $3,\n            achievement_access = $4,\n            misc_access = $5\n        WHERE user_id = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Varchar", "Int4", "Int4", "Int4"]}, "nullable": []}}, "a4644b3fbb095b8461cbc9448484369f32e6fa1db0d023a55502cf0b6e6a13fe": {"query": "\n            SELECT id, alt_id, user_id, combat_log_version, advanced_log, build_version, match_uuid\n            FROM squadov.wow_match_view\n            WHERE match_uuid = $1 AND user_id = $2\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Uuid"}, {"ordinal": 1, "name": "alt_id", "type_info": "Int8"}, {"ordinal": 2, "name": "user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "combat_log_version", "type_info": "Varchar"}, {"ordinal": 4, "name": "advanced_log", "type_info": "Bool"}, {"ordinal": 5, "name": "build_version", "type_info": "Varchar"}, {"ordinal": 6, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false, false, false, false, false, false, true]}}, "a4d7d958823648dd47a286021b4abf1bd4e89fbbc0e84dadffdd4eb5638921fc": {"query": "\n            INSERT INTO squadov.match_collections (uuid)\n            VALUES ( gen_random_uuid() )\n            RETURNING uuid\n            ", "describe": {"columns": [{"ordinal": 0, "name": "uuid", "type_info": "Uuid"}], "parameters": {"Left": []}, "nullable": [false]}}, "a4e1ba75706aed2e3ceac9d782d3b441f35d134e89503a2395f2d2e4de796f44": {"query": "\n        SELECT wcp.unit_guid\n        FROM squadov.wow_match_view AS wmv\n        INNER JOIN squadov.wow_match_view_character_presence AS wcp\n            ON wcp.view_id = wmv.id\n        WHERE wmv.match_uuid = $1\n            AND wmv.user_id = $2\n            AND wcp.has_combatant_info\n        ", "describe": {"columns": [{"ordinal": 0, "name": "unit_guid", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false]}}, "a55086880bbe5ded3750ab63e1010ee9f863448317642213560a97cb6a173c95": {"query": "\n            WITH duel_matches AS (\n                SELECT hmm.*\n                FROM squadov.hearthstone_match_metadata AS hmm\n                INNER JOIN squadov.hearthstone_match_view AS hmv\n                    ON hmv.view_uuid = hmm.view_uuid\n                INNER JOIN squadov.match_to_match_collection AS mmc\n                    ON mmc.match_uuid = hmv.match_uuid\n                WHERE mmc.collection_uuid = $1 AND hmv.user_id = $2\n            ), duel_ratings AS (\n                SELECT MAX(duels_casual_rating) AS \"casual\", MAX(duels_heroic_rating) AS \"heroic\"\n                FROM duel_matches AS dm\n                INNER JOIN squadov.hearthstone_match_players AS hmp\n                    ON hmp.view_uuid = dm.view_uuid\n                WHERE hmp.user_id = $2\n                GROUP BY hmp.user_id\n            )\n            SELECT\n                collection_uuid AS \"duel_uuid\",\n                deck_id,\n                creation_time AS \"timestamp\",\n                (\n                    SELECT COUNT(dm.view_uuid)\n                    FROM duel_matches AS dm\n                    INNER JOIN squadov.hearthstone_match_players AS hmp\n                        ON hmp.view_uuid = dm.view_uuid AND hmp.player_match_id = dm.match_winner_player_id\n                    WHERE hmp.user_id = $2\n                ) AS \"wins!\",\n                (\n                    SELECT COUNT(dm.view_uuid)\n                    FROM duel_matches AS dm\n                    INNER JOIN squadov.hearthstone_match_players AS hmp\n                        ON hmp.view_uuid = dm.view_uuid AND hmp.player_match_id = dm.match_winner_player_id\n                    WHERE hmp.user_id != $2\n                ) AS \"loss!\",\n                (\n                    SELECT casual\n                    FROM duel_ratings\n                    LIMIT 1\n                ) AS \"casual_rating\",\n                (\n                    SELECT heroic\n                    FROM duel_ratings\n                    LIMIT 1\n                ) AS \"heroic_rating\",\n                (\n                    SELECT DISTINCT hmm.game_type\n                    FROM duel_matches AS dm\n                    INNER JOIN squadov.hearthstone_match_metadata AS hmm\n                        ON hmm.view_uuid = dm.view_uuid\n                    LIMIT 1\n                ) AS \"game_type!\"\n            FROM squadov.hearthstone_duels\n            WHERE collection_uuid = $1 AND user_id = $2\n            ", "describe": {"columns": [{"ordinal": 0, "name": "duel_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "deck_id", "type_info": "Int8"}, {"ordinal": 2, "name": "timestamp", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "wins!", "type_info": "Int8"}, {"ordinal": 4, "name": "loss!", "type_info": "Int8"}, {"ordinal": 5, "name": "casual_rating", "type_info": "Int4"}, {"ordinal": 6, "name": "heroic_rating", "type_info": "Int4"}, {"ordinal": 7, "name": "game_type!", "type_info": "Int4"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false, false, false, null, null, null, null, null]}}, "a684d17a6829a7bb4b84de7adbba75b04f6ad0388086c4551d3b28f0017ebac4": {"query": "\n        INSERT INTO squadov.user_profile_vods (\n            user_id,\n            video_uuid\n        )\n        SELECT $2, v.video_uuid\n        FROM squadov.vods AS v\n        INNER JOIN squadov.users AS u\n            ON u.uuid = v.user_uuid\n        WHERE u.id = $2\n            AND v.match_uuid = $1\n            AND v.is_clip = FALSE AND v.is_local = FALSE\n            AND v.end_time IS NOT NULL\n        ON CONFLICT DO NOTHING\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "a6d60dd763b4c2a37f73d2671e15b6210fb74c6a5e446809f6bae7eb26c8dd52": {"query": "\n        INSERT INTO squadov.vod_thumbnails (\n            video_uuid,\n            bucket,\n            filepath,\n            width,\n            height\n        ) VALUES (\n            $1,\n            $2,\n            $3,\n            $4,\n            $5\n        )\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar", "Varchar", "Int4", "Int4"]}, "nullable": []}}, "a7c8570a2a06668435f0d06dfd8ff16e896a2ec9f71606f92468af14dc741a81": {"query": "\n        SELECT hmud.deck_version_id, hdv.deck_id\n        FROM squadov.hearthstone_match_user_deck AS hmud\n        INNER JOIN squadov.hearthstone_deck_versions AS hdv\n            ON hdv.version_id = hmud.deck_version_id\n        WHERE hmud.match_uuid = $1 AND hmud.user_id = $2\n        ", "describe": {"columns": [{"ordinal": 0, "name": "deck_version_id", "type_info": "Int8"}, {"ordinal": 1, "name": "deck_id", "type_info": "Int8"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false, false]}}, "a7c959a1afac6d2ef008963261ebbfc9c8a5b42e2d837e45b656ba6a6d9dc0cd": {"query": "\n                INSERT INTO squadov.aimlab_tasks (\n                    id,\n                    user_id,\n                    klutch_id,\n                    match_uuid,\n                    task_name,\n                    mode,\n                    score,\n                    version,\n                    create_date,\n                    raw_data\n                )\n                VALUES (\n                    $1,\n                    $2,\n                    $3,\n                    $4,\n                    $5,\n                    $6,\n                    $7,\n                    $8,\n                    $9,\n                    $10\n                )\n                ON CONFLICT DO NOTHING\n                ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8", "Varchar", "Uuid", "Varchar", "Int4", "Int8", "Varchar", "Timestamptz", "Jsonb"]}, "nullable": []}}, "a7d26a68b6509d409fb1c53b7f3226ae8c73d2f5774fe81feaeb780211b5013e": {"query": "\n            INSERT INTO squadov.clip_views (\n                clip_uuid,\n                user_id,\n                tm\n            )\n            VALUES (\n                $1,\n                $2,\n                NOW()\n            )\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "a7fc8aab324c2890a7b215d86f33865169cde56cb43f87f88d47b5f1f3d603b0": {"query": "\n        SELECT *\n        FROM squadov.csgo_event_container_round_damage\n        WHERE container_id = $1\n        ORDER BY tm ASC\n        ", "describe": {"columns": [{"ordinal": 0, "name": "container_id", "type_info": "Int8"}, {"ordinal": 1, "name": "round_num", "type_info": "Int4"}, {"ordinal": 2, "name": "receiver", "type_info": "Int4"}, {"ordinal": 3, "name": "attacker", "type_info": "Int4"}, {"ordinal": 4, "name": "remaining_health", "type_info": "Int4"}, {"ordinal": 5, "name": "remaining_armor", "type_info": "Int4"}, {"ordinal": 6, "name": "damage_health", "type_info": "Int4"}, {"ordinal": 7, "name": "damage_armor", "type_info": "Int4"}, {"ordinal": 8, "name": "weapon", "type_info": "Int4"}, {"ordinal": 9, "name": "hitgroup", "type_info": "Int4"}, {"ordinal": 10, "name": "tm", "type_info": "Timestamptz"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, false, true, false, false, false, false, false, false, false]}}, "a85548c041dd7eedcc27d0feb26e2e2e4362d688cb9bd6bf49e8ad1925881962": {"query": "\n            SELECT mc.*\n            FROM squadov.hearthstone_arena_drafts AS had\n            INNER JOIN squadov.match_collections AS mc\n                ON mc.uuid = had.collection_uuid\n            WHERE had.draft_deck_id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Int8"]}, "nullable": [false]}}, "a97e71ec6d029e063d7486ea8432cfbfcfb92fde6812cc4b5b4963039cef8010": {"query": "\n        UPDATE squadov.squad_invite_links\n        SET expire_time = $4,\n            max_uses = $5\n        WHERE id = $1\n            AND squad_id = $2\n            AND user_id = $3\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8", "Int8", "Timestamptz", "Int4"]}, "nullable": []}}, "aa38631a285bd25d29ff006bb02ed385c123347ac1248ee32e76b0802f76d245": {"query": "\n            SELECT ta.twitch_user_id, ta.twitch_name\n            FROM squadov.linked_twitch_accounts AS lta\n            INNER JOIN squadov.twitch_accounts AS ta\n                ON ta.twitch_user_id = lta.twitch_user_id\n            WHERE lta.user_id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "twitch_user_id", "type_info": "Varchar"}, {"ordinal": 1, "name": "twitch_name", "type_info": "Varchar"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false]}}, "ab31b9de96ddfd358b4c8f58fa6ad2318f1b63a9c7ba1895d4b52758328796e7": {"query": "\n            SELECT\n                vmul.match_id,\n                vm.game_mode,\n                vm.map_id,\n                vm.is_ranked,\n                vm.provisioning_flow_id,\n                vm.server_start_time_utc,\n                vm.game_length_millis,\n                vm.season_id\n            FROM squadov.valorant_matches AS vm\n            INNER JOIN squadov.valorant_match_uuid_link AS vmul\n                ON vmul.match_uuid = vm.match_uuid\n            WHERE vm.match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_id", "type_info": "Varchar"}, {"ordinal": 1, "name": "game_mode", "type_info": "Varchar"}, {"ordinal": 2, "name": "map_id", "type_info": "Varchar"}, {"ordinal": 3, "name": "is_ranked", "type_info": "Bool"}, {"ordinal": 4, "name": "provisioning_flow_id", "type_info": "Varchar"}, {"ordinal": 5, "name": "server_start_time_utc", "type_info": "Timestamptz"}, {"ordinal": 6, "name": "game_length_millis", "type_info": "Int4"}, {"ordinal": 7, "name": "season_id", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, true, true, true, true, true, false, true]}}, "ab377e808aa2b38d0fe8c9cfc3ac56dea1c7b4783ab9cff4424a7ee0b6c9b4e2": {"query": "\n            DELETE FROM squadov.clip_comments\n            WHERE id = $1 AND user_id = $2\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": []}}, "ab7191347a949a260a43c04b8ae9b07155d660f9780001439e66c346902e1f71": {"query": "\n            SELECT\n                vvt.video_uuid AS \"video_uuid!\",\n                vvt.user_id AS \"user_id!\",\n                vvt.tm AS \"tm!\",\n                vvt.tag AS \"tag!\",\n                vvt.tag_id AS \"tag_id!\"\n            FROM squadov.view_vod_tags AS vvt\n            WHERE video_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "video_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "user_id!", "type_info": "Int8"}, {"ordinal": 2, "name": "tm!", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "tag!", "type_info": "Varchar"}, {"ordinal": 4, "name": "tag_id!", "type_info": "Int8"}], "parameters": {"Left": ["Uuid"]}, "nullable": [true, true, true, true, true]}}, "ac212a509f126131bc5e5ab233db38457a2e8a63cc90b3f1692b6a58697d71ce": {"query": "\n            SELECT m.game AS \"game!\", COUNT(DISTINCT v.video_uuid) AS \"count!\"\n            FROM squadov.vods AS v\n            INNER JOIN squadov.users AS u\n                ON u.uuid = v.user_uuid\n            INNER JOIN squadov.matches AS m\n                ON m.uuid = v.match_uuid\n            WHERE v.is_clip = FALSE\n                AND v.end_time IS NOT NULL\n                AND u.id = $1\n                AND m.game IS NOT NULL\n            GROUP BY m.game\n            ", "describe": {"columns": [{"ordinal": 0, "name": "game!", "type_info": "Int4"}, {"ordinal": 1, "name": "count!", "type_info": "Int8"}], "parameters": {"Left": ["Int8"]}, "nullable": [true, null]}}, "ac8be2f3ec7acfbc62109fbae19ff785e59370ebd4e9ccf28a833e54fef8c260": {"query": "\n        SELECT can_instant_clip\n        FROM squadov.user_feature_flags\n        WHERE user_id = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "can_instant_clip", "type_info": "Bool"}], "parameters": {"Left": ["Int8"]}, "nullable": [false]}}, "acbd72cdf020f3eb39d7546addd2435473b9b3e8e3fe6d87bd2f382abd162d49": {"query": "\n            UPDATE squadov.users\n            SET speed_check_mbps = $2\n            WHERE id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Float8"]}, "nullable": []}}, "ad398b4c34b4cbff9b8a10151d3ae1fe681e9b5f2b103b1b3c361f768b591828": {"query": "\n            SELECT bucket, local_path\n            FROM squadov.blob_link_storage\n            WHERE uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "bucket", "type_info": "Varchar"}, {"ordinal": 1, "name": "local_path", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false]}}, "ad413cb27e53d5ec1ebdbce2d5ab5d5998e16db050b7161bec1ebfd771e1f4eb": {"query": "\n        UPDATE squadov.csgo_match_views\n        SET has_gsi = TRUE\n        WHERE view_uuid = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid"]}, "nullable": []}}, "adbed68a7a91de9211e9dd1ed38bc15317b57edb026e1ede76aa323b490c8c74": {"query": "\n        DELETE FROM squadov.communities\n        WHERE id = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8"]}, "nullable": []}}, "af1fe14fdc16722a9c8dacaa3f48e4b021b44fd25b4a64e686071c9f951e7e3b": {"query": "\n            SELECT COALESCE(friendly_name, id::VARCHAR) AS \"id!\"\n            FROM squadov.share_tokens\n            WHERE id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id!", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [null]}}, "af429799fbf8f39420fb62d1bb5e7c0754cd5e3db351daa1b1a46cb0639b7676": {"query": "\n                    SELECT EXISTS (\n                        SELECT 1\n                        FROM squadov.wow_match_view AS wmv\n                        WHERE wmv.user_id = $1 AND wmv.match_uuid = $2\n                    ) as \"exists!\"\n                    ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": [null]}}, "af7a603ffbf236d5b0db961493e505088fd474db855e832b4596b9aa62e7b20b": {"query": "\n            SELECT\n                inp.match_uuid AS \"match_uuid!\",\n                inp.user_uuid AS \"user_uuid!\",\n                cmv.map AS \"map!\",\n                cmv.mode AS \"mode!\",\n                cmv.start_time AS \"match_start_time!\",\n                COALESCE(EXTRACT(EPOCH FROM cmv.stop_time - cmv.start_time), 0)::INTEGER AS \"match_length_seconds!\",\n                cecp.kills AS \"kills!\",\n                cecp.deaths AS \"deaths!\",\n                cecp.assists AS \"assists!\",\n                cecp.mvps AS \"mvps!\",\n                COALESCE(winner.win, FALSE) AS \"winner!\",\n                cec.event_source = 1 AS \"has_demo!\",\n                (COUNT(crd.*) FILTER(WHERE crd.hitgroup = 1))::INTEGER AS \"headshots!\",\n                (COUNT(crd.*) FILTER(WHERE crd.hitgroup >= 2 OR crd.hitgroup <= 5))::INTEGER AS \"bodyshots!\",\n                (COUNT(crd.*) FILTER(WHERE crd.hitgroup > 5))::INTEGER AS \"legshots!\",\n                COALESCE(((SUM(crd.damage_health))::DOUBLE PRECISION / (winner.last_round+1)::DOUBLE PRECISION), 0.0) AS \"damage_per_round!\",\n                (rounds.win)::INTEGER AS \"friendly_rounds!\",\n                (rounds.lost)::INTEGER AS \"enemy_rounds!\",\n                sul.steam_id AS \"steam_id!\"\n            FROM UNNEST($1::UUID[], $2::UUID[]) AS inp(match_uuid, user_uuid)\n            INNER JOIN squadov.users AS u\n                ON u.uuid = inp.user_uuid\n            INNER JOIN squadov.csgo_match_views AS cmv\n                ON cmv.match_uuid = inp.match_uuid\n                    AND cmv.user_id = u.id\n            CROSS JOIN LATERAL (\n                SELECT cec.id, cec.event_source\n                FROM squadov.csgo_event_container AS cec\n                WHERE cec.view_uuid = cmv.view_uuid\n                ORDER BY cec.event_source DESC\n                LIMIT 1\n            ) AS cec\n            CROSS JOIN LATERAL (\n                SELECT DISTINCT ccp.steam_id\n                FROM squadov.csgo_match_views AS cmv\n                INNER JOIN squadov.csgo_event_container AS cec\n                    ON cec.view_uuid = cmv.view_uuid\n                INNER JOIN squadov.csgo_event_container_players AS ccp\n                    ON ccp.container_id = cec.id\n                INNER JOIN squadov.steam_user_links AS sul\n                    ON sul.steam_id = ccp.steam_id\n                WHERE cmv.match_uuid = inp.match_uuid\n                    AND sul.user_id = u.id\n            ) AS sul\n            INNER JOIN squadov.csgo_event_container_players AS cecp\n                ON cecp.container_id = cec.id AND cecp.steam_id = sul.steam_id\n            LEFT JOIN LATERAL (\n                SELECT ccr.winning_team = cps.team, ccr.round_num\n                FROM squadov.csgo_event_container_rounds AS ccr\n                INNER JOIN squadov.csgo_event_container_round_player_stats AS cps\n                    ON cps.container_id = ccr.container_id\n                        AND cps.round_num = ccr.round_num\n                        AND user_id = cecp.user_id\n                WHERE ccr.container_id = cec.id\n                ORDER BY ccr.round_num DESC\n                LIMIT 1\n            ) AS winner(win, last_round) ON TRUE\n            CROSS JOIN LATERAL (\n                SELECT\n                    COUNT(crr.round_num) FILTER(WHERE crr.winning_team = cps.team),\n                    COUNT(crr.round_num) FILTER(WHERE crr.winning_team != cps.team)\n                FROM squadov.csgo_event_container_rounds AS crr\n                INNER JOIN squadov.csgo_event_container_round_player_stats AS cps\n                    ON cps.container_id = crr.container_id\n                        AND cps.round_num = crr.round_num\n                WHERE crr.container_id = cec.id\n                    AND cps.user_id = cecp.user_id\n            ) AS rounds(win, lost)\n            LEFT JOIN squadov.csgo_event_container_round_damage AS crd\n                ON crd.container_id = cec.id\n                    AND crd.attacker = cecp.user_id\n            GROUP BY\n                inp.match_uuid,\n                inp.user_uuid,\n                cmv.map,\n                cmv.mode,\n                cmv.start_time,\n                \"match_length_seconds!\",\n                cecp.kills,\n                cecp.deaths,\n                cecp.assists,\n                cecp.mvps,\n                winner.win,\n                winner.last_round,\n                cec.event_source,\n                rounds.win,\n                rounds.lost,\n                sul.steam_id\n            ORDER BY cmv.start_time DESC\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "user_uuid!", "type_info": "Uuid"}, {"ordinal": 2, "name": "map!", "type_info": "Varchar"}, {"ordinal": 3, "name": "mode!", "type_info": "Varchar"}, {"ordinal": 4, "name": "match_start_time!", "type_info": "Timestamptz"}, {"ordinal": 5, "name": "match_length_seconds!", "type_info": "Int4"}, {"ordinal": 6, "name": "kills!", "type_info": "Int4"}, {"ordinal": 7, "name": "deaths!", "type_info": "Int4"}, {"ordinal": 8, "name": "assists!", "type_info": "Int4"}, {"ordinal": 9, "name": "mvps!", "type_info": "Int4"}, {"ordinal": 10, "name": "winner!", "type_info": "Bool"}, {"ordinal": 11, "name": "has_demo!", "type_info": "Bool"}, {"ordinal": 12, "name": "headshots!", "type_info": "Int4"}, {"ordinal": 13, "name": "bodyshots!", "type_info": "Int4"}, {"ordinal": 14, "name": "legshots!", "type_info": "Int4"}, {"ordinal": 15, "name": "damage_per_round!", "type_info": "Float8"}, {"ordinal": 16, "name": "friendly_rounds!", "type_info": "Int4"}, {"ordinal": 17, "name": "enemy_rounds!", "type_info": "Int4"}, {"ordinal": 18, "name": "steam_id!", "type_info": "Int8"}], "parameters": {"Left": ["UuidArray", "UuidArray"]}, "nullable": [null, null, false, false, false, null, false, false, false, false, null, null, null, null, null, null, null, null, false]}}, "af937cd0d638b6b98d9150b8de61af6f97b98e941c98a044def928e016006454": {"query": "\n            INSERT INTO squadov.wow_instance_view (\n                view_id,\n                instance_id,\n                instance_name,\n                instance_type\n            )\n            VALUES (\n                $1,\n                $2,\n                $3,\n                $4\n            )\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int4", "Varchar", "Int4"]}, "nullable": []}}, "b0dc2640493bc4eac00dd00e0561573ea558c8ff60e4672fad0a65e3a15085e2": {"query": "\n                SELECT md5\n                FROM squadov.vods\n                WHERE video_uuid = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "md5", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [true]}}, "b391df46877128e6fd61625332debf5f3cee3f399bf2283b021ad8f11f91fc05": {"query": "\n            INSERT INTO squadov.squad_sharing_games_filter (\n                squad_id,\n                disabled_game\n            )\n            SELECT $1, t.id\n            FROM UNNEST($2::INTEGER[]) AS t(id)\n            ON CONFLICT DO NOTHING\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int4Array"]}, "nullable": []}}, "b3a8c61bc0ab6639df641374ecdb91163cb2100ed869b2b2ec494b05199b347e": {"query": "\n            SELECT u.uuid, vmp.puuid\n            FROM squadov.valorant_match_players AS vmp\n            INNER JOIN squadov.riot_account_links AS ral\n                ON ral.puuid = vmp.puuid\n            INNER JOIN squadov.users AS u\n                ON u.id = ral.user_id\n            WHERE vmp.match_uuid = $1 AND u.uuid = any($2)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "puuid", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid", "UuidArray"]}, "nullable": [false, false]}}, "b3ab356792b7479df479991d63691d92e93cfae476b81fc4f29ab69628764e94": {"query": "\n        DELETE FROM squadov.community_membership\n        WHERE user_id = $1\n            AND community_id = $2\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": []}}, "b4389dc123920a68c36d1ceb490bcf8581a0abd98ae10dcc66b3af44e5c84f6e": {"query": "\n            SELECT u.uuid, tmp.puuid\n            FROM squadov.tft_match_participants AS tmp\n            INNER JOIN squadov.riot_accounts AS ra\n                ON ra.puuid = tmp.puuid\n            INNER JOIN squadov.riot_account_links AS ral\n                ON ral.puuid = ra.puuid\n            INNER JOIN squadov.users AS u\n                ON u.id = ral.user_id\n            WHERE tmp.match_uuid = $1\n                AND u.uuid = ANY($2)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "puuid", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid", "UuidArray"]}, "nullable": [false, false]}}, "b4804cdffb6c57dca815cee1ca4e59445600a134c5223485f31f5bee57084494": {"query": "\n            SELECT *\n            FROM squadov.vod_thumbnails\n            WHERE video_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "video_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "bucket", "type_info": "Varchar"}, {"ordinal": 2, "name": "filepath", "type_info": "Varchar"}, {"ordinal": 3, "name": "width", "type_info": "Int4"}, {"ordinal": 4, "name": "height", "type_info": "Int4"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false, false]}}, "b62bc70841c778543fd56dc88eef8cc66887f22c719ad1f30709b00e4903632b": {"query": "\n            INSERT INTO squadov.new_wow_arenas (\n                match_uuid,\n                tr,\n                combatants_key,\n                instance_id,\n                arena_type\n            )\n            SELECT\n                $1,\n                tstzrange(wmv.start_tm, $4, '[]'),\n                $2,\n                wav.instance_id,\n                wav.arena_type\n            FROM squadov.wow_match_view AS wmv\n            INNER JOIN squadov.wow_arena_view AS wav\n                ON wav.view_id = wmv.id\n            WHERE wmv.id = $3\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar", "Uuid", "Timestamptz"]}, "nullable": []}}, "b63c3cc689494d4edc4f1c3ad1fe0bdcb4531f3b2f8f4cc2f7bb96c11462a762": {"query": "\n        DELETE FROM squadov.user_profile_vods\n        WHERE video_uuid = $1 AND user_id = $2\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "b6e74ed0bba124593ed7a705c9e7fb7e99a6a1b8bd902b7f34bb1421a91012ce": {"query": "\n        UPDATE squadov.riot_account_links\n        SET rso_access_token = $3,\n            rso_refresh_token = $4,\n            rso_expiration = $5\n        WHERE puuid = $1 AND user_id = $2\n        ", "describe": {"columns": [], "parameters": {"Left": ["Text", "Int8", "Varchar", "Varchar", "Timestamptz"]}, "nullable": []}}, "b733810830471a39793237fb79dd86acc1ce5a61ec1917904b5db57010c74031": {"query": "\n        INSERT INTO squadov.linked_twitch_accounts (\n            user_id,\n            twitch_user_id,\n            linked_tm\n        ) VALUES (\n            $1,\n            $2,\n            NOW()\n        ) ON CONFLICT DO NOTHING\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Varchar"]}, "nullable": []}}, "b780c09dd367b7083c88615ac13ad0daed01e49d91e5f2e3f2a7d0382419f813": {"query": "\n            INSERT INTO squadov.user_referral_code_usage (\n                email,\n                code_id,\n                tm\n            )\n            SELECT $1, id, NOW()\n            FROM squadov.referral_codes\n            WHERE code = $2\n            ", "describe": {"columns": [], "parameters": {"Left": ["Varchar", "Text"]}, "nullable": []}}, "b787010a9881aa0f8fab806325b79ace65dfb51f78b9c4ba06337502c14633cb": {"query": "\n        UPDATE squadov.wow_match_view_character_presence AS wcp\n        SET class_id = sub.class_id\n        FROM (\n            SELECT t.guid, wsc.class_id, wmv.id AS \"view_id\"\n            FROM UNNEST($1::VARCHAR[], $2::BIGINT[], $3::BIGINT[]) AS t(guid, spell_id, view_id)\n            INNER JOIN squadov.wow_match_view AS wmv\n                ON wmv.alt_id = t.view_id\n            INNER JOIN squadov.wow_spell_to_class AS wsc\n                ON wsc.spell_id = t.spell_id\n                    AND wmv.build_version LIKE wsc.build_id  || '.%'\n        ) AS sub\n        WHERE wcp.view_id = sub.view_id\n            AND unit_guid = sub.guid\n        ", "describe": {"columns": [], "parameters": {"Left": ["VarcharArray", "Int8Array", "Int8Array"]}, "nullable": []}}, "b7dc5c515f2c5b74c68d533c7e7bf21f44aa699e057af3b305dc9c9af8f41f2c": {"query": "\n        UPDATE squadov.vod_clips\n        SET published = TRUE,\n            title = COALESCE($2, title),\n            description = COALESCE($3, description)\n        WHERE clip_uuid = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar", "Varchar"]}, "nullable": []}}, "b93f8a2bf880afbea624c3a84fea4576277c1b9e9a27ae60475341780a18d1ca": {"query": "\n        UPDATE squadov.communities\n        SET name = $2,\n            security_level = $3,\n            requires_subscription = $4,\n            allow_twitch_sub = $5\n        WHERE id = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Varchar", "Int4", "Bool", "Bool"]}, "nullable": []}}, "b95e530a4480386845a87c1f079b8416ad2a828294349cb2147ff7740dfb7745": {"query": "\n        INSERT INTO squadov.valorant_matches (\n            match_uuid,\n            map_id,\n            game_length_millis,\n            server_start_time_utc,\n            provisioning_flow_id,\n            game_mode,\n            is_ranked,\n            season_id\n        ) VALUES (\n            $1,\n            $2,\n            $3,\n            $4,\n            $5,\n            $6,\n            $7,\n            $8\n        )\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar", "Int4", "Timestamptz", "Varchar", "Varchar", "Bool", "Varchar"]}, "nullable": []}}, "ba00ee2c14c4172578f28b1d2ed63e8fa4974ea9ff785aed5c0b4c82c58a6609": {"query": "\n            INSERT INTO squadov.squad_user_share_blacklist (\n                squad_id,\n                user_id\n            ) VALUES (\n                $1,\n                $2\n            ) ON CONFLICT DO NOTHING\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": []}}, "ba9e24b0357e749e33842d75917917743470e68df124b6aa0d15f918e5808356": {"query": "\n                INSERT INTO squadov.hearthstone_decks (\n                    user_id,\n                    deck_id,\n                    deck_name,\n                    hero_card,\n                    hero_premium,\n                    deck_type,\n                    create_date,\n                    is_wild\n                )\n                VALUES (\n                    $1,\n                    $2,\n                    $3,\n                    $4,\n                    $5,\n                    $6,\n                    $7,\n                    $8\n                )\n                ON CONFLICT (deck_id) DO UPDATE SET\n                    user_id = EXCLUDED.user_id,\n                    deck_name = EXCLUDED.deck_name,\n                    hero_card = EXCLUDED.hero_card,\n                    hero_premium = EXCLUDED.hero_premium,\n                    deck_type = EXCLUDED.deck_type,\n                    create_date = EXCLUDED.create_date,\n                    is_wild = EXCLUDED.is_wild\n                ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8", "Varchar", "Varchar", "Int4", "Int4", "Timestamptz", "Bool"]}, "nullable": []}}, "bac06338acf984c8a9729587bd8c997300d269ef4f79e40ceaacffa974261c2d": {"query": "\n        INSERT INTO squadov.staged_clips (\n            video_uuid,\n            user_id,\n            start_offset_ms,\n            end_offset_ms,\n            create_time\n        ) VALUES (\n            $1,\n            $2,\n            $3,\n            $4,\n            NOW()\n        )\n        RETURNING *\n        ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "video_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "start_offset_ms", "type_info": "Int8"}, {"ordinal": 4, "name": "end_offset_ms", "type_info": "Int8"}, {"ordinal": 5, "name": "create_time", "type_info": "Timestamptz"}, {"ordinal": 6, "name": "execute_time", "type_info": "Timestamptz"}, {"ordinal": 7, "name": "clip_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid", "Int8", "Int8", "Int8"]}, "nullable": [false, false, false, false, false, false, true, true]}}, "bb822d832a0ee725d06a603d7128ca360168bb46318f89c152e196194c38b765": {"query": "\n        INSERT INTO squadov.communities (\n            name,\n            create_tm,\n            creator_user_id,\n            security_level,\n            requires_subscription,\n            allow_twitch_sub,\n            slug\n        )\n        VALUES (\n            $1,\n            NOW(),\n            $2,\n            $3,\n            $4,\n            $5,\n            $6\n        )\n        RETURNING *\n        ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "name", "type_info": "Varchar"}, {"ordinal": 2, "name": "create_tm", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "creator_user_id", "type_info": "Int8"}, {"ordinal": 4, "name": "security_level", "type_info": "Int4"}, {"ordinal": 5, "name": "requires_subscription", "type_info": "Bool"}, {"ordinal": 6, "name": "allow_twitch_sub", "type_info": "Bool"}, {"ordinal": 7, "name": "slug", "type_info": "Varchar"}], "parameters": {"Left": ["Varchar", "Int8", "Int4", "Bool", "Bool", "Varchar"]}, "nullable": [false, false, false, false, false, false, false, false]}}, "bbb2ad60dd6d4d1578a685e089079f73d43f896f3f55cf005261099c7ec44cf0": {"query": "\n            INSERT INTO squadov.user_vod_tags (\n                video_uuid,\n                tag_id,\n                user_id,\n                tm\n            )\n            SELECT $1, t.tag_id, $3, NOW()\n            FROM UNNEST($2::VARCHAR[]) AS inp(tag)\n            INNER JOIN squadov.tags AS t\n                ON t.tag = LOWER(inp.tag)\n            ON CONFLICT DO NOTHING\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "VarcharArray", "Int8"]}, "nullable": []}}, "bbffa85239ea56f377ea9a0285ae704f8224997063a91c58d0f507079e1be26f": {"query": "\n            SELECT DISTINCT dest_squad_id\n            FROM squadov.share_match_vod_connections\n            WHERE video_uuid = $1\n            AND dest_squad_id IS NOT NULL\n            ", "describe": {"columns": [{"ordinal": 0, "name": "dest_squad_id", "type_info": "Int8"}], "parameters": {"Left": ["Uuid"]}, "nullable": [true]}}, "bc08aa39ff42ce407cbc79efdf751e79b2d27a6fd546cae1fc9df36f1ae8441a": {"query": "\n        INSERT INTO squadov.match_to_match_collection (\n            collection_uuid,\n            match_uuid,\n            match_order\n        )\n        SELECT $1, $2, COALESCE(\n            (SELECT MAX(match_order)\n            FROM squadov.match_to_match_collection\n            WHERE collection_uuid = $1\n            GROUP BY collection_uuid)\n        , 0) + 1\n        ON CONFLICT DO NOTHING\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Uuid"]}, "nullable": []}}, "bdb0bd9ceb7b864fa61b54465ee9126865b50455a61a1e98954b6adf68d53ad2": {"query": "\n        INSERT INTO squadov.twitch_accounts (\n            twitch_user_id,\n            twitch_name,\n            access_token,\n            refresh_token,\n            access_expiration\n        ) VALUES (\n            $1,\n            $2,\n            $3,\n            $4,\n            $5\n        ) ON CONFLICT (twitch_user_id) DO UPDATE SET\n            twitch_name = EXCLUDED.twitch_name,\n            access_token = EXCLUDED.access_token,\n            refresh_token = EXCLUDED.refresh_token\n        ", "describe": {"columns": [], "parameters": {"Left": ["Varchar", "Varchar", "Varchar", "Varchar", "Timestamptz"]}, "nullable": []}}, "bdb68f8a05eb5b1cbc76b3f63ae29ee79b2b198752f8057b5ef7ca234f30c1c3": {"query": "\n            UPDATE squadov.user_autoshare_common_settings\n            SET share_on_join = $2\n            WHERE user_id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Bool"]}, "nullable": []}}, "bdd5b274551646921116bbdd07fc3dc2babb83118ba0b6d05449f96a2f925f2f": {"query": "\n            INSERT INTO squadov.clip_reacts (\n                clip_uuid,\n                user_id,\n                tm\n            )\n            VALUES (\n                $1,\n                $2,\n                NOW()\n            )\n            ON CONFLICT DO NOTHING\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "bddb5778bd56e3b2b1499db2d81abb5f75bbb2a30b9c21ae353b9c481464b26d": {"query": "\n            UPDATE squadov.new_wow_instances\n            SET players = players | $2::INTEGER[]\n            WHERE match_uuid = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int4Array"]}, "nullable": []}}, "be32ae6761ca0831822c41fb806511d36c4a08cca30de9a00e6c318f8450bc24": {"query": "\n        SELECT DISTINCT wct.talent_id, wct.is_pvp\n        FROM squadov.wow_match_view_character_presence AS wcp\n        INNER JOIN squadov.wow_match_view_combatant_talents AS wct\n            ON wct.character_id = wcp.character_id\n        WHERE wcp.view_id = $1\n            AND wcp.unit_guid = $2\n        ", "describe": {"columns": [{"ordinal": 0, "name": "talent_id", "type_info": "Int4"}, {"ordinal": 1, "name": "is_pvp", "type_info": "Bool"}], "parameters": {"Left": ["Uuid", "Text"]}, "nullable": [false, false]}}, "bea526b210cd45a45437e1f8d870cb392b6c29a7c42ef4b57d37ceca0d2c04cb": {"query": "\n            INSERT INTO squadov.blob_link_storage (\n                uuid,\n                bucket,\n                local_path\n            )\n            VALUES (\n                $1,\n                $2,\n                $3\n            )\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar", "Varchar"]}, "nullable": []}}, "c031d6275f4e71bd635ed4dfcd760f8c20a6b280878806c2c51adacefca57bf9": {"query": "\n                    SELECT EXISTS (\n                        SELECT 1\n                        FROM squadov.csgo_match_views AS cmv\n                        WHERE cmv.user_id = $1 AND cmv.match_uuid = $2\n                    ) as \"exists!\"\n                    ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": [null]}}, "c06c6d68de39cd4dd4a2a54e37d77b11b29106e45a0c4db6fc1af5bc021401a6": {"query": "\n        UPDATE squadov.riot_accounts\n        SET last_backfill_tft_time = NOW()\n        WHERE puuid = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Text"]}, "nullable": []}}, "c11670f60e03348fb8a877287fab6bd0d375164fbdf6a3090fb9cecc69fba39a": {"query": "\n            SELECT\n                sq.id AS \"id!\",\n                sq.squad_name AS \"squad_name!\",\n                sq.creation_time AS \"creation_time!\",\n                sq.member_count AS \"member_count!\",\n                sq.pending_invite_count AS \"pending_invite_count!\",\n                sq.is_public AS \"is_public!\",\n                sq.is_discoverable AS \"is_discoverable!\",\n                sra.squad_role AS \"squad_role: SquadRole\",\n                us.username AS \"username\",\n                us.id AS \"user_id\",\n                sub.squad_id IS NULL AS \"can_share!\"\n            FROM squadov.squad_overview AS sq\n            INNER JOIN squadov.squad_role_assignments AS sra\n                ON sra.squad_id = sq.id\n            INNER JOIN squadov.users AS us\n                ON us.id = sra.user_id\n            LEFT JOIN squadov.squad_user_share_blacklist AS sub\n                ON sub.squad_id = sq.id\n                    AND sub.user_id = us.id\n            WHERE sra.squad_id = $1\n            ORDER BY sq.squad_name\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id!", "type_info": "Int8"}, {"ordinal": 1, "name": "squad_name!", "type_info": "Varchar"}, {"ordinal": 2, "name": "creation_time!", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "member_count!", "type_info": "Int8"}, {"ordinal": 4, "name": "pending_invite_count!", "type_info": "Int8"}, {"ordinal": 5, "name": "is_public!", "type_info": "Bool"}, {"ordinal": 6, "name": "is_discoverable!", "type_info": "Bool"}, {"ordinal": 7, "name": "squad_role: SquadRole", "type_info": {"Custom": {"name": "squad_role", "kind": {"Enum": ["Owner", "Member"]}}}}, {"ordinal": 8, "name": "username", "type_info": "Varchar"}, {"ordinal": 9, "name": "user_id", "type_info": "Int8"}, {"ordinal": 10, "name": "can_share!", "type_info": "Bool"}], "parameters": {"Left": ["Int8"]}, "nullable": [true, true, true, true, true, true, true, false, false, false, null]}}, "c1cdc9be97317e3b7f515a086ac0bee9e32c5d90670217224a9167bb9c72600e": {"query": "\n        SELECT\n            tmpu.match_uuid AS \"match_uuid!\",\n            tmpu.items AS \"items!\",\n            tmpu.character_id,\n            tmpu.chosen,\n            tmpu.name AS \"name!\",\n            tmpu.rarity AS \"rarity!\",\n            tmpu.tier AS \"tier!\",\n            u.uuid AS \"user_uuid!\"\n        FROM UNNEST($1::UUID[], $2::UUID[]) AS inp(match_uuid, user_uuid)\n        INNER JOIN squadov.users AS u\n            ON u.uuid = inp.user_uuid\n        INNER JOIN squadov.riot_account_links AS ral\n            ON ral.user_id = u.id\n        INNER JOIN squadov.tft_match_participant_units AS tmpu\n            ON tmpu.match_uuid = inp.match_uuid\n                AND tmpu.puuid = ral.puuid\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "items!", "type_info": "Int4Array"}, {"ordinal": 2, "name": "character_id", "type_info": "Varchar"}, {"ordinal": 3, "name": "chosen", "type_info": "Varchar"}, {"ordinal": 4, "name": "name!", "type_info": "Varchar"}, {"ordinal": 5, "name": "rarity!", "type_info": "Int4"}, {"ordinal": 6, "name": "tier!", "type_info": "Int4"}, {"ordinal": 7, "name": "user_uuid!", "type_info": "Uuid"}], "parameters": {"Left": ["UuidArray", "UuidArray"]}, "nullable": [true, true, true, true, true, true, true, true]}}, "c23dd6aac477af746cefb37b13c68e6539c6b2a3f5726c736ba60e1193c9a4e2": {"query": "\n        UPDATE squadov.csgo_match_views\n        SET has_demo = TRUE\n        WHERE view_uuid = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid"]}, "nullable": []}}, "c3a4101f07b9944ffb0f750924c5ec9c18c1c67db0820cce314c4b44e100a5d2": {"query": "\n        INSERT INTO squadov.user_autosharing_settings (\n            source_user_id,\n            dest_user_id,\n            dest_squad_id,\n            can_share,\n            can_clip\n        ) VALUES (\n            $1,\n            $2,\n            $3,\n            $4,\n            $5\n        )\n        RETURNING *\n        ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "source_user_id", "type_info": "Int8"}, {"ordinal": 2, "name": "dest_user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "dest_squad_id", "type_info": "Int8"}, {"ordinal": 4, "name": "can_share", "type_info": "Bool"}, {"ordinal": 5, "name": "can_clip", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Int8", "Int8", "Bool", "Bool"]}, "nullable": [false, false, true, true, false, false]}}, "c42644f28903487b40a20762fe33769dd26ac7e07c124b4b94ac4aa896a369c9": {"query": "\n            INSERT INTO squadov.valorant_player_match_metadata (\n                match_uuid,\n                puuid,\n                start_time,\n                end_time\n            )\n            VALUES (\n                $1,\n                $2,\n                $3,\n                $4\n            )\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar", "Timestamptz", "Timestamptz"]}, "nullable": []}}, "c4639f5d27fd3438c1e655a5e6199f493fe8621943b9dd93df77ce9433707cbb": {"query": "\n            INSERT INTO squadov.hearthstone_duels (\n                collection_uuid,\n                user_id,\n                deck_id,\n                creation_time\n            )\n            SELECT $1, $2, hdv.deck_id, $4\n            FROM squadov.hearthstone_deck_versions AS hdv\n            INNER JOIN squadov.hearthstone_match_user_deck AS hmud\n                ON hmud.deck_version_id = hdv.version_id\n            WHERE hmud.user_id = $2 AND hmud.match_uuid = $3\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8", "Uuid", "Timestamptz"]}, "nullable": []}}, "c50e40f04e3419dd1b021dcdb664505fc10f839abac1fab98afcf2e575dbd187": {"query": "\n            SELECT\n                round_num,\n                instigator_puuid,\n                receiver_puuid,\n                damage,\n                legshots,\n                bodyshots,\n                headshots\n            FROM squadov.valorant_match_damage\n            WHERE match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "round_num", "type_info": "Int4"}, {"ordinal": 1, "name": "instigator_puuid", "type_info": "Varchar"}, {"ordinal": 2, "name": "receiver_puuid", "type_info": "Varchar"}, {"ordinal": 3, "name": "damage", "type_info": "Int4"}, {"ordinal": 4, "name": "legshots", "type_info": "Int4"}, {"ordinal": 5, "name": "bodyshots", "type_info": "Int4"}, {"ordinal": 6, "name": "headshots", "type_info": "Int4"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false, false, false, false]}}, "c584fe491613606903e18c011ba8a381516f3f23428aa18e384ee4ba4a246a97": {"query": "\n                WITH relevant_matches(match_uuid, duration) AS (\n                    SELECT\n                        v.match_uuid,\n                        (EXTRACT(EPOCH FROM v.end_time) - EXTRACT(EPOCH FROM v.start_time)) * 1000.0\n                    FROM squadov.vods AS v\n                    INNER JOIN squadov.users AS u\n                        ON u.uuid = v.user_uuid\n                    WHERE u.id = $1\n                        AND start_time BETWEEN $2 AND $3\n                        AND match_uuid IS NOT NULL\n                        AND user_uuid IS NOT NULL\n                        AND start_time IS NOT NULL\n                        AND end_time IS NOT NULL\n                )\n                SELECT \n                    (\n                        SELECT COALESCE(SUM(rm.duration)::BIGINT,0)\n                        FROM relevant_matches AS rm\n                        INNER JOIN squadov.aimlab_tasks AS at\n                            ON at.match_uuid = rm.match_uuid\n                    ) AS \"aimlab_ms!\",\n                    (\n                        SELECT COALESCE(SUM(rm.duration)::BIGINT,0)\n                        FROM relevant_matches AS rm\n                        INNER JOIN squadov.csgo_matches AS cm\n                            ON cm.match_uuid = rm.match_uuid\n                    ) AS \"csgo_ms!\",\n                    (\n                        SELECT COALESCE(SUM(rm.duration)::BIGINT,0)\n                        FROM relevant_matches AS rm\n                        INNER JOIN squadov.hearthstone_matches AS hm\n                            ON hm.match_uuid = rm.match_uuid\n                    ) AS \"hearthstone_ms!\",\n                    (\n                        SELECT COALESCE(SUM(rm.duration)::BIGINT,0)\n                        FROM relevant_matches AS rm\n                        INNER JOIN squadov.lol_matches AS lm\n                            ON lm.match_uuid = rm.match_uuid\n                    ) AS \"lol_ms!\",\n                    (\n                        SELECT COALESCE(SUM(rm.duration)::BIGINT,0)\n                        FROM relevant_matches AS rm\n                        INNER JOIN squadov.tft_matches AS tm\n                            ON tm.match_uuid = rm.match_uuid\n                    ) AS \"tft_ms!\",\n                    (\n                        SELECT COALESCE(SUM(rm.duration)::BIGINT,0)\n                        FROM relevant_matches AS rm\n                        INNER JOIN squadov.valorant_matches AS vm\n                            ON vm.match_uuid = rm.match_uuid\n                    ) AS \"valorant_ms!\",\n                    (\n                        SELECT (\n                            SELECT COALESCE(SUM(rm.duration)::BIGINT,0)\n                            FROM relevant_matches AS rm\n                            INNER JOIN squadov.new_wow_challenges AS wc\n                                ON wc.match_uuid = rm.match_uuid\n                        ) + (\n                            SELECT COALESCE(SUM(rm.duration)::BIGINT,0)\n                            FROM relevant_matches AS rm\n                            INNER JOIN squadov.new_wow_encounters AS we\n                                ON we.match_uuid = rm.match_uuid\n                        ) + (\n                            SELECT COALESCE(SUM(rm.duration)::BIGINT,0)\n                            FROM relevant_matches AS rm\n                            INNER JOIN squadov.new_wow_arenas AS wa\n                                ON wa.match_uuid = rm.match_uuid\n                        )\n                    ) AS \"wow_ms!\"\n                ", "describe": {"columns": [{"ordinal": 0, "name": "aimlab_ms!", "type_info": "Int8"}, {"ordinal": 1, "name": "csgo_ms!", "type_info": "Int8"}, {"ordinal": 2, "name": "hearthstone_ms!", "type_info": "Int8"}, {"ordinal": 3, "name": "lol_ms!", "type_info": "Int8"}, {"ordinal": 4, "name": "tft_ms!", "type_info": "Int8"}, {"ordinal": 5, "name": "valorant_ms!", "type_info": "Int8"}, {"ordinal": 6, "name": "wow_ms!", "type_info": "Int8"}], "parameters": {"Left": ["Int8", "Timestamptz", "Timestamptz"]}, "nullable": [null, null, null, null, null, null, null]}}, "c686c4257f425e1dd96bd6a06b0d4a6314f8241574dc045f254930cde3db9c8e": {"query": "\n            SELECT inp.match_uuid AS \"match_uuid!\", inp.uuid AS \"player_uuid!\"\n            FROM (\n                SELECT DISTINCT cmv.start_time, cmv.match_uuid, u.uuid\n                FROM squadov.csgo_match_views AS cmv\n                INNER JOIN squadov.users AS u\n                    ON u.id = cmv.user_id\n                LEFT JOIN squadov.vods AS v\n                    ON v.match_uuid = cmv.match_uuid\n                        AND v.user_uuid = u.uuid\n                        AND v.is_clip = FALSE\n                LEFT JOIN squadov.view_share_connections_access_users AS sau\n                    ON sau.match_uuid = cmv.match_uuid\n                        AND sau.user_id = $8\n                WHERE cmv.user_id = $1\n                    AND cmv.match_uuid IS NOT NULL\n                    AND (CARDINALITY($4::VARCHAR[]) = 0 OR cmv.mode = ANY($4))\n                    AND (CARDINALITY($5::VARCHAR[]) = 0 OR cmv.map = ANY($5))\n                    AND (NOT $6::BOOLEAN OR v.video_uuid IS NOT NULL)\n                    AND (NOT $7::BOOLEAN OR cmv.has_demo)\n                    AND ($1 = $8 OR sau.match_uuid IS NOT NULL)\n                ORDER BY cmv.start_time DESC, cmv.match_uuid, u.uuid\n                LIMIT $2 OFFSET $3\n            ) as inp\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "player_uuid!", "type_info": "Uuid"}], "parameters": {"Left": ["Int8", "Int8", "Int8", "VarcharArray", "VarcharArray", "Bool", "Bool", "Int8"]}, "nullable": [true, false]}}, "c76de302cf5319d6e84bd18589036859ff9662a924901678f614d5c28b69706f": {"query": "\n            UPDATE squadov.referral_codes\n            SET code = LOWER(sub.username)\n            FROM (\n                SELECT username\n                FROM squadov.users\n                WHERE id = $1\n            ) AS sub\n            WHERE user_id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8"]}, "nullable": []}}, "c7af6b0c02cbd0dc97168a209fb5629dd7294bc58f188eb7e2d72a35bc48b5df": {"query": "\n            SELECT sil.*, COUNT(slu.link_id)::INTEGER AS \"use_count!\"\n            FROM squadov.squad_invite_links AS sil\n            LEFT JOIN squadov.squad_invite_link_usage AS slu\n                ON slu.link_id = sil.id\n            WHERE sil.id = $1\n            GROUP BY sil.id, sil.squad_id, sil.user_id, sil.create_time, sil.expire_time, sil.max_uses\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "squad_id", "type_info": "Int8"}, {"ordinal": 2, "name": "user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "create_time", "type_info": "Timestamptz"}, {"ordinal": 4, "name": "expire_time", "type_info": "Timestamptz"}, {"ordinal": 5, "name": "max_uses", "type_info": "Int4"}, {"ordinal": 6, "name": "use_count!", "type_info": "Int4"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, false, false, true, true, null]}}, "c7ebb291e3fa4e60e9994a04f1cce4340c574b12f294ae152b9ef8c267969e72": {"query": "\n        INSERT INTO squadov.user_discord_link (\n            user_id,\n            discord_snowflake,\n            access_token,\n            refresh_token,\n            token_expires\n        ) VALUES (\n            $1,\n            $2,\n            $3,\n            $4,\n            $5\n        )\n        ON CONFLICT (user_id, discord_snowflake) DO UPDATE SET\n            access_token = EXCLUDED.access_token,\n            refresh_token = EXCLUDED.refresh_token,\n            token_expires = EXCLUDED.token_expires\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8", "Varchar", "Varchar", "Timestamptz"]}, "nullable": []}}, "c8d0de8586715f52082ecfbc5145de2188bf2e3b02c15141686dd7ea475b1c9f": {"query": "\n            INSERT INTO squadov.user_favorite_vods (\n                video_uuid,\n                user_id,\n                reason\n            )\n            VALUES (\n                $1,\n                $2,\n                $3\n            )\n            ON CONFLICT DO NOTHING\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8", "Varchar"]}, "nullable": []}}, "ca0aa1a1ad8e13568f1b3e74b8f21d5c9dd03675412fbe0f7221735e7f5b0ff0": {"query": "\n            SELECT *\n            FROM squadov.community_membership\n            WHERE community_id = $1\n                AND user_id = $2\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "community_id", "type_info": "Int8"}, {"ordinal": 2, "name": "user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "sub_id", "type_info": "Int8"}, {"ordinal": 4, "name": "join_tm", "type_info": "Timestamptz"}], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": [false, false, false, true, false]}}, "cad3615ac6bf373a8c00c1ca4b0f87a1012b5fb6f1f2f379dd3d8d507624452b": {"query": "\n        INSERT INTO squadov.csgo_matches (\n            match_uuid,\n            connected_server,\n            tr\n        ) VALUES (\n            $1,\n            $2,\n            tstzrange($3, $4, '[]') \n        )\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar", "Timestamptz", "Timestamptz"]}, "nullable": []}}, "cc1cae08dc17e29d7560dd87aa566e35646d59723132556081654ac78c756cac": {"query": "\n        SELECT cer.round_num, cer.tm_round_start, cer.tm_round_play, cer.tm_round_end\n        FROM squadov.csgo_event_container_rounds AS cer\n        INNER JOIN squadov.csgo_event_container AS cec\n            ON cec.id = cer.container_id\n        WHERE cec.view_uuid = $1\n            AND cec.event_source = 0\n        ", "describe": {"columns": [{"ordinal": 0, "name": "round_num", "type_info": "Int4"}, {"ordinal": 1, "name": "tm_round_start", "type_info": "Timestamptz"}, {"ordinal": 2, "name": "tm_round_play", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "tm_round_end", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, true, true, true]}}, "cc24f70b1638577c51156735a8c890f7ab0f31a8cbad17cffd378500a4faf90a": {"query": "\n            INSERT INTO squadov.wow_encounter_view (\n                view_id,\n                encounter_id,\n                encounter_name,\n                difficulty,\n                num_players,\n                instance_id\n            )\n            VALUES (\n                $1,\n                $2,\n                $3,\n                $4,\n                $5,\n                $6\n            )\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int4", "Varchar", "Int4", "Int4", "Int4"]}, "nullable": []}}, "ccfc35e88290900f0f333519363176f4a267028ef568163e3f2d7617dd2e5429": {"query": "\n        UPDATE squadov.vods\n        SET match_uuid = $1,\n            user_uuid = $2,\n            start_time = $3,\n            end_time = $4,\n            is_local = $5\n        WHERE video_uuid = $6\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Uuid", "Timestamptz", "Timestamptz", "Bool", "Uuid"]}, "nullable": []}}, "cd44a39b93faa9acc827c3d85aa59149ddf9a85253d98721ff1968e71307ed6c": {"query": "\n        SELECT lmb.*\n        FROM squadov.lol_match_bans AS lmb\n        WHERE lmb.match_uuid = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "team_id", "type_info": "Int4"}, {"ordinal": 2, "name": "champion_id", "type_info": "Int4"}, {"ordinal": 3, "name": "pick_turn", "type_info": "Int4"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false]}}, "cd8b4612f932e3fd5429d1a05c02db216afaec8da992a3402d5caba5c3c25984": {"query": "\n                SELECT reason\n                FROM squadov.user_favorite_matches\n                WHERE match_uuid = $1\n                    AND user_id = $2\n\n                ", "describe": {"columns": [{"ordinal": 0, "name": "reason", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false]}}, "cdccd7658877c0a845022093fa32aed4cd107f1ae91fb1f8e263f3fa52ae1e2c": {"query": "\n            SELECT u.id, u.email AS \"email!\"\n            FROM UNNEST($2::VARCHAR[]) AS a(username)\n            INNER JOIN squadov.users AS u\n                ON LOWER(u.username) = LOWER(a.username)\n            LEFT JOIN squadov.squad_role_assignments AS sra\n                ON sra.user_id = u.id\n            WHERE sra.squad_id != $1 OR sra.squad_id IS NULL\n            UNION\n            SELECT u.id, b.email AS \"email!\"\n            FROM UNNEST($3::VARCHAR[]) AS b(email)\n            LEFT JOIN squadov.users AS u\n                ON u.email = b.email\n            LEFT JOIN squadov.squad_role_assignments AS sra\n                ON sra.user_id = u.id\n            WHERE sra.squad_id != $1 OR sra.squad_id IS NULL\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "email!", "type_info": "Varchar"}], "parameters": {"Left": ["Int8", "VarcharArray", "VarcharArray"]}, "nullable": [null, null]}}, "ce56bcced06db1106f0418bac4742eb05abe92c683147ab889af1dfd66e0c785": {"query": "\n            SELECT \n                wve.tm - $2::INTEGER * INTERVAL '1 second' AS \"start!\",\n                wve.tm AS \"end!\",\n                wve.dest_char AS \"dest_char?\"\n            FROM squadov.wow_match_view_death_events AS wde\n            INNER JOIN squadov.wow_match_view_events AS wve\n                    ON wve.event_id = wde.event_id\n            WHERE wde.event_id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "start!", "type_info": "Timestamptz"}, {"ordinal": 1, "name": "end!", "type_info": "Timestamptz"}, {"ordinal": 2, "name": "dest_char?", "type_info": "Int8"}], "parameters": {"Left": ["Int8", "Int4"]}, "nullable": [null, false, true]}}, "cf3dff2d6311606c2371151f41cddc9d210047ad0342a1b64afc366f45ee0e73": {"query": "\n            UPDATE squadov.wow_match_view AS wmv\n            SET player_rating = sub.player_rating,\n                player_spec = sub.player_spec,\n                player_team = sub.player_team,\n                t0_specs = sub.t0_specs,\n                t1_specs = sub.t1_specs\n            FROM (\n                SELECT\n                    wmv.id,\n                    wvc.spec_id AS \"player_spec\",\n                    wvc.rating AS \"player_rating\",\n                    wvc.team AS \"player_team\",\n                    t0.s AS \"t0_specs\",\n                    t1.s AS \"t1_specs\"\n                FROM squadov.wow_match_view AS wmv\n                LEFT JOIN LATERAL (\n                    SELECT wcp.character_id\n                    FROM squadov.wow_match_view_character_presence AS wcp\n                    INNER JOIN squadov.wow_user_character_cache AS wucc\n                        ON wucc.user_id = wmv.user_id\n                            AND wucc.unit_guid = wcp.unit_guid\n                    WHERE wcp.view_id = wmv.id\n                ) AS wcp\n                    ON TRUE\n                LEFT JOIN squadov.wow_match_view_combatants AS wvc\n                    ON wvc.character_id = wcp.character_id\n                LEFT JOIN LATERAL (\n                    SELECT ',' || STRING_AGG(val::VARCHAR, ',') || ',' AS vv\n                    FROM (\n                        SELECT MIN(wvc.spec_id)\n                        FROM squadov.wow_match_view_character_presence AS wcp\n                        INNER JOIN squadov.wow_match_view_combatants AS wvc\n                            ON wvc.character_id = wcp.character_id\n                        WHERE wcp.view_id = wmv.id\n                            AND wvc.team = 0\n                        GROUP BY wcp.view_id, wcp.unit_guid\n                    ) sub(val)\n                ) AS t0(s)\n                    ON TRUE\n                LEFT JOIN LATERAL (\n                    SELECT ',' || STRING_AGG(val::VARCHAR, ',') || ',' AS vv\n                    FROM (\n                        SELECT MIN(wvc.spec_id)\n                        FROM squadov.wow_match_view_character_presence AS wcp\n                        INNER JOIN squadov.wow_match_view_combatants AS wvc\n                            ON wvc.character_id = wcp.character_id\n                        WHERE wcp.view_id = wmv.id\n                            AND wvc.team = 1\n                        GROUP BY wcp.view_id, wcp.unit_guid\n                    ) sub(val)\n                ) AS t1(s)\n                    ON TRUE\n                WHERE wmv.id = $1\n            ) AS sub\n            WHERE sub.id = wmv.id\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid"]}, "nullable": []}}, "cfa77223a2af3c6a468c258f5162f1481b25f7a7ae4467b04e3d199e8eca4d2d": {"query": "\n            SELECT\n                vc.*,\n                u.username AS \"clipper\",\n                COALESCE(rc.count, 0) AS \"reacts!\",\n                COALESCE(cc.count, 0) AS \"comments!\",\n                COALESCE(cv.count, 0) AS \"views!\",\n                ufv.reason AS \"favorite_reason?\",\n                uwv.video_uuid IS NOT NULL AS \"is_watchlist!\",\n                COALESCE(JSONB_AGG(vvt.*) FILTER(WHERE vvt.video_uuid IS NOT NULL), '[]'::JSONB)  AS \"tags!\"\n            FROM squadov.vod_clips AS vc\n            INNER JOIN squadov.users AS u\n                ON u.id = vc.clip_user_id\n            LEFT JOIN squadov.view_clip_react_count AS rc\n                ON rc.clip_uuid = vc.clip_uuid\n            LEFT JOIN squadov.view_clip_comment_count AS cc\n                ON cc.clip_uuid = vc.clip_uuid\n            LEFT JOIN squadov.view_clip_view_count AS cv\n                ON cv.clip_uuid = vc.clip_uuid\n            LEFT JOIN squadov.user_favorite_vods AS ufv\n                ON ufv.video_uuid = vc.clip_uuid\n                    AND ufv.user_id = $2\n            LEFT JOIN squadov.user_watchlist_vods AS uwv\n                ON uwv.video_uuid = vc.clip_uuid\n                    AND uwv.user_id = $2\n            LEFT JOIN squadov.view_vod_tags AS vvt\n                ON vvt.video_uuid = vc.clip_uuid\n            WHERE vc.clip_uuid = ANY($1)\n            GROUP BY vc.clip_uuid, vc.parent_vod_uuid, vc.clip_user_id, vc.title, vc.description, vc.game, vc.tm, vc.published, u.username, rc.count, cc.count, cv.count, ufv.reason, uwv.video_uuid\n            ORDER BY vc.tm DESC\n            ", "describe": {"columns": [{"ordinal": 0, "name": "clip_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "parent_vod_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "clip_user_id", "type_info": "Int8"}, {"ordinal": 3, "name": "title", "type_info": "Varchar"}, {"ordinal": 4, "name": "description", "type_info": "Varchar"}, {"ordinal": 5, "name": "game", "type_info": "Int4"}, {"ordinal": 6, "name": "tm", "type_info": "Timestamptz"}, {"ordinal": 7, "name": "published", "type_info": "Bool"}, {"ordinal": 8, "name": "clipper", "type_info": "Varchar"}, {"ordinal": 9, "name": "reacts!", "type_info": "Int8"}, {"ordinal": 10, "name": "comments!", "type_info": "Int8"}, {"ordinal": 11, "name": "views!", "type_info": "Int8"}, {"ordinal": 12, "name": "favorite_reason?", "type_info": "Varchar"}, {"ordinal": 13, "name": "is_watchlist!", "type_info": "Bool"}, {"ordinal": 14, "name": "tags!", "type_info": "Jsonb"}], "parameters": {"Left": ["UuidArray", "Int8"]}, "nullable": [false, false, false, false, false, false, false, false, false, null, null, null, false, null, null]}}, "cfdddfe01466330c5d6c867d400a23cb981d0619652b665a622f345e2506d210": {"query": "\n        SELECT lmte.*\n        FROM squadov.lol_match_timeline_events AS lmte\n        WHERE lmte.match_uuid = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "timestamp", "type_info": "Int8"}, {"ordinal": 2, "name": "real_type", "type_info": "Varchar"}, {"ordinal": 3, "name": "lane_type", "type_info": "Varchar"}, {"ordinal": 4, "name": "skill_slot", "type_info": "Int4"}, {"ordinal": 5, "name": "ascended_type", "type_info": "Varchar"}, {"ordinal": 6, "name": "creator_id", "type_info": "Int4"}, {"ordinal": 7, "name": "after_id", "type_info": "Int4"}, {"ordinal": 8, "name": "event_type", "type_info": "Varchar"}, {"ordinal": 9, "name": "level_up_type", "type_info": "Varchar"}, {"ordinal": 10, "name": "ward_type", "type_info": "Varchar"}, {"ordinal": 11, "name": "participant_id", "type_info": "Int4"}, {"ordinal": 12, "name": "tower_type", "type_info": "Varchar"}, {"ordinal": 13, "name": "item_id", "type_info": "Int4"}, {"ordinal": 14, "name": "before_id", "type_info": "Int4"}, {"ordinal": 15, "name": "monster_type", "type_info": "Varchar"}, {"ordinal": 16, "name": "monster_sub_type", "type_info": "Varchar"}, {"ordinal": 17, "name": "team_id", "type_info": "Int4"}, {"ordinal": 18, "name": "x", "type_info": "Int4"}, {"ordinal": 19, "name": "y", "type_info": "Int4"}, {"ordinal": 20, "name": "killer_id", "type_info": "Int4"}, {"ordinal": 21, "name": "assisting_participant_ids", "type_info": "Int4Array"}, {"ordinal": 22, "name": "building_type", "type_info": "Varchar"}, {"ordinal": 23, "name": "victim_id", "type_info": "Int4"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true]}}, "d0216347231df1f669f6fb49705f9c9412187a9c3ff1bebac44aaf6670be6cb4": {"query": "\n                SELECT reason\n                FROM squadov.user_favorite_vods\n                WHERE video_uuid = $1\n                    AND user_id = $2\n                ", "describe": {"columns": [{"ordinal": 0, "name": "reason", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false]}}, "d0696a98e198d0b54741eae369164f53f2a3a1b1c244d310875cebd88110a3c8": {"query": "\n        SELECT\n            MAX(wci.item_id) AS \"item_id!\",\n            MAX(wci.ilvl) AS \"ilvl!\"\n        FROM squadov.wow_match_view_character_presence AS wcp\n        INNER JOIN squadov.wow_match_view_combatant_items AS wci\n            ON wci.character_id = wcp.character_id\n        WHERE wcp.view_id = $1\n            AND wcp.unit_guid = $2\n        GROUP BY wcp.unit_guid, wci.idx\n        ORDER BY wci.idx ASC\n        ", "describe": {"columns": [{"ordinal": 0, "name": "item_id!", "type_info": "Int8"}, {"ordinal": 1, "name": "ilvl!", "type_info": "Int4"}], "parameters": {"Left": ["Uuid", "Text"]}, "nullable": [null, null]}}, "d0932cb90fe0e313380caf199752e92b430d8768a5e89c26d25f57317e86ff66": {"query": "\n            SELECT id AS \"id!\", match_uuid, video_uuid, can_share AS \"can_share!\", can_clip AS \"can_clip!\", dest_user_id, dest_squad_id\n            FROM squadov.share_match_vod_connections\n            WHERE id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id!", "type_info": "Int8"}, {"ordinal": 1, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "video_uuid", "type_info": "Uuid"}, {"ordinal": 3, "name": "can_share!", "type_info": "Bool"}, {"ordinal": 4, "name": "can_clip!", "type_info": "Bool"}, {"ordinal": 5, "name": "dest_user_id", "type_info": "Int8"}, {"ordinal": 6, "name": "dest_squad_id", "type_info": "Int8"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, true, true, false, false, true, true]}}, "d17d0dd93ebce2f79c73af1c00cdc5e535b40eef63212de750a73defe6686a49": {"query": "\n            SELECT *\n            FROM squadov.user_profiles\n            WHERE link_slug = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "user_id", "type_info": "Int8"}, {"ordinal": 1, "name": "link_slug", "type_info": "Varchar"}, {"ordinal": 2, "name": "display_name", "type_info": "Varchar"}, {"ordinal": 3, "name": "description", "type_info": "Varchar"}, {"ordinal": 4, "name": "achievement_access", "type_info": "Int4"}, {"ordinal": 5, "name": "match_access", "type_info": "Int4"}, {"ordinal": 6, "name": "facebook", "type_info": "Varchar"}, {"ordinal": 7, "name": "instagram", "type_info": "Varchar"}, {"ordinal": 8, "name": "twitch", "type_info": "Varchar"}, {"ordinal": 9, "name": "youtube", "type_info": "Varchar"}, {"ordinal": 10, "name": "snapchat", "type_info": "Varchar"}, {"ordinal": 11, "name": "twitter", "type_info": "Varchar"}, {"ordinal": 12, "name": "tiktok", "type_info": "Varchar"}, {"ordinal": 13, "name": "misc_access", "type_info": "Int4"}, {"ordinal": 14, "name": "profile_picture_blob", "type_info": "Uuid"}, {"ordinal": 15, "name": "cover_picture_blob", "type_info": "Uuid"}], "parameters": {"Left": ["Text"]}, "nullable": [false, false, false, false, false, false, true, true, true, true, true, true, true, false, true, true]}}, "d25ac05f08e92cddb017dcd828cf8193e2b310a6014ab62c18815f9f45829ebe": {"query": "\n            SELECT\n                FLOOR((EXTRACT(EPOCH FROM wve.tm) - EXTRACT(EPOCH FROM $4::TIMESTAMPTZ)) / $6::BIGINT) * $6::BIGINT AS \"xtm\",\n                COALESCE(wcp.owner_guid, wcp.unit_guid) AS \"guid\",\n                SUM(wde.amount) / CAST($6::BIGINT AS DOUBLE PRECISION) AS \"amount\"\n            FROM squadov.wow_match_view AS wmv\n            INNER JOIN squadov.wow_match_view_events AS wve\n                ON wve.view_id = wmv.alt_id\n            INNER JOIN squadov.wow_match_view_character_presence AS wcp\n                ON wcp.character_id = wve.dest_char\n            INNER JOIN squadov.wow_match_view_damage_events AS wde\n                ON wde.event_id = wve.event_id\n            WHERE wmv.match_uuid = $1\n                AND wmv.user_id = $2\n                AND wcp.unit_guid = ANY($3)\n                AND wve.tm >= $4 AND wve.tm <= $5\n            GROUP BY xtm, guid\n            ORDER BY xtm, guid\n            ", "describe": {"columns": [{"ordinal": 0, "name": "xtm", "type_info": "Float8"}, {"ordinal": 1, "name": "guid", "type_info": "Varchar"}, {"ordinal": 2, "name": "amount", "type_info": "Float8"}], "parameters": {"Left": ["Uuid", "Int8", "TextArray", "Timestamptz", "Timestamptz", "Int8"]}, "nullable": [null, null, null]}}, "d27f6ce82f84f3bb60dad06feabcbffe9e0acac5299a13c62af26f9d86f48170": {"query": "\n        SELECT\n            vc.clip_uuid AS \"video_uuid!\",\n            COALESCE(rc.count, 0) AS \"reacts!\",\n            COALESCE(cc.count, 0) AS \"comments!\",\n            COALESCE(cv.count, 0) AS \"views!\"\n        FROM squadov.vod_clips AS vc\n        INNER JOIN squadov.users AS u\n            ON u.id = vc.clip_user_id\n        LEFT JOIN squadov.view_clip_react_count AS rc\n            ON rc.clip_uuid = vc.clip_uuid\n        LEFT JOIN squadov.view_clip_comment_count AS cc\n            ON cc.clip_uuid = vc.clip_uuid\n        LEFT JOIN squadov.view_clip_view_count AS cv\n            ON cv.clip_uuid = vc.clip_uuid\n        WHERE vc.clip_uuid = ANY($1)\n        ", "describe": {"columns": [{"ordinal": 0, "name": "video_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "reacts!", "type_info": "Int8"}, {"ordinal": 2, "name": "comments!", "type_info": "Int8"}, {"ordinal": 3, "name": "views!", "type_info": "Int8"}], "parameters": {"Left": ["UuidArray"]}, "nullable": [true, true, true, true]}}, "d2a78652feca8b8214a04ee12cc49efe30e0b667fd69d3890a97a77eae0deb29": {"query": "\n                    UPDATE squadov.vods\n                    SET last_sync_elasticsearch = NOW()\n                    WHERE video_uuid = $1\n                    ", "describe": {"columns": [], "parameters": {"Left": ["Uuid"]}, "nullable": []}}, "d31e8c090c3f7cdf301489633fdd1cca99b135d9bac9751500e84249c5d32c7c": {"query": "\n            UPDATE squadov.wow_match_view\n            SET end_tm = $2,\n                match_uuid = $3\n            WHERE id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Timestamptz", "Uuid"]}, "nullable": []}}, "d492bf12351b346ef3e226ce33406348601a26290589db802edc0e2605ab1848": {"query": "\n        SELECT cer.round_num, cer.tm_round_start, cer.tm_round_play, cer.tm_round_end\n        FROM squadov.csgo_event_container_rounds AS cer\n        INNER JOIN squadov.csgo_event_container AS cec\n            ON cec.id = cer.container_id\n        WHERE cec.view_uuid = $1\n            AND cec.event_source = 1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "round_num", "type_info": "Int4"}, {"ordinal": 1, "name": "tm_round_start", "type_info": "Timestamptz"}, {"ordinal": 2, "name": "tm_round_play", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "tm_round_end", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, true, true, true]}}, "d5e40204b7628269fece8c632538d7f9092d8648de2b660e637a66681f2d2529": {"query": "\n            INSERT INTO squadov.vod_watch_analytics (\n                video_uuid,\n                user_id,\n                start_seconds,\n                end_seconds,\n                tm\n            ) VALUES (\n                $1,\n                $2,\n                $3,\n                $4,\n                NOW()\n            )\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8", "Float8", "Float8"]}, "nullable": []}}, "d6b31e9c7abd5bbad78ffb76dba8bbc702754e54b06f8d822f89b830e1220db7": {"query": "\n                INSERT INTO squadov.match_collections (uuid)\n                VALUES ($1)\n                ", "describe": {"columns": [], "parameters": {"Left": ["Uuid"]}, "nullable": []}}, "d7cbc378f190a0c2758f176f228c8df960dab2834b9ef319b1ac1c020adcfbd3": {"query": "\n            SELECT lmt.*\n            FROM squadov.lol_match_teams AS lmt\n            WHERE lmt.match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "team_id", "type_info": "Int4"}, {"ordinal": 2, "name": "tower_kills", "type_info": "Int4"}, {"ordinal": 3, "name": "rift_herald_kills", "type_info": "Int4"}, {"ordinal": 4, "name": "first_blood", "type_info": "Bool"}, {"ordinal": 5, "name": "inhibitor_kills", "type_info": "Int4"}, {"ordinal": 6, "name": "first_baron", "type_info": "Bool"}, {"ordinal": 7, "name": "first_dragon", "type_info": "Bool"}, {"ordinal": 8, "name": "dragon_kills", "type_info": "Int4"}, {"ordinal": 9, "name": "baron_kills", "type_info": "Int4"}, {"ordinal": 10, "name": "first_inhibitor", "type_info": "Bool"}, {"ordinal": 11, "name": "first_tower", "type_info": "Bool"}, {"ordinal": 12, "name": "first_rift_herald", "type_info": "Bool"}, {"ordinal": 13, "name": "win", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false, false, false, false, false, false, false, false, false, false, false]}}, "d8c8e22c0583b58d532ff2855147f545e528ea023c42588b27857029640c14d1": {"query": "\n            SELECT character_id\n            FROM squadov.valorant_match_players\n            WHERE match_uuid = $1\n                AND ($2::VARCHAR IS NULL OR team_id = $2)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "character_id", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid", "Varchar"]}, "nullable": [false]}}, "d8e0a632adc210f63a868fe8a0a5b0dcb266c123b23829be6ee08c938b18e685": {"query": "\n                SELECT\n                    wcp.unit_guid,\n                    COALESCE(wcp.unit_name, '') AS \"unit_name!\",\n                    wcp.class_id\n                FROM squadov.wow_match_view AS wmv\n                INNER JOIN squadov.wow_match_view_character_presence AS wcp\n                    ON wcp.view_id = wmv.id\n                WHERE wmv.match_uuid = $1\n                    AND wmv.user_id = $2\n                    AND (wcp.flags & x'100'::BIGINT) > 0\n                    AND (wcp.flags & x'400'::BIGINT) > 0\n                    AND wcp.class_id IS NOT NULL\n                ", "describe": {"columns": [{"ordinal": 0, "name": "unit_guid", "type_info": "Varchar"}, {"ordinal": 1, "name": "unit_name!", "type_info": "Varchar"}, {"ordinal": 2, "name": "class_id", "type_info": "Int4"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false, null, true]}}, "d9033950ddbce8172d7aba46dd7660a1a9aa80fd30c142bcd3e9d4641d649b77": {"query": "\n            SELECT t.platform AS \"platform!\", t.game_id AS \"game_id!\"\n            FROM UNNEST($1::VARCHAR[], $2::BIGINT[]) AS t(platform, game_id)\n            LEFT JOIN squadov.tft_matches AS tft\n                ON tft.platform = t.platform\n                    AND tft.match_id = t.game_id\n            LEFT JOIN squadov.tft_match_info AS tmi\n                ON tmi.match_uuid = tft.match_uuid\n            WHERE tmi.match_uuid IS NULL\n            ", "describe": {"columns": [{"ordinal": 0, "name": "platform!", "type_info": "Varchar"}, {"ordinal": 1, "name": "game_id!", "type_info": "Int8"}], "parameters": {"Left": ["VarcharArray", "Int8Array"]}, "nullable": [null, null]}}, "da7e891808f7deb008f8956395def6a5f16d7cf45b6c5c553708f81e23804b47": {"query": "\n        INSERT INTO squadov.valorant_match_computed_data (\n            match_uuid,\n            t0_agents,\n            t1_agents\n        ) VALUES (\n            $1,\n            $2,\n            $3\n        ) ON CONFLICT (match_uuid) DO UPDATE SET\n            t0_agents = EXCLUDED.t0_agents,\n            t1_agents = EXCLUDED.t1_agents\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar", "Varchar"]}, "nullable": []}}, "db119ed15766bca0d522ecfffd6064335d91bf321b1787260f58309d5d7f0003": {"query": "\n        SELECT *\n        FROM squadov.communities\n        WHERE slug = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "name", "type_info": "Varchar"}, {"ordinal": 2, "name": "create_tm", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "creator_user_id", "type_info": "Int8"}, {"ordinal": 4, "name": "security_level", "type_info": "Int4"}, {"ordinal": 5, "name": "requires_subscription", "type_info": "Bool"}, {"ordinal": 6, "name": "allow_twitch_sub", "type_info": "Bool"}, {"ordinal": 7, "name": "slug", "type_info": "Varchar"}], "parameters": {"Left": ["Text"]}, "nullable": [false, false, false, false, false, false, false, false]}}, "dbfa6ebf66436b034ab08a6eeb571b3f26322d03d272e0e85eef05f1bf578aad": {"query": "\n                SELECT match_uuid\n                FROM squadov.new_wow_encounters AS wc\n                CROSS JOIN (\n                    SELECT wmv.start_tm, wcv.encounter_id, wcv.difficulty, wcv.instance_id\n                    FROM squadov.wow_match_view AS wmv\n                    INNER JOIN squadov.wow_encounter_view AS wcv\n                        ON wcv.view_id = wmv.id\n                    WHERE wmv.id = $2\n                ) AS wmv(start_tm, encounter_id, difficulty, instance_id)\n                WHERE wc.tr && tstzrange(wmv.start_tm, $3, '[]')\n                    AND wc.combatants_key = $1\n                    AND wc.encounter_id = wmv.encounter_id\n                    AND wc.difficulty = wmv.difficulty\n                    AND wc.instance_id = wmv.instance_id\n                ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Text", "Uuid", "Timestamptz"]}, "nullable": [false]}}, "dc237c9d2597193732d2b57294ffbd11f040079fb783fc2cd6069bbf9c56f16e": {"query": "\n        SELECT\n            tm,\n            game_entity_id,\n            current_turn,\n            step,\n            current_player_id,\n            last_action_id\n        FROM squadov.hearthstone_snapshots\n        WHERE snapshot_id = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "tm", "type_info": "Timestamptz"}, {"ordinal": 1, "name": "game_entity_id", "type_info": "Int4"}, {"ordinal": 2, "name": "current_turn", "type_info": "Int4"}, {"ordinal": 3, "name": "step", "type_info": "Int4"}, {"ordinal": 4, "name": "current_player_id", "type_info": "Int4"}, {"ordinal": 5, "name": "last_action_id", "type_info": "Int8"}], "parameters": {"Left": ["Uuid"]}, "nullable": [true, false, false, false, false, false]}}, "dd999a4aaef59d2e12b5d9de3803674f0afb821abaef16c1f377e5f34740e18c": {"query": "\n        INSERT INTO squadov.lol_match_info (\n            match_uuid,\n            game_id,\n            platform_id,\n            queue_id,\n            game_type,\n            game_duration,\n            game_creation,\n            season_id,\n            game_version,\n            map_id,\n            game_mode\n        )\n        VALUES (\n            $1,\n            $2,\n            $3,\n            $4,\n            $5,\n            $6,\n            $7,\n            $8,\n            $9,\n            $10,\n            $11\n        )\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8", "Varchar", "Int4", "Varchar", "Int8", "Timestamptz", "Int4", "Varchar", "Int4", "Varchar"]}, "nullable": []}}, "de243d6c0f24b56f26deaadbd48d1b4c58f752a725c1f6a348e24bcab0e42335": {"query": "\n            INSERT INTO squadov.hearthstone_arena_deck_slots(\n                deck_id,\n                card_id,\n                selection_time\n            )\n            SELECT\n                had.draft_deck_id,\n                $2,\n                $3\n            FROM squadov.hearthstone_arena_drafts AS had\n            WHERE had.collection_uuid = $1\n                AND had.user_id = $4\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Varchar", "Timestamptz", "Int8"]}, "nullable": []}}, "de4a614341055c9254be5deb693b688ca0d1a34552b5f7a0b9367e2be143eac3": {"query": "\n            SELECT user_id\n            FROM squadov.user_watchlist_vods\n            WHERE video_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "user_id", "type_info": "Int8"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false]}}, "df0a0c9cc6a63581d268304d6bfe936becc3260c73fae7d86a195d8d650c51d4": {"query": "\n            UPDATE squadov.user_sessions\n            SET transition_id = $2,\n                expiration_tm = NOW() + INTERVAL '3 hour'\n            WHERE id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Text", "Varchar"]}, "nullable": []}}, "e00558509a78455a49874abb1350d1ca57fa45c2aae33269864a1d5f301d1e9f": {"query": "\n                SELECT COALESCE(BOOL_OR(f.has_fastify), FALSE) AS \"has_fastify!\"\n                FROM (\n                    SELECT has_fastify\n                    FROM squadov.vod_metadata\n                    WHERE video_uuid = $1\n                ) AS f\n                ", "describe": {"columns": [{"ordinal": 0, "name": "has_fastify!", "type_info": "Bool"}], "parameters": {"Left": ["Uuid"]}, "nullable": [null]}}, "e026da1cbad2cf59ac3e26e557b1a4577fdfd627f7e8bc3e6a82ce3b0dc75b12": {"query": "\n        SELECT\n            vmk.round_num,\n            COALESCE(COUNT(vmk.victim_puuid), 0) AS \"kills!\"\n        FROM squadov.valorant_match_players AS vmp\n        INNER JOIN squadov.riot_account_links AS ral\n            ON ral.puuid = vmp.puuid\n        LEFT JOIN squadov.valorant_match_kill AS vmk\n            ON vmk.match_uuid = vmp.match_uuid\n                AND vmk.killer_puuid = vmp.puuid\n        WHERE vmp.match_uuid = $1\n            AND ral.user_id = $2\n            AND vmk.round_num IS NOT NULL\n        GROUP BY vmk.round_num\n        ", "describe": {"columns": [{"ordinal": 0, "name": "round_num", "type_info": "Int4"}, {"ordinal": 1, "name": "kills!", "type_info": "Int8"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false, null]}}, "e09b798a6448b9bddffaef74a9a1c9541b734785b3eccf95c374ef0e72616dcd": {"query": "\n        SELECT *\n        FROM squadov.tft_match_participant_traits\n        WHERE match_uuid = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "puuid", "type_info": "Varchar"}, {"ordinal": 2, "name": "name", "type_info": "Varchar"}, {"ordinal": 3, "name": "num_units", "type_info": "Int4"}, {"ordinal": 4, "name": "style", "type_info": "Int4"}, {"ordinal": 5, "name": "tier_current", "type_info": "Int4"}, {"ordinal": 6, "name": "tier_total", "type_info": "Int4"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false, false, false, false]}}, "e0a39f54c38c04b12867f55cff1155d1740d84e21d5e5526903b37ebb148e2e5": {"query": "\n        SELECT DISTINCT v.*\n        FROM squadov.vods AS v\n        INNER JOIN squadov.users AS u\n            ON u.uuid = v.user_uuid\n        LEFT JOIN squadov.view_share_connections_access_users AS vau\n            ON vau.video_uuid = v.video_uuid\n                AND vau.match_uuid = $1\n                AND vau.user_id = $2\n        WHERE v.match_uuid = $1 \n            AND (u.id = $2 OR vau.video_uuid IS NOT NULL)\n            AND v.is_clip = FALSE\n            AND (v.is_local = FALSE OR u.id = $2)\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "user_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "video_uuid", "type_info": "Uuid"}, {"ordinal": 3, "name": "start_time", "type_info": "Timestamptz"}, {"ordinal": 4, "name": "end_time", "type_info": "Timestamptz"}, {"ordinal": 5, "name": "raw_container_format", "type_info": "Varchar"}, {"ordinal": 6, "name": "is_clip", "type_info": "Bool"}, {"ordinal": 7, "name": "is_local", "type_info": "Bool"}, {"ordinal": 8, "name": "md5", "type_info": "Varchar"}, {"ordinal": 9, "name": "last_sync_elasticsearch", "type_info": "Timestamptz"}, {"ordinal": 10, "name": "request_sync_elasticsearch", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [true, true, false, true, true, false, false, false, true, true, true]}}, "e0c89817a9071d173ac5fe848a050c3b0160144f1e2009fbbb49a65347e28dd3": {"query": "\n                    SELECT EXISTS (\n                        SELECT 1\n                        FROM squadov.lol_match_participants AS lmp\n                        INNER JOIN squadov.lol_match_participant_identities AS lmpi\n                            ON lmpi.match_uuid = lmp.match_uuid\n                                AND lmpi.participant_id = lmp.participant_id\n                        INNER JOIN squadov.riot_accounts AS ra\n                            ON ra.summoner_id = lmpi.summoner_id\n                        INNER JOIN squadov.riot_account_links AS ral\n                            ON ral.puuid = ra.puuid\n                        WHERE ral.user_id = $1 AND lmp.match_uuid = $2\n                    ) as \"exists!\"\n                    ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": [null]}}, "e11b284ad1aff24b9c7a0ebe8b0377daed55f08188cc1c63049436690c0fffa9": {"query": "\n            SELECT\n                u.username AS \"username!\",\n                up.link_slug AS \"slug!\"\n            FROM squadov.vods AS v\n            INNER JOIN squadov.users AS u\n                ON u.uuid = v.user_uuid\n            INNER JOIN squadov.user_profiles AS up\n                ON up.user_id = u.id\n            WHERE v.video_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "username!", "type_info": "Varchar"}, {"ordinal": 1, "name": "slug!", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false]}}, "e16e128b6f022311b105a9309456f9baaa90d49460b7e1672a061fe21a068a82": {"query": "\n            SELECT *\n            FROM squadov.aimlab_tasks\n            WHERE match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "user_id", "type_info": "Int8"}, {"ordinal": 2, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 3, "name": "task_name", "type_info": "Varchar"}, {"ordinal": 4, "name": "mode", "type_info": "Int4"}, {"ordinal": 5, "name": "score", "type_info": "Int8"}, {"ordinal": 6, "name": "version", "type_info": "Varchar"}, {"ordinal": 7, "name": "raw_data", "type_info": "Jsonb"}, {"ordinal": 8, "name": "create_date", "type_info": "Timestamptz"}, {"ordinal": 9, "name": "klutch_id", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false, false, false, false, false, false, false]}}, "e20a9fa30f17caa2048b5d7c7b88bb7e11000a6900ce53e374b9f6ac83b60129": {"query": "\n        SELECT EXISTS (\n            SELECT 1\n            FROM squadov.user_sessions\n            WHERE id = $1\n                AND is_temp = TRUE\n        ) AS \"valid!\"\n        ", "describe": {"columns": [{"ordinal": 0, "name": "valid!", "type_info": "Bool"}], "parameters": {"Left": ["Text"]}, "nullable": [null]}}, "e2758db5e8f861beac21d5ef69cfd0725df21ae92b997359724aad88c840bbf2": {"query": "\n        SELECT *\n        FROM squadov.communities\n        WHERE id = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "name", "type_info": "Varchar"}, {"ordinal": 2, "name": "create_tm", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "creator_user_id", "type_info": "Int8"}, {"ordinal": 4, "name": "security_level", "type_info": "Int4"}, {"ordinal": 5, "name": "requires_subscription", "type_info": "Bool"}, {"ordinal": 6, "name": "allow_twitch_sub", "type_info": "Bool"}, {"ordinal": 7, "name": "slug", "type_info": "Varchar"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, false, false, false, false, false, false]}}, "e2c9fdd49bcb86b575dbaf8ec2cc215b0b5d8af1f3cdc995bab24e3fcf553f1f": {"query": "\n            INSERT INTO squadov.community_membership (\n                community_id,\n                user_id,\n                sub_id,\n                join_tm\n            ) VALUES (\n                $1,\n                $2,\n                $3,\n                NOW()\n            ) RETURNING id\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}], "parameters": {"Left": ["Int8", "Int8", "Int8"]}, "nullable": [false]}}, "e2dca31868aa0f380576bf56bdad8a40b9ce0157f3692e584f2cd581ceb8d2b7": {"query": "\n            UPDATE squadov.wow_challenge_view\n            SET success = $2,\n                time_ms = $3\n            WHERE view_id = $1\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Bool", "Int8"]}, "nullable": []}}, "e2f0cb5d3a616db2c01a798e6e05ccc94fd53e75efe55804340ed13846f31ecf": {"query": "\n            SELECT DISTINCT\n                wmv.match_uuid AS \"match_uuid!\",\n                u.uuid AS \"player_uuid!\",\n                wmv.start_tm\n            FROM squadov.wow_match_view AS wmv\n            INNER JOIN squadov.wow_arena_view AS wav\n                ON wav.view_id = wmv.id\n            INNER JOIN squadov.wow_match_view_character_presence AS wcp\n                ON wcp.view_id = wmv.id\n            INNER JOIN squadov.wow_match_view_combatants AS mvc\n                ON mvc.character_id = wcp.character_id\n            CROSS JOIN LATERAL (\n                SELECT ',' || STRING_AGG(val::VARCHAR, ',') || ',' AS vv\n                FROM (\n                    SELECT MIN(wvc.spec_id)\n                    FROM squadov.wow_match_view_character_presence AS wcp\n                    INNER JOIN squadov.wow_match_view_combatants AS wvc\n                        ON wvc.character_id = wcp.character_id\n                    WHERE wcp.view_id = wmv.id\n                        AND wvc.team = 0\n                    GROUP BY wcp.view_id, wcp.unit_guid\n                ) sub(val)\n            ) AS t0(s)\n            CROSS JOIN LATERAL (\n                SELECT ',' || STRING_AGG(val::VARCHAR, ',') || ',' AS vv\n                FROM (\n                    SELECT MIN(wvc.spec_id)\n                    FROM squadov.wow_match_view_character_presence AS wcp\n                    INNER JOIN squadov.wow_match_view_combatants AS wvc\n                        ON wvc.character_id = wcp.character_id\n                    WHERE wcp.view_id = wmv.id\n                        AND wvc.team = 1\n                    GROUP BY wcp.view_id, wcp.unit_guid\n                ) sub(val)\n            ) AS t1(s)\n            INNER JOIN squadov.users AS u\n                ON u.id = wmv.user_id\n            LEFT JOIN squadov.vods AS v\n                ON v.match_uuid = wmv.match_uuid\n                    AND v.user_uuid = u.uuid\n                    AND v.is_clip = FALSE\n            LEFT JOIN squadov.view_share_connections_access_users AS sau\n                ON sau.match_uuid = wmv.match_uuid\n                    AND sau.user_id = $7\n            WHERE wmv.user_id = $2\n                AND wcp.unit_guid = $1\n                AND wmv.match_uuid IS NOT NULL\n                AND (CARDINALITY($5::INTEGER[]) = 0 OR wav.instance_id = ANY($5))\n                AND (NOT $6::BOOLEAN OR v.video_uuid IS NOT NULL)\n                AND ($2 = $7 OR sau.match_uuid IS NOT NULL)\n                AND (CARDINALITY($8::VARCHAR[]) = 0 OR wav.arena_type = ANY($8))\n                AND ($9::BOOLEAN IS NULL OR ((wav.winning_team_id = mvc.team) = $9))\n                AND (CARDINALITY($10::INTEGER[]) = 0 OR mvc.spec_id = ANY($10))\n                AND ($11::INTEGER IS NULL OR mvc.rating >= $11)\n                AND ($12::INTEGER IS NULL OR mvc.rating <= $12)\n                AND (\n                    (t0.s ~ $13 AND t1.s ~ $14)\n                    OR\n                    (t0.s ~ $14 AND t1.s ~ $13)\n                )\n            ORDER BY wmv.start_tm DESC, wmv.match_uuid, u.uuid\n            LIMIT $3 OFFSET $4\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid!", "type_info": "Uuid"}, {"ordinal": 1, "name": "player_uuid!", "type_info": "Uuid"}, {"ordinal": 2, "name": "start_tm", "type_info": "Timestamptz"}], "parameters": {"Left": ["Text", "Int8", "Int8", "Int8", "Int4Array", "Bool", "Int8", "VarcharArray", "Bool", "Int4Array", "Int4", "Int4", "Text", "Text"]}, "nullable": [true, false, false]}}, "e347779f2f5bcc8b0e1e7098c395a756be630ce6de0beb828a6af818bbf361af": {"query": "\n        UPDATE squadov.twitch_accounts\n        SET access_token = $2,\n            refresh_token = $3,\n            access_expiration = $4\n        WHERE access_token = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Text", "Varchar", "Varchar", "Timestamptz"]}, "nullable": []}}, "e37f7e645cadb8f7e5eb881610c53c7e803dbb4e696b5f116d41486e94633364": {"query": "\n            SELECT\n                id,\n                username,\n                email,\n                verified,\n                uuid,\n                is_test,\n                is_admin,\n                welcome_sent,\n                registration_time\n            FROM squadov.users\n            WHERE id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "username", "type_info": "Varchar"}, {"ordinal": 2, "name": "email", "type_info": "Varchar"}, {"ordinal": 3, "name": "verified", "type_info": "Bool"}, {"ordinal": 4, "name": "uuid", "type_info": "Uuid"}, {"ordinal": 5, "name": "is_test", "type_info": "Bool"}, {"ordinal": 6, "name": "is_admin", "type_info": "Bool"}, {"ordinal": 7, "name": "welcome_sent", "type_info": "Bool"}, {"ordinal": 8, "name": "registration_time", "type_info": "Timestamptz"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, false, false, false, false, false, false, true]}}, "e599da246590e982462e9503085b8e4dab906021e7da3d0fae0f47c20b967f0f": {"query": "\n            SELECT DISTINCT match_uuid\n            FROM squadov.valorant_match_players AS vmp\n            WHERE vmp.puuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Text"]}, "nullable": [false]}}, "e5d62f53ef1e4468696e79f48b903773c56c45a003bdd1a3e141e7ec3254d71a": {"query": "\n        SELECT\n            hmpm.player_match_id,\n            hmpm.league_id,\n            hmpm.earned_stars,\n            hmpm.star_level,\n            hmpm.best_star_level,\n            hmpm.win_streak,\n            hmpm.legend_index,\n            hmpm.is_standard\n        FROM squadov.hearthstone_match_player_medals AS hmpm\n        INNER JOIN squadov.hearthstone_match_view AS hmv\n            ON hmv.view_uuid = hmpm.view_uuid\n        WHERE hmv.match_uuid = $1 AND hmv.user_id = $2\n        ", "describe": {"columns": [{"ordinal": 0, "name": "player_match_id", "type_info": "Int4"}, {"ordinal": 1, "name": "league_id", "type_info": "Int4"}, {"ordinal": 2, "name": "earned_stars", "type_info": "Int4"}, {"ordinal": 3, "name": "star_level", "type_info": "Int4"}, {"ordinal": 4, "name": "best_star_level", "type_info": "Int4"}, {"ordinal": 5, "name": "win_streak", "type_info": "Int4"}, {"ordinal": 6, "name": "legend_index", "type_info": "Int4"}, {"ordinal": 7, "name": "is_standard", "type_info": "Bool"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false, false, false, false, false, false, false, false]}}, "e60b00bf6030721a8701024c37c8c42fb3b71ee063ff18b12e723c65c73eafe7": {"query": "\n            SELECT draft_deck_id, creation_time\n            FROM squadov.hearthstone_arena_drafts\n            WHERE collection_uuid = $1 AND user_id = $2\n            ", "describe": {"columns": [{"ordinal": 0, "name": "draft_deck_id", "type_info": "Int8"}, {"ordinal": 1, "name": "creation_time", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false, false]}}, "e61da039267f1a2938c707b6dced35edb698f56d689b40b5d816c05fb6f54687": {"query": "\n                SELECT disabled_game\n                FROM squadov.squad_sharing_games_filter\n                WHERE squad_id = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "disabled_game", "type_info": "Int4"}], "parameters": {"Left": ["Int8"]}, "nullable": [false]}}, "e68548bdc5931fe70c318f7dc1cc2f9fd533512ae5b1858d4402c72ea5a7dd37": {"query": "\n        INSERT INTO squadov.vod_clips (\n            clip_uuid,\n            parent_vod_uuid,\n            clip_user_id,\n            title,\n            description,\n            game,\n            tm,\n            published\n        )\n        VALUES (\n            $1,\n            $2,\n            $3,\n            $4,\n            $5,\n            $6,\n            NOW(),\n            $7\n        )\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Uuid", "Int8", "Varchar", "Varchar", "Int4", "Bool"]}, "nullable": []}}, "e6ff1b15a2b1149d4a3948b572dbad450de3bb80cd8cb55e28db4d6299fcf105": {"query": "\n        UPDATE squadov.user_autosharing_settings\n        SET can_clip = $3,\n            can_share = $4\n        WHERE id = $1 AND source_user_id = $2\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8", "Bool", "Bool"]}, "nullable": []}}, "e7376e71120acc617957194264f68e6810f2756fb71c26cffdbb8ab9900a70a0": {"query": "\n        SELECT *\n        FROM squadov.user_hardware_specs\n        WHERE user_id = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "user_id", "type_info": "Int8"}, {"ordinal": 1, "name": "os", "type_info": "Jsonb"}, {"ordinal": 2, "name": "cpu", "type_info": "Jsonb"}, {"ordinal": 3, "name": "display", "type_info": "Jsonb"}, {"ordinal": 4, "name": "ram_kb", "type_info": "Int8"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, false, false, false]}}, "e740fe791791d416c1bd88e0adf3f50d6d0ebb6fbe0d189038bc5afa3f287bbf": {"query": "\n                SELECT\n                    v.video_uuid\n                FROM squadov.matches AS m\n                INNER JOIN squadov.vods AS v\n                    ON v.match_uuid = m.uuid\n                INNER JOIN squadov.users AS u\n                    ON u.uuid = v.user_uuid\n                WHERE m.uuid = $1\n                    AND u.id = $2\n                ", "describe": {"columns": [{"ordinal": 0, "name": "video_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false]}}, "e7e16edaec9129d4260403e665e27cbfcff570a949ae34883093da2977759e23": {"query": "\n        UPDATE squadov.user_profiles\n        SET profile_picture_blob = $2\n        WHERE user_id = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": []}}, "e7e695baa65ce97ad22ef2f26ddf44e69877f5e86ed8524cc578ca934ab96817": {"query": "\n            SELECT ra.puuid, ra.account_id, ra.summoner_id, ra.summoner_name, ra.last_backfill_lol_time, ra.last_backfill_tft_time\n            FROM squadov.riot_accounts AS ra\n            INNER JOIN squadov.riot_account_links AS ral\n                ON ral.puuid = ra.puuid\n            WHERE ral.user_id = $1\n                AND ra.raw_puuid = $2\n            ", "describe": {"columns": [{"ordinal": 0, "name": "puuid", "type_info": "Varchar"}, {"ordinal": 1, "name": "account_id", "type_info": "Varchar"}, {"ordinal": 2, "name": "summoner_id", "type_info": "Varchar"}, {"ordinal": 3, "name": "summoner_name", "type_info": "Varchar"}, {"ordinal": 4, "name": "last_backfill_lol_time", "type_info": "Timestamptz"}, {"ordinal": 5, "name": "last_backfill_tft_time", "type_info": "Timestamptz"}], "parameters": {"Left": ["Int8", "Text"]}, "nullable": [false, true, true, true, true, true]}}, "e82642ba0c018efa08963846cc6156fca90b23aab40ba06f488e6cf51f773b92": {"query": "\n                SELECT id\n                FROM squadov.wow_match_view\n                WHERE user_id = $1\n                    AND match_uuid = $2\n                ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Uuid"}], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": [false]}}, "ea00b324df6c27cf9cded50003add6f613d5558f06a05eae8906e7730caac219": {"query": "\n                WITH new_comment AS (\n                    INSERT INTO squadov.clip_comments (\n                        clip_uuid,\n                        user_id,\n                        comment,\n                        tm\n                    )\n                    VALUES (\n                        $1,\n                        $2,\n                        $3,\n                        NOW()\n                    )\n                    RETURNING *\n                )\n                SELECT\n                    cc.id AS \"id!\",\n                    cc.clip_uuid AS \"clip_uuid!\",\n                    u.username AS \"username!\",\n                    cc.comment AS \"comment!\",\n                    cc.tm AS \"tm!\"\n                FROM new_comment AS cc\n                INNER JOIN squadov.users AS u\n                    ON u.id = cc.user_id\n                ", "describe": {"columns": [{"ordinal": 0, "name": "id!", "type_info": "Int8"}, {"ordinal": 1, "name": "clip_uuid!", "type_info": "Uuid"}, {"ordinal": 2, "name": "username!", "type_info": "Varchar"}, {"ordinal": 3, "name": "comment!", "type_info": "Varchar"}, {"ordinal": 4, "name": "tm!", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid", "Int8", "Varchar"]}, "nullable": [true, true, true, true, true]}}, "eac92ea4e659dd3d945238802b16d378efe3f443e960429b466e5182783ef4bf": {"query": "\n            DELETE FROM squadov.user_vod_tags\n            WHERE video_uuid = $1\n                AND tag_id = $2\n                AND user_id = $3\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8", "Int8"]}, "nullable": []}}, "eb3aebb67abd053c06ac9a864cafd78a586d38283da4ea1d3f0bb6027df0675b": {"query": "\n        INSERT INTO squadov.lol_match_timeline (\n            match_uuid,\n            frame_interval\n        )\n        VALUES (\n            $1,\n            $2\n        )\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "eb74adb4f551d61c1e2ab289773952b9ce62ca4723640c3e71f8721e0fd31356": {"query": "\n        SELECT tmp.*, ra.summoner_name\n        FROM squadov.tft_match_participants AS tmp\n        INNER JOIN squadov.riot_accounts AS ra\n            ON ra.puuid = tmp.puuid\n        WHERE tmp.match_uuid = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "puuid", "type_info": "Varchar"}, {"ordinal": 2, "name": "gold_left", "type_info": "Int4"}, {"ordinal": 3, "name": "last_round", "type_info": "Int4"}, {"ordinal": 4, "name": "level", "type_info": "Int4"}, {"ordinal": 5, "name": "placement", "type_info": "Int4"}, {"ordinal": 6, "name": "players_eliminated", "type_info": "Int4"}, {"ordinal": 7, "name": "time_eliminated", "type_info": "Float4"}, {"ordinal": 8, "name": "total_damage_to_players", "type_info": "Int4"}, {"ordinal": 9, "name": "companion_content_id", "type_info": "Varchar"}, {"ordinal": 10, "name": "companion_skin_id", "type_info": "Int4"}, {"ordinal": 11, "name": "companion_species", "type_info": "Varchar"}, {"ordinal": 12, "name": "summoner_name", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false, false, false, false, false, false, false, false, false, true]}}, "ebdf62e2f6baa9989a7a3b05f7f5064c0aca846318fa7936b39cafce9f7721d5": {"query": "\n        SELECT ra.puuid, ra.account_id, ra.summoner_id, ra.summoner_name, ra.last_backfill_lol_time, ra.last_backfill_tft_time\n        FROM squadov.riot_accounts AS ra\n        INNER JOIN squadov.riot_account_links AS ral\n            ON ral.puuid = ra.puuid\n        WHERE ral.user_id = $1\n            AND ra.summoner_name IS NOT NULL\n        ", "describe": {"columns": [{"ordinal": 0, "name": "puuid", "type_info": "Varchar"}, {"ordinal": 1, "name": "account_id", "type_info": "Varchar"}, {"ordinal": 2, "name": "summoner_id", "type_info": "Varchar"}, {"ordinal": 3, "name": "summoner_name", "type_info": "Varchar"}, {"ordinal": 4, "name": "last_backfill_lol_time", "type_info": "Timestamptz"}, {"ordinal": 5, "name": "last_backfill_tft_time", "type_info": "Timestamptz"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, true, true, true, true, true]}}, "ebebe2b8cd84f2ec2590a5919729363221005eb6f65f35dce51167e0bbdeb385": {"query": "\n        SELECT\n            vmp.character_id,\n            vmp.competitive_tier,\n            vmt.won\n        FROM squadov.valorant_match_players AS vmp\n        INNER JOIN squadov.riot_account_links AS ral\n            ON ral.puuid = vmp.puuid\n        INNER JOIN squadov.valorant_match_teams AS vmt\n            ON vmt.team_id = vmp.team_id\n        WHERE vmp.match_uuid = $1\n            AND ral.user_id = $2\n        ", "describe": {"columns": [{"ordinal": 0, "name": "character_id", "type_info": "Varchar"}, {"ordinal": 1, "name": "competitive_tier", "type_info": "Int4"}, {"ordinal": 2, "name": "won", "type_info": "Bool"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [false, false, false]}}, "ec1f23a70e13b700b32944520ed3384298bd28615e20cb29379a8e8a928014db": {"query": "\n            DELETE FROM squadov.user_favorite_vods\n            WHERE video_uuid = $1 AND user_id = $2\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": []}}, "ec9d9cd11b630f7251a1a87e86cb522ac6a547c2d5e5b839a36b6848bbeda2ea": {"query": "\n            SELECT collection_uuid\n            FROM squadov.match_to_match_collection\n            WHERE match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "collection_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false]}}, "ed5d9798bea6f1cfd2252d5d9e26d38beb4378103cbea875366a92198e81fc8c": {"query": "\n            SELECT EXISTS(\n                SELECT 1\n                FROM squadov.hearthstone_match_view\n                WHERE match_uuid = $1\n                    AND user_id = $2\n            ) AS \"exists!\"\n            ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [null]}}, "eedb7e8c19da6206f88f883e56dfa92e198b9c202625417855fa2c9d605a27fc": {"query": "\n                INSERT INTO squadov.geo_ip_cache (\n                    ip_addr,\n                    cache_tm\n                )\n                VALUES (\n                    $1,\n                    NOW()\n                )\n                ", "describe": {"columns": [], "parameters": {"Left": ["Cidr"]}, "nullable": []}}, "ef9b25685f854a3650e0e2277455e11f6bbb5e08dd5f9056edb788df7c881cd8": {"query": "\n            SELECT EXISTS (\n                SELECT 1\n                FROM squadov.vods AS v\n                INNER JOIN squadov.users AS u\n                    ON u.uuid = v.user_uuid\n                INNER JOIN squadov.user_profile_vods AS upv\n                    ON upv.user_id = u.id\n                        AND upv.video_uuid = v.video_uuid\n                WHERE u.id = $1 AND v.match_uuid = $2\n                    AND v.is_clip = FALSE AND v.is_local = FALSE\n                    AND v.end_time IS NOT NULL\n            ) AS \"exists!\"\n            ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Uuid"]}, "nullable": [null]}}, "f0f495cd2a0291a3910db4d51f8be25d871cadcc0d242e89504a087e70ba84b4": {"query": "\n            INSERT INTO squadov.hearthstone_match_action_blobs (\n                match_uuid,\n                user_id,\n                actions_blob_uuid\n            )\n            VALUES (\n                $1,\n                $2,\n                $3\n            )\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8", "Uuid"]}, "nullable": []}}, "f16d8fed09ff938ea90a6fd024055ce38a89ce2f6e7a5f412a012778a1ed0b76": {"query": "\n                SELECT match_uuid\n                FROM squadov.vods\n                WHERE video_uuid = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Uuid"]}, "nullable": [true]}}, "f184d776afd7db74b2d21dd3dc13fd929169425ebd8b7cae8f2416bdcde6a3c6": {"query": "\n        SELECT u.uuid\n        FROM squadov.riot_accounts AS ra\n        INNER JOIN squadov.riot_account_links AS ral\n            ON ral.puuid = ra.puuid\n        INNER JOIN squadov.users AS u\n            ON u.id = ral.user_id\n        WHERE ra.puuid = $1\n            AND ra.summoner_name IS NOT NULL\n        ", "describe": {"columns": [{"ordinal": 0, "name": "uuid", "type_info": "Uuid"}], "parameters": {"Left": ["Text"]}, "nullable": [false]}}, "f1bfaf04e921291220a3f132cae59730c9d5883a80fb5faa300614ed400dbd15": {"query": "\n            INSERT INTO squadov.user_favorite_matches (\n                match_uuid,\n                user_id,\n                reason\n            )\n            VALUES (\n                $1,\n                $2,\n                $3\n            )\n            ON CONFLICT DO NOTHING\n            ", "describe": {"columns": [], "parameters": {"Left": ["Uuid", "Int8", "Varchar"]}, "nullable": []}}, "f2ed69a0725626679d0eccd5fdfb9848a4e07d8981a2b6acbdc2ce1bbcc4b084": {"query": "\n                INSERT INTO squadov.squads (\n                    squad_name,\n                    creation_time,\n                    is_default\n                )\n                VALUES (\n                    $1,\n                    $2,\n                    $3\n                )\n                RETURNING id\n                ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}], "parameters": {"Left": ["Varchar", "Timestamptz", "Bool"]}, "nullable": [false]}}, "f428be1688427f9947291a4ca5db35320f5618d095e4a959d57cce4e54f36919": {"query": "\n            SELECT\n                access_token AS \"access_token!\",\n                refresh_token AS \"refresh_token!\",\n                '' AS \"id_token?\",\n                (EXTRACT(EPOCH FROM access_expiration) - EXTRACT(EPOCH FROM NOW()))::INTEGER AS \"expires_in!\"\n            FROM squadov.twitch_accounts\n            WHERE twitch_user_id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "access_token!", "type_info": "Varchar"}, {"ordinal": 1, "name": "refresh_token!", "type_info": "Varchar"}, {"ordinal": 2, "name": "id_token?", "type_info": "Text"}, {"ordinal": 3, "name": "expires_in!", "type_info": "Int4"}], "parameters": {"Left": ["Text"]}, "nullable": [false, false, null, null]}}, "f4c816216bc5d245d6257616b0219f01c047cb5aea25390b0d8fd2d0c0497e53": {"query": "\n        DELETE FROM squadov.vods\n        WHERE video_uuid = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid"]}, "nullable": []}}, "f50c5ac94f3d32241a5da1fe7b41a8a4b61f67e8c2957aee8b13a222a4eac3fb": {"query": "\n        SELECT lmi.*\n        FROM squadov.lol_match_info AS lmi\n        WHERE lmi.match_uuid = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "game_id", "type_info": "Int8"}, {"ordinal": 2, "name": "platform_id", "type_info": "Varchar"}, {"ordinal": 3, "name": "queue_id", "type_info": "Int4"}, {"ordinal": 4, "name": "game_type", "type_info": "Varchar"}, {"ordinal": 5, "name": "game_duration", "type_info": "Int8"}, {"ordinal": 6, "name": "game_creation", "type_info": "Timestamptz"}, {"ordinal": 7, "name": "season_id", "type_info": "Int4"}, {"ordinal": 8, "name": "game_version", "type_info": "Varchar"}, {"ordinal": 9, "name": "map_id", "type_info": "Int4"}, {"ordinal": 10, "name": "game_mode", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false, false, false, false, false, false, false, false]}}, "f68e6b594e8d91b116c3f8b1cc521bd28e888140596c9011ce0f113a0b28da4c": {"query": "\n                    WITH user_squads AS (\n                        SELECT squad_id\n                        FROM squadov.squad_role_assignments\n                        WHERE user_id = any($1)\n                    )\n                    SELECT DISTINCT sra.user_id AS \"user_id\"\n                    FROM squadov.squad_role_assignments AS sra\n                    INNER JOIN user_squads AS us\n                        ON us.squad_id = sra.squad_id\n                    ", "describe": {"columns": [{"ordinal": 0, "name": "user_id", "type_info": "Int8"}], "parameters": {"Left": ["Int8Array"]}, "nullable": [false]}}, "f7f3bf2290c8ff1aa3e75b2258fae5ab4b68d8b8ea3a64c4e776fb1b4c534dc3": {"query": "\n            SELECT *\n            FROM squadov.vod_metadata\n            WHERE video_uuid = $1\n                AND id = $2\n            ", "describe": {"columns": [{"ordinal": 0, "name": "video_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "res_x", "type_info": "Int4"}, {"ordinal": 2, "name": "res_y", "type_info": "Int4"}, {"ordinal": 3, "name": "min_bitrate", "type_info": "Int8"}, {"ordinal": 4, "name": "avg_bitrate", "type_info": "Int8"}, {"ordinal": 5, "name": "max_bitrate", "type_info": "Int8"}, {"ordinal": 6, "name": "fps", "type_info": "Int4"}, {"ordinal": 7, "name": "id", "type_info": "Varchar"}, {"ordinal": 8, "name": "has_fastify", "type_info": "Bool"}, {"ordinal": 9, "name": "has_preview", "type_info": "Bool"}, {"ordinal": 10, "name": "bucket", "type_info": "Varchar"}, {"ordinal": 11, "name": "session_id", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid", "Text"]}, "nullable": [false, false, false, false, false, false, false, false, false, false, false, true]}}, "f81662ac34657b9bc905c6c640c6c5f89bc3474f1af395884f800d958a9ece2c": {"query": "\n            SELECT\n                encrypted_token AS \"data\",\n                iv,\n                aad,\n                tag\n            FROM squadov.share_tokens\n            WHERE id::VARCHAR = $1 OR friendly_name = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "data", "type_info": "Bytea"}, {"ordinal": 1, "name": "iv", "type_info": "Bytea"}, {"ordinal": 2, "name": "aad", "type_info": "Bytea"}, {"ordinal": 3, "name": "tag", "type_info": "Bytea"}], "parameters": {"Left": ["Text"]}, "nullable": [false, false, false, false]}}, "f883c4965c47b9cda09fd14cb8daf0a723a94fb52aee05682598cd80527f2de5": {"query": "\n        SELECT \n            player_name,\n            player_id,\n            entity_id\n        FROM squadov.hearthstone_snapshots_player_map\n        WHERE snapshot_id = $1\n        ", "describe": {"columns": [{"ordinal": 0, "name": "player_name", "type_info": "Varchar"}, {"ordinal": 1, "name": "player_id", "type_info": "Int4"}, {"ordinal": 2, "name": "entity_id", "type_info": "Int4"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false]}}, "f905001a3659fd9332735f6000c5431857f042fdbbd43411617e97486b5b96ff": {"query": "\n            SELECT EXISTS (\n                SELECT 1\n                FROM squadov.riot_accounts AS ra\n                INNER JOIN squadov.riot_account_links AS ral\n                    ON ral.puuid = ra.puuid\n                WHERE ra.puuid = $1\n                    AND ral.user_id = $2\n            ) AS \"exists!\"\n            ", "describe": {"columns": [{"ordinal": 0, "name": "exists!", "type_info": "Bool"}], "parameters": {"Left": ["Text", "Int8"]}, "nullable": [null]}}, "f9580aec5f2fa9933dce88aa8571282b8c90f7e6f78eecf2b6844b41acb3a9cd": {"query": "\n            INSERT INTO squadov.community_roles (\n                community_id,\n                name,\n                can_manage,\n                can_moderate,\n                can_invite,\n                can_share,\n                is_default\n            )\n            VALUES (\n                $1,\n                $2,\n                $3,\n                $4,\n                $5,\n                $6,\n                $7\n            )\n            RETURNING *\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "community_id", "type_info": "Int8"}, {"ordinal": 2, "name": "name", "type_info": "Varchar"}, {"ordinal": 3, "name": "can_manage", "type_info": "Bool"}, {"ordinal": 4, "name": "can_moderate", "type_info": "Bool"}, {"ordinal": 5, "name": "can_invite", "type_info": "Bool"}, {"ordinal": 6, "name": "can_share", "type_info": "Bool"}, {"ordinal": 7, "name": "is_default", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Varchar", "Bool", "Bool", "Bool", "Bool", "Bool"]}, "nullable": [false, false, false, false, false, false, false, false]}}, "f96082f7aca519f16513cd15dcb366b950c61dedfd457605a22e41468eade333": {"query": "\n            SELECT\n                title,\n                description,\n                published\n            FROM squadov.vod_clips\n            WHERE clip_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "title", "type_info": "Varchar"}, {"ordinal": 1, "name": "description", "type_info": "Varchar"}, {"ordinal": 2, "name": "published", "type_info": "Bool"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false]}}, "f9e8defb29c01f5a838c20917c171cdeca0c290ccd6d6d95bdde09c90134ed94": {"query": "\n        DELETE FROM squadov.user_autosharing_settings\n        WHERE id = $1 AND source_user_id = $2\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": []}}, "fa31ad592b9c49b72b6d85578696145e3b07234e17f9fe687d60cc74178d52ad": {"query": "\n            INSERT INTO squadov.user_event_record (\n                user_id,\n                event_name,\n                tm\n            )\n            SELECT inp.id, $2, NOW()\n            FROM UNNEST($1::BIGINT[]) AS inp(id)\n            ON CONFLICT DO NOTHING\n            ", "describe": {"columns": [], "parameters": {"Left": ["Int8Array", "Varchar"]}, "nullable": []}}, "fa5821a5568329cea12c28a54007922421c40c0cae962031e4faa19311ec2d4e": {"query": "\n            SELECT lmp.*, lmpi.puuid, lmpi.summoner_name, lmpi.summoner_id\n            FROM squadov.lol_match_participants AS lmp\n            INNER JOIN squadov.lol_match_participant_identities AS lmpi\n                ON lmpi.match_uuid = lmp.match_uuid\n                    AND lmpi.participant_id = lmp.participant_id\n            WHERE lmp.match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "participant_id", "type_info": "Int4"}, {"ordinal": 2, "name": "champion_id", "type_info": "Int4"}, {"ordinal": 3, "name": "team_id", "type_info": "Int4"}, {"ordinal": 4, "name": "spell1_id", "type_info": "Int4"}, {"ordinal": 5, "name": "spell2_id", "type_info": "Int4"}, {"ordinal": 6, "name": "champ_level", "type_info": "Int4"}, {"ordinal": 7, "name": "win", "type_info": "Bool"}, {"ordinal": 8, "name": "kills", "type_info": "Int4"}, {"ordinal": 9, "name": "deaths", "type_info": "Int4"}, {"ordinal": 10, "name": "assists", "type_info": "Int4"}, {"ordinal": 11, "name": "item0", "type_info": "Int4"}, {"ordinal": 12, "name": "item1", "type_info": "Int4"}, {"ordinal": 13, "name": "item2", "type_info": "Int4"}, {"ordinal": 14, "name": "item3", "type_info": "Int4"}, {"ordinal": 15, "name": "item4", "type_info": "Int4"}, {"ordinal": 16, "name": "item5", "type_info": "Int4"}, {"ordinal": 17, "name": "item6", "type_info": "Int4"}, {"ordinal": 18, "name": "double_kills", "type_info": "Int4"}, {"ordinal": 19, "name": "triple_kills", "type_info": "Int4"}, {"ordinal": 20, "name": "quadra_kills", "type_info": "Int4"}, {"ordinal": 21, "name": "penta_kills", "type_info": "Int4"}, {"ordinal": 22, "name": "first_blood_kill", "type_info": "Bool"}, {"ordinal": 23, "name": "gold_earned", "type_info": "Int4"}, {"ordinal": 24, "name": "gold_spent", "type_info": "Int4"}, {"ordinal": 25, "name": "neutral_minions_killed_team_jungle", "type_info": "Int4"}, {"ordinal": 26, "name": "neutral_minions_killed_enemy_jungle", "type_info": "Int4"}, {"ordinal": 27, "name": "wards_killed", "type_info": "Int4"}, {"ordinal": 28, "name": "wards_placed", "type_info": "Int4"}, {"ordinal": 29, "name": "vision_wards_bought_in_game", "type_info": "Int4"}, {"ordinal": 30, "name": "sight_wards_bought_in_game", "type_info": "Int4"}, {"ordinal": 31, "name": "neutral_minions_kills", "type_info": "Int4"}, {"ordinal": 32, "name": "total_minions_killed", "type_info": "Int4"}, {"ordinal": 33, "name": "damage_dealt_to_objectives", "type_info": "Int8"}, {"ordinal": 34, "name": "inhibitor_kills", "type_info": "Int4"}, {"ordinal": 35, "name": "turret_kills", "type_info": "Int4"}, {"ordinal": 36, "name": "damage_dealt_to_turrets", "type_info": "Int8"}, {"ordinal": 37, "name": "total_player_score", "type_info": "Int4"}, {"ordinal": 38, "name": "total_score_rank", "type_info": "Int4"}, {"ordinal": 39, "name": "objective_player_score", "type_info": "Int4"}, {"ordinal": 40, "name": "combat_player_score", "type_info": "Int4"}, {"ordinal": 41, "name": "vision_score", "type_info": "Int8"}, {"ordinal": 42, "name": "total_damage_dealt_to_champions", "type_info": "Int8"}, {"ordinal": 43, "name": "physical_damage_dealt_to_champions", "type_info": "Int8"}, {"ordinal": 44, "name": "magic_damage_dealt_to_champions", "type_info": "Int8"}, {"ordinal": 45, "name": "true_damage_dealt_to_champions", "type_info": "Int8"}, {"ordinal": 46, "name": "total_damage_dealt", "type_info": "Int8"}, {"ordinal": 47, "name": "physical_damage_dealt", "type_info": "Int8"}, {"ordinal": 48, "name": "magic_damage_dealt", "type_info": "Int8"}, {"ordinal": 49, "name": "true_damage_dealt", "type_info": "Int8"}, {"ordinal": 50, "name": "total_damage_taken", "type_info": "Int8"}, {"ordinal": 51, "name": "physical_damage_taken", "type_info": "Int8"}, {"ordinal": 52, "name": "magical_damage_taken", "type_info": "Int8"}, {"ordinal": 53, "name": "true_damage_taken", "type_info": "Int8"}, {"ordinal": 54, "name": "total_heal", "type_info": "Int8"}, {"ordinal": 55, "name": "damage_self_mitigated", "type_info": "Int8"}, {"ordinal": 56, "name": "lane", "type_info": "Varchar"}, {"ordinal": 57, "name": "puuid", "type_info": "Varchar"}, {"ordinal": 58, "name": "summoner_name", "type_info": "Varchar"}, {"ordinal": 59, "name": "summoner_id", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, true, true]}}, "fa9934f1aceebce4f4a395e4e9cdab43b061ce0ffded088b184d3ff37ce27fc9": {"query": "\n        SELECT\n            lmi.match_uuid,\n            lmi.game_creation,\n            lmi.game_duration,\n            lmi.game_type,\n            lmi.queue_id,\n            lmi.season_id,\n            lmi.map_id,\n            lmi.game_mode,\n            lmi.game_version,\n            lmpi.participant_id AS \"current_participant_id!\",\n            (vod.video_uuid IS NOT NULL) AS \"has_vod!\",\n            u.uuid AS \"user_uuid!\"\n        FROM UNNEST($1::UUID[], $2::UUID[]) AS inp(match_uuid, user_uuid)\n        INNER JOIN squadov.lol_match_info AS lmi\n            ON lmi.match_uuid = inp.match_uuid\n        INNER JOIN squadov.lol_match_participant_identities AS lmpi\n            ON lmpi.match_uuid = lmi.match_uuid\n        INNER JOIN squadov.riot_accounts AS ra\n            ON ra.summoner_id = lmpi.summoner_id\n        INNER JOIN squadov.riot_account_links AS ral\n            ON ral.puuid = ra.puuid\n        INNER JOIN squadov.users AS u\n            ON u.id = ral.user_id\n                AND u.uuid = inp.user_uuid\n        LEFT JOIN squadov.vods AS vod\n            ON vod.match_uuid = lmi.match_uuid\n                AND vod.user_uuid = u.uuid\n                AND vod.is_clip = FALSE\n        ORDER BY lmi.game_creation DESC\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "game_creation", "type_info": "Timestamptz"}, {"ordinal": 2, "name": "game_duration", "type_info": "Int8"}, {"ordinal": 3, "name": "game_type", "type_info": "Varchar"}, {"ordinal": 4, "name": "queue_id", "type_info": "Int4"}, {"ordinal": 5, "name": "season_id", "type_info": "Int4"}, {"ordinal": 6, "name": "map_id", "type_info": "Int4"}, {"ordinal": 7, "name": "game_mode", "type_info": "Varchar"}, {"ordinal": 8, "name": "game_version", "type_info": "Varchar"}, {"ordinal": 9, "name": "current_participant_id!", "type_info": "Int4"}, {"ordinal": 10, "name": "has_vod!", "type_info": "Bool"}, {"ordinal": 11, "name": "user_uuid!", "type_info": "Uuid"}], "parameters": {"Left": ["UuidArray", "UuidArray"]}, "nullable": [false, false, false, false, false, false, false, false, false, false, null, false]}}, "fb2b360b1da75f12dfd71100b3cc3decc5f8e5d1fb107797a4295020b865f05a": {"query": "\n        INSERT INTO squadov.riot_accounts (\n            puuid,\n            game_name,\n            tag_line\n        )\n        VALUES (\n            $1,\n            $2,\n            $3\n        )\n        ON CONFLICT (puuid) DO UPDATE\n            SET game_name = EXCLUDED.game_name,\n                tag_line = EXCLUDED.tag_line\n        ", "describe": {"columns": [], "parameters": {"Left": ["Varchar", "Varchar", "Varchar"]}, "nullable": []}}, "fb9da5dc0b45f09937238ea1ab04900a9e5ac321f0034a597f138ac97caa2f0e": {"query": "\n            SELECT shard\n            FROM squadov.valorant_match_uuid_link\n            WHERE match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "shard", "type_info": "Varchar"}], "parameters": {"Left": ["Uuid"]}, "nullable": [true]}}, "fbf1cf86b2dde5b9806a9ab318ea820f35b0af1844f094cfa1d5ad2751a20787": {"query": "\n        UPDATE squadov.community_invites\n        SET num_uses = num_uses + 1\n        WHERE code = $1\n        ", "describe": {"columns": [], "parameters": {"Left": ["Uuid"]}, "nullable": []}}, "fc25cca502b81ff77fe48da9eda18668d6df196d072b2050a3cc46707752749d": {"query": "\n            SELECT\n                vmul.match_id,\n                vmul.match_uuid,\n                vm.server_start_time_utc,\n                vm.game_mode,\n                vm.map_id,\n                vm.is_ranked,\n                vm.provisioning_flow_id,\n                vmp.character_id,\n                vmt.won,\n                vmt.rounds_won,\n                (\n                    SELECT MAX(rounds_won)\n                    FROM squadov.valorant_match_teams\n                    WHERE team_id != vmp.team_id\n                        AND match_uuid = vm.match_uuid\n                ) AS \"rounds_lost!\",\n                (\n                    SELECT COUNT(puuid) + 1\n                    FROM squadov.valorant_match_players\n                    WHERE match_uuid = vm.match_uuid\n                        AND total_combat_score > vmp.total_combat_score\n                ) AS \"combat_score_rank!\",\n                vvpms.competitive_tier AS \"competitive_tier!\",\n                vvpms.kills AS \"kills!\",\n                vvpms.deaths AS \"deaths!\",\n                vvpms.assists AS \"assists!\",\n                vvpms.rounds_played AS \"rounds_played!\",\n                vvpms.total_combat_score AS \"total_combat_score!\",\n                COALESCE(vvpms.total_damage, 0) AS \"total_damage!\",\n                COALESCE(vvpms.headshots, 0) AS \"headshots!\",\n                COALESCE(vvpms.bodyshots, 0) AS \"bodyshots!\",\n                COALESCE(vvpms.legshots, 0) AS \"legshots!\",\n                inp.user_uuid AS \"user_uuid!\",\n                vmp.puuid AS \"puuid!\"\n            FROM UNNEST($1::UUID[], $2::UUID[]) AS inp(match_uuid, user_uuid)\n            INNER JOIN squadov.valorant_matches AS vm\n                ON vm.match_uuid = inp.match_uuid\n            INNER JOIN squadov.users AS u\n                ON u.uuid = inp.user_uuid\n            INNER JOIN squadov.riot_account_links AS ral\n                ON ral.user_id = u.id\n            INNER JOIN squadov.valorant_match_players AS vmp\n                ON vmp.match_uuid = vm.match_uuid\n                    AND vmp.puuid = ral.puuid\n            INNER JOIN squadov.valorant_match_teams AS vmt\n                ON vmt.team_id = vmp.team_id\n                    AND vmt.match_uuid = vm.match_uuid\n            CROSS JOIN LATERAL (\n                SELECT\n                    vmp2.match_uuid,\n                    vmp2.puuid,\n                    vmp2.competitive_tier,\n                    vmp2.kills,\n                    vmp2.deaths,\n                    vmp2.assists,\n                    vmp2.rounds_played,\n                    vmp2.total_combat_score,\n                    COALESCE(SUM(vmd2.damage), 0) AS \"total_damage\",\n                    COALESCE(SUM(vmd2.headshots), 0) AS \"headshots\",\n                    COALESCE(SUM(vmd2.bodyshots), 0) AS \"bodyshots\",\n                    COALESCE(SUM(vmd2.legshots), 0) AS \"legshots\",\n                    vmt2.won\n                FROM squadov.valorant_match_players AS vmp2\n                INNER JOIN squadov.valorant_match_teams AS vmt2\n                    ON vmt2.match_uuid = vmp2.match_uuid AND vmt2.team_id = vmp2.team_id\n                LEFT JOIN squadov.valorant_match_damage AS vmd2\n                    ON vmd2.instigator_puuid = vmp.puuid AND vmd2.match_uuid = vmp2.match_uuid\n                WHERE vmp2.match_uuid = vmp.match_uuid AND vmp2.puuid = vmp.puuid\n                GROUP BY vmp2.match_uuid, vmp2.puuid, vmt2.won\n            ) AS vvpms\n            INNER JOIN squadov.valorant_match_uuid_link AS vmul\n                ON vmul.match_uuid = vm.match_uuid\n            ORDER BY vm.server_start_time_utc DESC\n            ", "describe": {"columns": [{"ordinal": 0, "name": "match_id", "type_info": "Varchar"}, {"ordinal": 1, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 2, "name": "server_start_time_utc", "type_info": "Timestamptz"}, {"ordinal": 3, "name": "game_mode", "type_info": "Varchar"}, {"ordinal": 4, "name": "map_id", "type_info": "Varchar"}, {"ordinal": 5, "name": "is_ranked", "type_info": "Bool"}, {"ordinal": 6, "name": "provisioning_flow_id", "type_info": "Varchar"}, {"ordinal": 7, "name": "character_id", "type_info": "Varchar"}, {"ordinal": 8, "name": "won", "type_info": "Bool"}, {"ordinal": 9, "name": "rounds_won", "type_info": "Int4"}, {"ordinal": 10, "name": "rounds_lost!", "type_info": "Int4"}, {"ordinal": 11, "name": "combat_score_rank!", "type_info": "Int8"}, {"ordinal": 12, "name": "competitive_tier!", "type_info": "Int4"}, {"ordinal": 13, "name": "kills!", "type_info": "Int4"}, {"ordinal": 14, "name": "deaths!", "type_info": "Int4"}, {"ordinal": 15, "name": "assists!", "type_info": "Int4"}, {"ordinal": 16, "name": "rounds_played!", "type_info": "Int4"}, {"ordinal": 17, "name": "total_combat_score!", "type_info": "Int4"}, {"ordinal": 18, "name": "total_damage!", "type_info": "Int8"}, {"ordinal": 19, "name": "headshots!", "type_info": "Int8"}, {"ordinal": 20, "name": "bodyshots!", "type_info": "Int8"}, {"ordinal": 21, "name": "legshots!", "type_info": "Int8"}, {"ordinal": 22, "name": "user_uuid!", "type_info": "Uuid"}, {"ordinal": 23, "name": "puuid!", "type_info": "Varchar"}], "parameters": {"Left": ["UuidArray", "UuidArray"]}, "nullable": [false, false, true, true, true, true, true, false, false, false, null, null, false, false, false, false, false, false, null, null, null, null, null, false]}}, "fd417dd3f4128bd417d0b368045adc1cd4cac5a98aebbad533d68c68a929aa9b": {"query": "\n                SELECT code AS \"code!\"\n                FROM squadov.referral_codes\n                WHERE user_id = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "code!", "type_info": "Varchar"}], "parameters": {"Left": ["Int8"]}, "nullable": [false]}}, "fd57d7a1407f1ce82a8b5b61810545c0307d41aec4993e5601752e6a0cf8a22b": {"query": "\n            SELECT *\n            FROM squadov.vod_metadata\n            WHERE video_uuid = ANY($1)\n            ", "describe": {"columns": [{"ordinal": 0, "name": "video_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "res_x", "type_info": "Int4"}, {"ordinal": 2, "name": "res_y", "type_info": "Int4"}, {"ordinal": 3, "name": "min_bitrate", "type_info": "Int8"}, {"ordinal": 4, "name": "avg_bitrate", "type_info": "Int8"}, {"ordinal": 5, "name": "max_bitrate", "type_info": "Int8"}, {"ordinal": 6, "name": "fps", "type_info": "Int4"}, {"ordinal": 7, "name": "id", "type_info": "Varchar"}, {"ordinal": 8, "name": "has_fastify", "type_info": "Bool"}, {"ordinal": 9, "name": "has_preview", "type_info": "Bool"}, {"ordinal": 10, "name": "bucket", "type_info": "Varchar"}, {"ordinal": 11, "name": "session_id", "type_info": "Varchar"}], "parameters": {"Left": ["UuidArray"]}, "nullable": [false, false, false, false, false, false, false, false, false, false, false, true]}}, "fd60296fba56b0703c27d24eccb30f4b1d6146f2e1852f0ee75e40be4facb2f6": {"query": "\n        DELETE FROM squadov.user_autosharing_settings_games AS asg \n        USING squadov.user_autosharing_settings AS uas\n        WHERE uas.id = asg.id\n            AND asg.id = $1\n            AND uas.source_user_id = $2\n        ", "describe": {"columns": [], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": []}}, "fe07b2146c2a9f0463c6a7a5b47d9dee5f084c90fb6d912197ac432ee612f864": {"query": "\n        SELECT\n            lmp.match_uuid,\n            lmp.participant_id,\n            lmp.champion_id,\n            lmpi.summoner_name,\n            lmp.team_id,\n            lmp.kills,\n            lmp.deaths,\n            lmp.assists,\n            lmp.total_damage_dealt_to_champions,\n            lmp.total_minions_killed,\n            lmp.wards_placed,\n            lmp.lane,\n            lmp.win\n        FROM squadov.lol_match_participants AS lmp\n        LEFT JOIN squadov.lol_match_participant_identities AS lmpi\n            ON lmpi.participant_id = lmp.participant_id\n                AND lmpi.match_uuid = lmp.match_uuid\n        LEFT JOIN squadov.riot_accounts AS ra\n            ON ra.summoner_id = lmpi.summoner_id\n        WHERE lmp.match_uuid = ANY($1)\n        ", "describe": {"columns": [{"ordinal": 0, "name": "match_uuid", "type_info": "Uuid"}, {"ordinal": 1, "name": "participant_id", "type_info": "Int4"}, {"ordinal": 2, "name": "champion_id", "type_info": "Int4"}, {"ordinal": 3, "name": "summoner_name", "type_info": "Varchar"}, {"ordinal": 4, "name": "team_id", "type_info": "Int4"}, {"ordinal": 5, "name": "kills", "type_info": "Int4"}, {"ordinal": 6, "name": "deaths", "type_info": "Int4"}, {"ordinal": 7, "name": "assists", "type_info": "Int4"}, {"ordinal": 8, "name": "total_damage_dealt_to_champions", "type_info": "Int8"}, {"ordinal": 9, "name": "total_minions_killed", "type_info": "Int4"}, {"ordinal": 10, "name": "wards_placed", "type_info": "Int4"}, {"ordinal": 11, "name": "lane", "type_info": "Varchar"}, {"ordinal": 12, "name": "win", "type_info": "Bool"}], "parameters": {"Left": ["UuidArray"]}, "nullable": [false, false, false, true, false, false, false, false, false, false, false, false, false]}}, "fe62119618f42abbe843b950f2993a9cd5f9963423db1e16f177eaf3d4f28d23": {"query": "\n            SELECT cr.*\n            FROM squadov.community_roles AS cr\n            INNER JOIN squadov.community_member_roles AS cmr\n                ON cmr.role_id = cr.id\n            INNER JOIN squadov.community_membership AS cm\n                ON cm.id = cmr.membership_id\n            WHERE cr.community_id = $1\n                AND cm.user_id = $2\n                AND cm.community_id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "community_id", "type_info": "Int8"}, {"ordinal": 2, "name": "name", "type_info": "Varchar"}, {"ordinal": 3, "name": "can_manage", "type_info": "Bool"}, {"ordinal": 4, "name": "can_moderate", "type_info": "Bool"}, {"ordinal": 5, "name": "can_invite", "type_info": "Bool"}, {"ordinal": 6, "name": "can_share", "type_info": "Bool"}, {"ordinal": 7, "name": "is_default", "type_info": "Bool"}], "parameters": {"Left": ["Int8", "Int8"]}, "nullable": [false, false, false, false, false, false, false, false]}}, "fece3834d30c19dd88caf3a85e6363b8bd97855760d6c334f8997a5c818c16cd": {"query": "\n            SELECT\n                round_num,\n                killer_puuid,\n                victim_puuid,\n                time_since_game_start_millis,\n                time_since_round_start_millis,\n                damage_type,\n                damage_item,\n                is_secondary_fire,\n                assistants\n            FROM squadov.valorant_match_kill\n            WHERE match_uuid = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "round_num", "type_info": "Int4"}, {"ordinal": 1, "name": "killer_puuid", "type_info": "Varchar"}, {"ordinal": 2, "name": "victim_puuid", "type_info": "Varchar"}, {"ordinal": 3, "name": "time_since_game_start_millis", "type_info": "Int4"}, {"ordinal": 4, "name": "time_since_round_start_millis", "type_info": "Int4"}, {"ordinal": 5, "name": "damage_type", "type_info": "Varchar"}, {"ordinal": 6, "name": "damage_item", "type_info": "Varchar"}, {"ordinal": 7, "name": "is_secondary_fire", "type_info": "Bool"}, {"ordinal": 8, "name": "assistants", "type_info": "VarcharArray"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, true, false, false, false, false, false, false, true]}}, "fee65c64780628cdcb4174dd2c680de9b100e33381446e20e66348cdacb667b0": {"query": "\n        SELECT\n            hmp.user_id,\n            hmp.player_match_id,\n            hmp.player_name,\n            hmp.card_back_id,\n            hmp.arena_wins,\n            hmp.arena_loss,\n            hmp.tavern_brawl_wins,\n            hmp.tavern_brawl_loss,\n            hmp.battlegrounds_rating,\n            hmp.duels_casual_rating,\n            hmp.duels_heroic_rating\n        FROM squadov.hearthstone_match_players AS hmp\n        INNER JOIN squadov.hearthstone_match_view AS hmv\n            ON hmv.view_uuid = hmp.view_uuid\n        WHERE hmv.match_uuid = $1 AND hmv.user_id = $2\n        ", "describe": {"columns": [{"ordinal": 0, "name": "user_id", "type_info": "Int8"}, {"ordinal": 1, "name": "player_match_id", "type_info": "Int4"}, {"ordinal": 2, "name": "player_name", "type_info": "Varchar"}, {"ordinal": 3, "name": "card_back_id", "type_info": "Int4"}, {"ordinal": 4, "name": "arena_wins", "type_info": "Int4"}, {"ordinal": 5, "name": "arena_loss", "type_info": "Int4"}, {"ordinal": 6, "name": "tavern_brawl_wins", "type_info": "Int4"}, {"ordinal": 7, "name": "tavern_brawl_loss", "type_info": "Int4"}, {"ordinal": 8, "name": "battlegrounds_rating", "type_info": "Int4"}, {"ordinal": 9, "name": "duels_casual_rating", "type_info": "Int4"}, {"ordinal": 10, "name": "duels_heroic_rating", "type_info": "Int4"}], "parameters": {"Left": ["Uuid", "Int8"]}, "nullable": [true, false, false, false, false, false, false, false, true, true, true]}}, "ff1713339f66140ab427e91934c91342b76ff6bd2d25d4ce49256f11f7fa61ba": {"query": "\n                SELECT\n                    wde.event_id,\n                    dest.unit_guid AS \"guid\",\n                    COALESCE(dest.unit_name, dest.unit_guid) AS \"name!\",\n                    COALESCE(wve.dest_flags, dest.flags) AS \"flags!\",\n                    wve.tm\n                FROM squadov.wow_match_view_death_events AS wde\n                INNER JOIN squadov.wow_match_view_events AS wve\n                    ON wve.event_id = wde.event_id\n                INNER JOIN squadov.wow_match_view_character_presence AS dest\n                    ON dest.character_id = wve.dest_char\n                INNER JOIN squadov.wow_match_view AS wmv\n                    ON wmv.alt_id = wve.view_id\n                WHERE wmv.id = $1\n                ORDER BY wve.tm ASC\n                ", "describe": {"columns": [{"ordinal": 0, "name": "event_id", "type_info": "Int8"}, {"ordinal": 1, "name": "guid", "type_info": "Varchar"}, {"ordinal": 2, "name": "name!", "type_info": "Varchar"}, {"ordinal": 3, "name": "flags!", "type_info": "Int8"}, {"ordinal": 4, "name": "tm", "type_info": "Timestamptz"}], "parameters": {"Left": ["Uuid"]}, "nullable": [false, false, null, null, false]}}, "ff201915e07c73675bec9c63a00c68815014d42541b855f873859cb76e881707": {"query": "\n                SELECT rc.code AS \"code!\"\n                FROM squadov.user_referral_code_usage AS rcu\n                INNER JOIN squadov.referral_codes AS rc\n                    ON rc.id = rcu.code_id\n                INNER JOIN squadov.users AS u\n                    ON u.email = rcu.email\n                WHERE u.id = $1\n                ", "describe": {"columns": [{"ordinal": 0, "name": "code!", "type_info": "Varchar"}], "parameters": {"Left": ["Int8"]}, "nullable": [false]}}, "ff6013ccd29a1895665ab15ed9c299e1b89184ae4290f3d78e6dfcc0eabaf047": {"query": "\n            SELECT *\n            FROM squadov.user_profiles\n            WHERE user_id = $1\n            ", "describe": {"columns": [{"ordinal": 0, "name": "user_id", "type_info": "Int8"}, {"ordinal": 1, "name": "link_slug", "type_info": "Varchar"}, {"ordinal": 2, "name": "display_name", "type_info": "Varchar"}, {"ordinal": 3, "name": "description", "type_info": "Varchar"}, {"ordinal": 4, "name": "achievement_access", "type_info": "Int4"}, {"ordinal": 5, "name": "match_access", "type_info": "Int4"}, {"ordinal": 6, "name": "facebook", "type_info": "Varchar"}, {"ordinal": 7, "name": "instagram", "type_info": "Varchar"}, {"ordinal": 8, "name": "twitch", "type_info": "Varchar"}, {"ordinal": 9, "name": "youtube", "type_info": "Varchar"}, {"ordinal": 10, "name": "snapchat", "type_info": "Varchar"}, {"ordinal": 11, "name": "twitter", "type_info": "Varchar"}, {"ordinal": 12, "name": "tiktok", "type_info": "Varchar"}, {"ordinal": 13, "name": "misc_access", "type_info": "Int4"}, {"ordinal": 14, "name": "profile_picture_blob", "type_info": "Uuid"}, {"ordinal": 15, "name": "cover_picture_blob", "type_info": "Uuid"}], "parameters": {"Left": ["Int8"]}, "nullable": [false, false, false, false, false, false, true, true, true, true, true, true, true, false, true, true]}}, "378a3b827c5fbd60be6b2711ab87f3cef81d2b96dd48281f09510470b9f28efb": {"query": "\n            SELECT DISTINCT\n                u.id,\n                u.username,\n                u.email,\n                u.verified,\n                u.uuid,\n                u.is_test,\n                u.is_admin,\n                u.welcome_sent,\n                u.registration_time\n            FROM squadov.users AS u\n            LEFT JOIN squadov.daily_active_sessions AS das\n                ON das.user_id = u.id\n                    AND das.tm >= (NOW() - INTERVAL '14 day')\n            LEFT JOIN squadov.user_event_record AS uer\n                ON uer.user_id = u.id\n                    AND uer.event_name = 'inactive_14'\n            WHERE uer.user_id IS NULL\n                AND das.user_id IS NULL\n            ", "describe": {"columns": [{"ordinal": 0, "name": "id", "type_info": "Int8"}, {"ordinal": 1, "name": "username", "type_info": "Varchar"}, {"ordinal": 2, "name": "email", "type_info": "Varchar"}, {"ordinal": 3, "name": "verified", "type_info": "Bool"}, {"ordinal": 4, "name": "uuid", "type_info": "Uuid"}, {"ordinal": 5, "name": "is_test", "type_info": "Bool"}, {"ordinal": 6, "name": "is_admin", "type_info": "Bool"}, {"ordinal": 7, "name": "welcome_sent", "type_info": "Bool"}, {"ordinal": 8, "name": "registration_time", "type_info": "Timestamptz"}], "parameters": {"Left": []}, "nullable": [false, false, false, false, false, false, false, false, true]}}, "c283f7bbde35517614e0992ec8c8082abb3f1fd4d9ba4f081b2cfe3a5e23e81a": {"query": "\n                SELECT clip_uuid\n                FROM squadov.vod_clips\n                WHERE NOT published\n                    AND tm < (NOW() - INTERVAL '1 day')\n                ", "describe": {"columns": [{"ordinal": 0, "name": "clip_uuid", "type_info": "Uuid"}], "parameters": {"Left": []}, "nullable": [false]}}}